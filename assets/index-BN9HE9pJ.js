(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const u of s)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&i(f)}).observe(document,{childList:!0,subtree:!0});function o(s){const u={};return s.integrity&&(u.integrity=s.integrity),s.referrerPolicy&&(u.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?u.credentials="include":s.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function i(s){if(s.ep)return;s.ep=!0;const u=o(s);fetch(s.href,u)}})();function gp(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Bl={exports:{}},dr={},Ol={exports:{}},xe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xd;function mg(){if(xd)return xe;xd=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),T=Symbol.iterator;function S(A){return A===null||typeof A!="object"?null:(A=T&&A[T]||A["@@iterator"],typeof A=="function"?A:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,I={};function R(A,b,te){this.props=A,this.context=b,this.refs=I,this.updater=te||C}R.prototype.isReactComponent={},R.prototype.setState=function(A,b){if(typeof A!="object"&&typeof A!="function"&&A!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,A,b,"setState")},R.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};function L(){}L.prototype=R.prototype;function G(A,b,te){this.props=A,this.context=b,this.refs=I,this.updater=te||C}var H=G.prototype=new L;H.constructor=G,k(H,R.prototype),H.isPureReactComponent=!0;var z=Array.isArray,U=Object.prototype.hasOwnProperty,oe={current:null},re={key:!0,ref:!0,__self:!0,__source:!0};function fe(A,b,te){var W,Y={},se=null,ue=null;if(b!=null)for(W in b.ref!==void 0&&(ue=b.ref),b.key!==void 0&&(se=""+b.key),b)U.call(b,W)&&!re.hasOwnProperty(W)&&(Y[W]=b[W]);var K=arguments.length-2;if(K===1)Y.children=te;else if(1<K){for(var ye=Array(K),Re=0;Re<K;Re++)ye[Re]=arguments[Re+2];Y.children=ye}if(A&&A.defaultProps)for(W in K=A.defaultProps,K)Y[W]===void 0&&(Y[W]=K[W]);return{$$typeof:t,type:A,key:se,ref:ue,props:Y,_owner:oe.current}}function ee(A,b){return{$$typeof:t,type:A.type,key:b,ref:A.ref,props:A.props,_owner:A._owner}}function Q(A){return typeof A=="object"&&A!==null&&A.$$typeof===t}function me(A){var b={"=":"=0",":":"=2"};return"$"+A.replace(/[=:]/g,function(te){return b[te]})}var Se=/\/+/g;function Ee(A,b){return typeof A=="object"&&A!==null&&A.key!=null?me(""+A.key):b.toString(36)}function ke(A,b,te,W,Y){var se=typeof A;(se==="undefined"||se==="boolean")&&(A=null);var ue=!1;if(A===null)ue=!0;else switch(se){case"string":case"number":ue=!0;break;case"object":switch(A.$$typeof){case t:case e:ue=!0}}if(ue)return ue=A,Y=Y(ue),A=W===""?"."+Ee(ue,0):W,z(Y)?(te="",A!=null&&(te=A.replace(Se,"$&/")+"/"),ke(Y,b,te,"",function(Re){return Re})):Y!=null&&(Q(Y)&&(Y=ee(Y,te+(!Y.key||ue&&ue.key===Y.key?"":(""+Y.key).replace(Se,"$&/")+"/")+A)),b.push(Y)),1;if(ue=0,W=W===""?".":W+":",z(A))for(var K=0;K<A.length;K++){se=A[K];var ye=W+Ee(se,K);ue+=ke(se,b,te,ye,Y)}else if(ye=S(A),typeof ye=="function")for(A=ye.call(A),K=0;!(se=A.next()).done;)se=se.value,ye=W+Ee(se,K++),ue+=ke(se,b,te,ye,Y);else if(se==="object")throw b=String(A),Error("Objects are not valid as a React child (found: "+(b==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":b)+"). If you meant to render a collection of children, use an array instead.");return ue}function Be(A,b,te){if(A==null)return A;var W=[],Y=0;return ke(A,W,"","",function(se){return b.call(te,se,Y++)}),W}function Ue(A){if(A._status===-1){var b=A._result;b=b(),b.then(function(te){(A._status===0||A._status===-1)&&(A._status=1,A._result=te)},function(te){(A._status===0||A._status===-1)&&(A._status=2,A._result=te)}),A._status===-1&&(A._status=0,A._result=b)}if(A._status===1)return A._result.default;throw A._result}var Ne={current:null},J={transition:null},O={ReactCurrentDispatcher:Ne,ReactCurrentBatchConfig:J,ReactCurrentOwner:oe};function q(){throw Error("act(...) is not supported in production builds of React.")}return xe.Children={map:Be,forEach:function(A,b,te){Be(A,function(){b.apply(this,arguments)},te)},count:function(A){var b=0;return Be(A,function(){b++}),b},toArray:function(A){return Be(A,function(b){return b})||[]},only:function(A){if(!Q(A))throw Error("React.Children.only expected to receive a single React element child.");return A}},xe.Component=R,xe.Fragment=o,xe.Profiler=s,xe.PureComponent=G,xe.StrictMode=i,xe.Suspense=v,xe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,xe.act=q,xe.cloneElement=function(A,b,te){if(A==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+A+".");var W=k({},A.props),Y=A.key,se=A.ref,ue=A._owner;if(b!=null){if(b.ref!==void 0&&(se=b.ref,ue=oe.current),b.key!==void 0&&(Y=""+b.key),A.type&&A.type.defaultProps)var K=A.type.defaultProps;for(ye in b)U.call(b,ye)&&!re.hasOwnProperty(ye)&&(W[ye]=b[ye]===void 0&&K!==void 0?K[ye]:b[ye])}var ye=arguments.length-2;if(ye===1)W.children=te;else if(1<ye){K=Array(ye);for(var Re=0;Re<ye;Re++)K[Re]=arguments[Re+2];W.children=K}return{$$typeof:t,type:A.type,key:Y,ref:se,props:W,_owner:ue}},xe.createContext=function(A){return A={$$typeof:f,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},A.Provider={$$typeof:u,_context:A},A.Consumer=A},xe.createElement=fe,xe.createFactory=function(A){var b=fe.bind(null,A);return b.type=A,b},xe.createRef=function(){return{current:null}},xe.forwardRef=function(A){return{$$typeof:p,render:A}},xe.isValidElement=Q,xe.lazy=function(A){return{$$typeof:y,_payload:{_status:-1,_result:A},_init:Ue}},xe.memo=function(A,b){return{$$typeof:g,type:A,compare:b===void 0?null:b}},xe.startTransition=function(A){var b=J.transition;J.transition={};try{A()}finally{J.transition=b}},xe.unstable_act=q,xe.useCallback=function(A,b){return Ne.current.useCallback(A,b)},xe.useContext=function(A){return Ne.current.useContext(A)},xe.useDebugValue=function(){},xe.useDeferredValue=function(A){return Ne.current.useDeferredValue(A)},xe.useEffect=function(A,b){return Ne.current.useEffect(A,b)},xe.useId=function(){return Ne.current.useId()},xe.useImperativeHandle=function(A,b,te){return Ne.current.useImperativeHandle(A,b,te)},xe.useInsertionEffect=function(A,b){return Ne.current.useInsertionEffect(A,b)},xe.useLayoutEffect=function(A,b){return Ne.current.useLayoutEffect(A,b)},xe.useMemo=function(A,b){return Ne.current.useMemo(A,b)},xe.useReducer=function(A,b,te){return Ne.current.useReducer(A,b,te)},xe.useRef=function(A){return Ne.current.useRef(A)},xe.useState=function(A){return Ne.current.useState(A)},xe.useSyncExternalStore=function(A,b,te){return Ne.current.useSyncExternalStore(A,b,te)},xe.useTransition=function(){return Ne.current.useTransition()},xe.version="18.3.1",xe}var Sd;function ma(){return Sd||(Sd=1,Ol.exports=mg()),Ol.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Td;function gg(){if(Td)return dr;Td=1;var t=ma(),e=Symbol.for("react.element"),o=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,s=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function f(p,v,g){var y,T={},S=null,C=null;g!==void 0&&(S=""+g),v.key!==void 0&&(S=""+v.key),v.ref!==void 0&&(C=v.ref);for(y in v)i.call(v,y)&&!u.hasOwnProperty(y)&&(T[y]=v[y]);if(p&&p.defaultProps)for(y in v=p.defaultProps,v)T[y]===void 0&&(T[y]=v[y]);return{$$typeof:e,type:p,key:S,ref:C,props:T,_owner:s.current}}return dr.Fragment=o,dr.jsx=f,dr.jsxs=f,dr}var Ed;function vg(){return Ed||(Ed=1,Bl.exports=gg()),Bl.exports}var m=vg(),Z=ma();const yg=gp(Z);var wi={},ql={exports:{}},yt={},$l={exports:{}},Jl={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cd;function xg(){return Cd||(Cd=1,(function(t){function e(J,O){var q=J.length;J.push(O);e:for(;0<q;){var A=q-1>>>1,b=J[A];if(0<s(b,O))J[A]=O,J[q]=b,q=A;else break e}}function o(J){return J.length===0?null:J[0]}function i(J){if(J.length===0)return null;var O=J[0],q=J.pop();if(q!==O){J[0]=q;e:for(var A=0,b=J.length,te=b>>>1;A<te;){var W=2*(A+1)-1,Y=J[W],se=W+1,ue=J[se];if(0>s(Y,q))se<b&&0>s(ue,Y)?(J[A]=ue,J[se]=q,A=se):(J[A]=Y,J[W]=q,A=W);else if(se<b&&0>s(ue,q))J[A]=ue,J[se]=q,A=se;else break e}}return O}function s(J,O){var q=J.sortIndex-O.sortIndex;return q!==0?q:J.id-O.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;t.unstable_now=function(){return u.now()}}else{var f=Date,p=f.now();t.unstable_now=function(){return f.now()-p}}var v=[],g=[],y=1,T=null,S=3,C=!1,k=!1,I=!1,R=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,G=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function H(J){for(var O=o(g);O!==null;){if(O.callback===null)i(g);else if(O.startTime<=J)i(g),O.sortIndex=O.expirationTime,e(v,O);else break;O=o(g)}}function z(J){if(I=!1,H(J),!k)if(o(v)!==null)k=!0,Ue(U);else{var O=o(g);O!==null&&Ne(z,O.startTime-J)}}function U(J,O){k=!1,I&&(I=!1,L(fe),fe=-1),C=!0;var q=S;try{for(H(O),T=o(v);T!==null&&(!(T.expirationTime>O)||J&&!me());){var A=T.callback;if(typeof A=="function"){T.callback=null,S=T.priorityLevel;var b=A(T.expirationTime<=O);O=t.unstable_now(),typeof b=="function"?T.callback=b:T===o(v)&&i(v),H(O)}else i(v);T=o(v)}if(T!==null)var te=!0;else{var W=o(g);W!==null&&Ne(z,W.startTime-O),te=!1}return te}finally{T=null,S=q,C=!1}}var oe=!1,re=null,fe=-1,ee=5,Q=-1;function me(){return!(t.unstable_now()-Q<ee)}function Se(){if(re!==null){var J=t.unstable_now();Q=J;var O=!0;try{O=re(!0,J)}finally{O?Ee():(oe=!1,re=null)}}else oe=!1}var Ee;if(typeof G=="function")Ee=function(){G(Se)};else if(typeof MessageChannel<"u"){var ke=new MessageChannel,Be=ke.port2;ke.port1.onmessage=Se,Ee=function(){Be.postMessage(null)}}else Ee=function(){R(Se,0)};function Ue(J){re=J,oe||(oe=!0,Ee())}function Ne(J,O){fe=R(function(){J(t.unstable_now())},O)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(J){J.callback=null},t.unstable_continueExecution=function(){k||C||(k=!0,Ue(U))},t.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ee=0<J?Math.floor(1e3/J):5},t.unstable_getCurrentPriorityLevel=function(){return S},t.unstable_getFirstCallbackNode=function(){return o(v)},t.unstable_next=function(J){switch(S){case 1:case 2:case 3:var O=3;break;default:O=S}var q=S;S=O;try{return J()}finally{S=q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(J,O){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var q=S;S=J;try{return O()}finally{S=q}},t.unstable_scheduleCallback=function(J,O,q){var A=t.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?A+q:A):q=A,J){case 1:var b=-1;break;case 2:b=250;break;case 5:b=1073741823;break;case 4:b=1e4;break;default:b=5e3}return b=q+b,J={id:y++,callback:O,priorityLevel:J,startTime:q,expirationTime:b,sortIndex:-1},q>A?(J.sortIndex=q,e(g,J),o(v)===null&&J===o(g)&&(I?(L(fe),fe=-1):I=!0,Ne(z,q-A))):(J.sortIndex=b,e(v,J),k||C||(k=!0,Ue(U))),J},t.unstable_shouldYield=me,t.unstable_wrapCallback=function(J){var O=S;return function(){var q=S;S=O;try{return J.apply(this,arguments)}finally{S=q}}}})(Jl)),Jl}var wd;function Sg(){return wd||(wd=1,$l.exports=xg()),$l.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _d;function Tg(){if(_d)return yt;_d=1;var t=ma(),e=Sg();function o(n){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+n,l=1;l<arguments.length;l++)r+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+n+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,s={};function u(n,r){f(n,r),f(n+"Capture",r)}function f(n,r){for(s[n]=r,n=0;n<r.length;n++)i.add(r[n])}var p=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),v=Object.prototype.hasOwnProperty,g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},T={};function S(n){return v.call(T,n)?!0:v.call(y,n)?!1:g.test(n)?T[n]=!0:(y[n]=!0,!1)}function C(n,r,l,d){if(l!==null&&l.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return d?!1:l!==null?!l.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function k(n,r,l,d){if(r===null||typeof r>"u"||C(n,r,l,d))return!0;if(d)return!1;if(l!==null)switch(l.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function I(n,r,l,d,h,x,E){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=d,this.attributeNamespace=h,this.mustUseProperty=l,this.propertyName=n,this.type=r,this.sanitizeURL=x,this.removeEmptyString=E}var R={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){R[n]=new I(n,0,!1,n,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var r=n[0];R[r]=new I(r,1,!1,n[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(n){R[n]=new I(n,2,!1,n.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){R[n]=new I(n,2,!1,n,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){R[n]=new I(n,3,!1,n.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(n){R[n]=new I(n,3,!0,n,null,!1,!1)}),["capture","download"].forEach(function(n){R[n]=new I(n,4,!1,n,null,!1,!1)}),["cols","rows","size","span"].forEach(function(n){R[n]=new I(n,6,!1,n,null,!1,!1)}),["rowSpan","start"].forEach(function(n){R[n]=new I(n,5,!1,n.toLowerCase(),null,!1,!1)});var L=/[\-:]([a-z])/g;function G(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var r=n.replace(L,G);R[r]=new I(r,1,!1,n,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var r=n.replace(L,G);R[r]=new I(r,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(n){var r=n.replace(L,G);R[r]=new I(r,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(n){R[n]=new I(n,1,!1,n.toLowerCase(),null,!1,!1)}),R.xlinkHref=new I("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(n){R[n]=new I(n,1,!1,n.toLowerCase(),null,!0,!0)});function H(n,r,l,d){var h=R.hasOwnProperty(r)?R[r]:null;(h!==null?h.type!==0:d||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(k(r,l,h,d)&&(l=null),d||h===null?S(r)&&(l===null?n.removeAttribute(r):n.setAttribute(r,""+l)):h.mustUseProperty?n[h.propertyName]=l===null?h.type===3?!1:"":l:(r=h.attributeName,d=h.attributeNamespace,l===null?n.removeAttribute(r):(h=h.type,l=h===3||h===4&&l===!0?"":""+l,d?n.setAttributeNS(d,r,l):n.setAttribute(r,l))))}var z=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,U=Symbol.for("react.element"),oe=Symbol.for("react.portal"),re=Symbol.for("react.fragment"),fe=Symbol.for("react.strict_mode"),ee=Symbol.for("react.profiler"),Q=Symbol.for("react.provider"),me=Symbol.for("react.context"),Se=Symbol.for("react.forward_ref"),Ee=Symbol.for("react.suspense"),ke=Symbol.for("react.suspense_list"),Be=Symbol.for("react.memo"),Ue=Symbol.for("react.lazy"),Ne=Symbol.for("react.offscreen"),J=Symbol.iterator;function O(n){return n===null||typeof n!="object"?null:(n=J&&n[J]||n["@@iterator"],typeof n=="function"?n:null)}var q=Object.assign,A;function b(n){if(A===void 0)try{throw Error()}catch(l){var r=l.stack.trim().match(/\n( *(at )?)/);A=r&&r[1]||""}return`
`+A+n}var te=!1;function W(n,r){if(!n||te)return"";te=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(D){var d=D}Reflect.construct(n,[],r)}else{try{r.call()}catch(D){d=D}n.call(r.prototype)}else{try{throw Error()}catch(D){d=D}n()}}catch(D){if(D&&d&&typeof D.stack=="string"){for(var h=D.stack.split(`
`),x=d.stack.split(`
`),E=h.length-1,w=x.length-1;1<=E&&0<=w&&h[E]!==x[w];)w--;for(;1<=E&&0<=w;E--,w--)if(h[E]!==x[w]){if(E!==1||w!==1)do if(E--,w--,0>w||h[E]!==x[w]){var _=`
`+h[E].replace(" at new "," at ");return n.displayName&&_.includes("<anonymous>")&&(_=_.replace("<anonymous>",n.displayName)),_}while(1<=E&&0<=w);break}}}finally{te=!1,Error.prepareStackTrace=l}return(n=n?n.displayName||n.name:"")?b(n):""}function Y(n){switch(n.tag){case 5:return b(n.type);case 16:return b("Lazy");case 13:return b("Suspense");case 19:return b("SuspenseList");case 0:case 2:case 15:return n=W(n.type,!1),n;case 11:return n=W(n.type.render,!1),n;case 1:return n=W(n.type,!0),n;default:return""}}function se(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case re:return"Fragment";case oe:return"Portal";case ee:return"Profiler";case fe:return"StrictMode";case Ee:return"Suspense";case ke:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case me:return(n.displayName||"Context")+".Consumer";case Q:return(n._context.displayName||"Context")+".Provider";case Se:var r=n.render;return n=n.displayName,n||(n=r.displayName||r.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case Be:return r=n.displayName||null,r!==null?r:se(n.type)||"Memo";case Ue:r=n._payload,n=n._init;try{return se(n(r))}catch{}}return null}function ue(n){var r=n.type;switch(n.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=r.render,n=n.displayName||n.name||"",r.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return se(r);case 8:return r===fe?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function K(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function ye(n){var r=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Re(n){var r=ye(n)?"checked":"value",l=Object.getOwnPropertyDescriptor(n.constructor.prototype,r),d=""+n[r];if(!n.hasOwnProperty(r)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,x=l.set;return Object.defineProperty(n,r,{configurable:!0,get:function(){return h.call(this)},set:function(E){d=""+E,x.call(this,E)}}),Object.defineProperty(n,r,{enumerable:l.enumerable}),{getValue:function(){return d},setValue:function(E){d=""+E},stopTracking:function(){n._valueTracker=null,delete n[r]}}}}function et(n){n._valueTracker||(n._valueTracker=Re(n))}function Ce(n){if(!n)return!1;var r=n._valueTracker;if(!r)return!0;var l=r.getValue(),d="";return n&&(d=ye(n)?n.checked?"true":"false":n.value),n=d,n!==l?(r.setValue(n),!0):!1}function Te(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function He(n,r){var l=r.checked;return q({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??n._wrapperState.initialChecked})}function _o(n,r){var l=r.defaultValue==null?"":r.defaultValue,d=r.checked!=null?r.checked:r.defaultChecked;l=K(r.value!=null?r.value:l),n._wrapperState={initialChecked:d,initialValue:l,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function tt(n,r){r=r.checked,r!=null&&H(n,"checked",r,!1)}function xt(n,r){tt(n,r);var l=K(r.value),d=r.type;if(l!=null)d==="number"?(l===0&&n.value===""||n.value!=l)&&(n.value=""+l):n.value!==""+l&&(n.value=""+l);else if(d==="submit"||d==="reset"){n.removeAttribute("value");return}r.hasOwnProperty("value")?On(n,r.type,l):r.hasOwnProperty("defaultValue")&&On(n,r.type,K(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(n.defaultChecked=!!r.defaultChecked)}function Je(n,r,l){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var d=r.type;if(!(d!=="submit"&&d!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+n._wrapperState.initialValue,l||r===n.value||(n.value=r),n.defaultValue=r}l=n.name,l!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,l!==""&&(n.name=l)}function On(n,r,l){(r!=="number"||Te(n.ownerDocument)!==n)&&(l==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+l&&(n.defaultValue=""+l))}var No=Array.isArray;function qn(n,r,l,d){if(n=n.options,r){r={};for(var h=0;h<l.length;h++)r["$"+l[h]]=!0;for(l=0;l<n.length;l++)h=r.hasOwnProperty("$"+n[l].value),n[l].selected!==h&&(n[l].selected=h),h&&d&&(n[l].defaultSelected=!0)}else{for(l=""+K(l),r=null,h=0;h<n.length;h++){if(n[h].value===l){n[h].selected=!0,d&&(n[h].defaultSelected=!0);return}r!==null||n[h].disabled||(r=n[h])}r!==null&&(r.selected=!0)}}function Xi(n,r){if(r.dangerouslySetInnerHTML!=null)throw Error(o(91));return q({},r,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function ka(n,r){var l=r.value;if(l==null){if(l=r.children,r=r.defaultValue,l!=null){if(r!=null)throw Error(o(92));if(No(l)){if(1<l.length)throw Error(o(93));l=l[0]}r=l}r==null&&(r=""),l=r}n._wrapperState={initialValue:K(l)}}function Ra(n,r){var l=K(r.value),d=K(r.defaultValue);l!=null&&(l=""+l,l!==n.value&&(n.value=l),r.defaultValue==null&&n.defaultValue!==l&&(n.defaultValue=l)),d!=null&&(n.defaultValue=""+d)}function Pa(n){var r=n.textContent;r===n._wrapperState.initialValue&&r!==""&&r!==null&&(n.value=r)}function Ma(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Zi(n,r){return n==null||n==="http://www.w3.org/1999/xhtml"?Ma(r):n==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var gr,Da=(function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,l,d,h){MSApp.execUnsafeLocalFunction(function(){return n(r,l,d,h)})}:n})(function(n,r){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=r;else{for(gr=gr||document.createElement("div"),gr.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=gr.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;r.firstChild;)n.appendChild(r.firstChild)}});function Io(n,r){if(r){var l=n.firstChild;if(l&&l===n.lastChild&&l.nodeType===3){l.nodeValue=r;return}}n.textContent=r}var Ao={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},xh=["Webkit","ms","Moz","O"];Object.keys(Ao).forEach(function(n){xh.forEach(function(r){r=r+n.charAt(0).toUpperCase()+n.substring(1),Ao[r]=Ao[n]})});function La(n,r,l){return r==null||typeof r=="boolean"||r===""?"":l||typeof r!="number"||r===0||Ao.hasOwnProperty(n)&&Ao[n]?(""+r).trim():r+"px"}function ba(n,r){n=n.style;for(var l in r)if(r.hasOwnProperty(l)){var d=l.indexOf("--")===0,h=La(l,r[l],d);l==="float"&&(l="cssFloat"),d?n.setProperty(l,h):n[l]=h}}var Sh=q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function es(n,r){if(r){if(Sh[n]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(o(137,n));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(o(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(o(61))}if(r.style!=null&&typeof r.style!="object")throw Error(o(62))}}function ts(n,r){if(n.indexOf("-")===-1)return typeof r.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ns=null;function os(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var rs=null,$n=null,Jn=null;function Ua(n){if(n=jo(n)){if(typeof rs!="function")throw Error(o(280));var r=n.stateNode;r&&(r=Vr(r),rs(n.stateNode,n.type,r))}}function Fa(n){$n?Jn?Jn.push(n):Jn=[n]:$n=n}function Ga(){if($n){var n=$n,r=Jn;if(Jn=$n=null,Ua(n),r)for(n=0;n<r.length;n++)Ua(r[n])}}function Va(n,r){return n(r)}function Ha(){}var is=!1;function za(n,r,l){if(is)return n(r,l);is=!0;try{return Va(n,r,l)}finally{is=!1,($n!==null||Jn!==null)&&(Ha(),Ga())}}function ko(n,r){var l=n.stateNode;if(l===null)return null;var d=Vr(l);if(d===null)return null;l=d[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(n=n.type,d=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!d;break e;default:n=!1}if(n)return null;if(l&&typeof l!="function")throw Error(o(231,r,typeof l));return l}var ss=!1;if(p)try{var Ro={};Object.defineProperty(Ro,"passive",{get:function(){ss=!0}}),window.addEventListener("test",Ro,Ro),window.removeEventListener("test",Ro,Ro)}catch{ss=!1}function Th(n,r,l,d,h,x,E,w,_){var D=Array.prototype.slice.call(arguments,3);try{r.apply(l,D)}catch(V){this.onError(V)}}var Po=!1,vr=null,yr=!1,ls=null,Eh={onError:function(n){Po=!0,vr=n}};function Ch(n,r,l,d,h,x,E,w,_){Po=!1,vr=null,Th.apply(Eh,arguments)}function wh(n,r,l,d,h,x,E,w,_){if(Ch.apply(this,arguments),Po){if(Po){var D=vr;Po=!1,vr=null}else throw Error(o(198));yr||(yr=!0,ls=D)}}function Nn(n){var r=n,l=n;if(n.alternate)for(;r.return;)r=r.return;else{n=r;do r=n,(r.flags&4098)!==0&&(l=r.return),n=r.return;while(n)}return r.tag===3?l:null}function Ba(n){if(n.tag===13){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function Oa(n){if(Nn(n)!==n)throw Error(o(188))}function _h(n){var r=n.alternate;if(!r){if(r=Nn(n),r===null)throw Error(o(188));return r!==n?null:n}for(var l=n,d=r;;){var h=l.return;if(h===null)break;var x=h.alternate;if(x===null){if(d=h.return,d!==null){l=d;continue}break}if(h.child===x.child){for(x=h.child;x;){if(x===l)return Oa(h),n;if(x===d)return Oa(h),r;x=x.sibling}throw Error(o(188))}if(l.return!==d.return)l=h,d=x;else{for(var E=!1,w=h.child;w;){if(w===l){E=!0,l=h,d=x;break}if(w===d){E=!0,d=h,l=x;break}w=w.sibling}if(!E){for(w=x.child;w;){if(w===l){E=!0,l=x,d=h;break}if(w===d){E=!0,d=x,l=h;break}w=w.sibling}if(!E)throw Error(o(189))}}if(l.alternate!==d)throw Error(o(190))}if(l.tag!==3)throw Error(o(188));return l.stateNode.current===l?n:r}function qa(n){return n=_h(n),n!==null?$a(n):null}function $a(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var r=$a(n);if(r!==null)return r;n=n.sibling}return null}var Ja=e.unstable_scheduleCallback,Wa=e.unstable_cancelCallback,Nh=e.unstable_shouldYield,Ih=e.unstable_requestPaint,Oe=e.unstable_now,Ah=e.unstable_getCurrentPriorityLevel,as=e.unstable_ImmediatePriority,Ya=e.unstable_UserBlockingPriority,xr=e.unstable_NormalPriority,kh=e.unstable_LowPriority,Ka=e.unstable_IdlePriority,Sr=null,Bt=null;function Rh(n){if(Bt&&typeof Bt.onCommitFiberRoot=="function")try{Bt.onCommitFiberRoot(Sr,n,void 0,(n.current.flags&128)===128)}catch{}}var Mt=Math.clz32?Math.clz32:Dh,Ph=Math.log,Mh=Math.LN2;function Dh(n){return n>>>=0,n===0?32:31-(Ph(n)/Mh|0)|0}var Tr=64,Er=4194304;function Mo(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function Cr(n,r){var l=n.pendingLanes;if(l===0)return 0;var d=0,h=n.suspendedLanes,x=n.pingedLanes,E=l&268435455;if(E!==0){var w=E&~h;w!==0?d=Mo(w):(x&=E,x!==0&&(d=Mo(x)))}else E=l&~h,E!==0?d=Mo(E):x!==0&&(d=Mo(x));if(d===0)return 0;if(r!==0&&r!==d&&(r&h)===0&&(h=d&-d,x=r&-r,h>=x||h===16&&(x&4194240)!==0))return r;if((d&4)!==0&&(d|=l&16),r=n.entangledLanes,r!==0)for(n=n.entanglements,r&=d;0<r;)l=31-Mt(r),h=1<<l,d|=n[l],r&=~h;return d}function Lh(n,r){switch(n){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bh(n,r){for(var l=n.suspendedLanes,d=n.pingedLanes,h=n.expirationTimes,x=n.pendingLanes;0<x;){var E=31-Mt(x),w=1<<E,_=h[E];_===-1?((w&l)===0||(w&d)!==0)&&(h[E]=Lh(w,r)):_<=r&&(n.expiredLanes|=w),x&=~w}}function us(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function ja(){var n=Tr;return Tr<<=1,(Tr&4194240)===0&&(Tr=64),n}function cs(n){for(var r=[],l=0;31>l;l++)r.push(n);return r}function Do(n,r,l){n.pendingLanes|=r,r!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,r=31-Mt(r),n[r]=l}function Uh(n,r){var l=n.pendingLanes&~r;n.pendingLanes=r,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=r,n.mutableReadLanes&=r,n.entangledLanes&=r,r=n.entanglements;var d=n.eventTimes;for(n=n.expirationTimes;0<l;){var h=31-Mt(l),x=1<<h;r[h]=0,d[h]=-1,n[h]=-1,l&=~x}}function ds(n,r){var l=n.entangledLanes|=r;for(n=n.entanglements;l;){var d=31-Mt(l),h=1<<d;h&r|n[d]&r&&(n[d]|=r),l&=~h}}var Pe=0;function Qa(n){return n&=-n,1<n?4<n?(n&268435455)!==0?16:536870912:4:1}var Xa,fs,Za,eu,tu,ps=!1,wr=[],sn=null,ln=null,an=null,Lo=new Map,bo=new Map,un=[],Fh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function nu(n,r){switch(n){case"focusin":case"focusout":sn=null;break;case"dragenter":case"dragleave":ln=null;break;case"mouseover":case"mouseout":an=null;break;case"pointerover":case"pointerout":Lo.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":bo.delete(r.pointerId)}}function Uo(n,r,l,d,h,x){return n===null||n.nativeEvent!==x?(n={blockedOn:r,domEventName:l,eventSystemFlags:d,nativeEvent:x,targetContainers:[h]},r!==null&&(r=jo(r),r!==null&&fs(r)),n):(n.eventSystemFlags|=d,r=n.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),n)}function Gh(n,r,l,d,h){switch(r){case"focusin":return sn=Uo(sn,n,r,l,d,h),!0;case"dragenter":return ln=Uo(ln,n,r,l,d,h),!0;case"mouseover":return an=Uo(an,n,r,l,d,h),!0;case"pointerover":var x=h.pointerId;return Lo.set(x,Uo(Lo.get(x)||null,n,r,l,d,h)),!0;case"gotpointercapture":return x=h.pointerId,bo.set(x,Uo(bo.get(x)||null,n,r,l,d,h)),!0}return!1}function ou(n){var r=In(n.target);if(r!==null){var l=Nn(r);if(l!==null){if(r=l.tag,r===13){if(r=Ba(l),r!==null){n.blockedOn=r,tu(n.priority,function(){Za(l)});return}}else if(r===3&&l.stateNode.current.memoizedState.isDehydrated){n.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}n.blockedOn=null}function _r(n){if(n.blockedOn!==null)return!1;for(var r=n.targetContainers;0<r.length;){var l=ms(n.domEventName,n.eventSystemFlags,r[0],n.nativeEvent);if(l===null){l=n.nativeEvent;var d=new l.constructor(l.type,l);ns=d,l.target.dispatchEvent(d),ns=null}else return r=jo(l),r!==null&&fs(r),n.blockedOn=l,!1;r.shift()}return!0}function ru(n,r,l){_r(n)&&l.delete(r)}function Vh(){ps=!1,sn!==null&&_r(sn)&&(sn=null),ln!==null&&_r(ln)&&(ln=null),an!==null&&_r(an)&&(an=null),Lo.forEach(ru),bo.forEach(ru)}function Fo(n,r){n.blockedOn===r&&(n.blockedOn=null,ps||(ps=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Vh)))}function Go(n){function r(h){return Fo(h,n)}if(0<wr.length){Fo(wr[0],n);for(var l=1;l<wr.length;l++){var d=wr[l];d.blockedOn===n&&(d.blockedOn=null)}}for(sn!==null&&Fo(sn,n),ln!==null&&Fo(ln,n),an!==null&&Fo(an,n),Lo.forEach(r),bo.forEach(r),l=0;l<un.length;l++)d=un[l],d.blockedOn===n&&(d.blockedOn=null);for(;0<un.length&&(l=un[0],l.blockedOn===null);)ou(l),l.blockedOn===null&&un.shift()}var Wn=z.ReactCurrentBatchConfig,Nr=!0;function Hh(n,r,l,d){var h=Pe,x=Wn.transition;Wn.transition=null;try{Pe=1,hs(n,r,l,d)}finally{Pe=h,Wn.transition=x}}function zh(n,r,l,d){var h=Pe,x=Wn.transition;Wn.transition=null;try{Pe=4,hs(n,r,l,d)}finally{Pe=h,Wn.transition=x}}function hs(n,r,l,d){if(Nr){var h=ms(n,r,l,d);if(h===null)Ms(n,r,d,Ir,l),nu(n,d);else if(Gh(h,n,r,l,d))d.stopPropagation();else if(nu(n,d),r&4&&-1<Fh.indexOf(n)){for(;h!==null;){var x=jo(h);if(x!==null&&Xa(x),x=ms(n,r,l,d),x===null&&Ms(n,r,d,Ir,l),x===h)break;h=x}h!==null&&d.stopPropagation()}else Ms(n,r,d,null,l)}}var Ir=null;function ms(n,r,l,d){if(Ir=null,n=os(d),n=In(n),n!==null)if(r=Nn(n),r===null)n=null;else if(l=r.tag,l===13){if(n=Ba(r),n!==null)return n;n=null}else if(l===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;n=null}else r!==n&&(n=null);return Ir=n,null}function iu(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ah()){case as:return 1;case Ya:return 4;case xr:case kh:return 16;case Ka:return 536870912;default:return 16}default:return 16}}var cn=null,gs=null,Ar=null;function su(){if(Ar)return Ar;var n,r=gs,l=r.length,d,h="value"in cn?cn.value:cn.textContent,x=h.length;for(n=0;n<l&&r[n]===h[n];n++);var E=l-n;for(d=1;d<=E&&r[l-d]===h[x-d];d++);return Ar=h.slice(n,1<d?1-d:void 0)}function kr(n){var r=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&r===13&&(n=13)):n=r,n===10&&(n=13),32<=n||n===13?n:0}function Rr(){return!0}function lu(){return!1}function St(n){function r(l,d,h,x,E){this._reactName=l,this._targetInst=h,this.type=d,this.nativeEvent=x,this.target=E,this.currentTarget=null;for(var w in n)n.hasOwnProperty(w)&&(l=n[w],this[w]=l?l(x):x[w]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?Rr:lu,this.isPropagationStopped=lu,this}return q(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Rr)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Rr)},persist:function(){},isPersistent:Rr}),r}var Yn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vs=St(Yn),Vo=q({},Yn,{view:0,detail:0}),Bh=St(Vo),ys,xs,Ho,Pr=q({},Vo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ts,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Ho&&(Ho&&n.type==="mousemove"?(ys=n.screenX-Ho.screenX,xs=n.screenY-Ho.screenY):xs=ys=0,Ho=n),ys)},movementY:function(n){return"movementY"in n?n.movementY:xs}}),au=St(Pr),Oh=q({},Pr,{dataTransfer:0}),qh=St(Oh),$h=q({},Vo,{relatedTarget:0}),Ss=St($h),Jh=q({},Yn,{animationName:0,elapsedTime:0,pseudoElement:0}),Wh=St(Jh),Yh=q({},Yn,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Kh=St(Yh),jh=q({},Yn,{data:0}),uu=St(jh),Qh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Xh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Zh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function em(n){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(n):(n=Zh[n])?!!r[n]:!1}function Ts(){return em}var tm=q({},Vo,{key:function(n){if(n.key){var r=Qh[n.key]||n.key;if(r!=="Unidentified")return r}return n.type==="keypress"?(n=kr(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Xh[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ts,charCode:function(n){return n.type==="keypress"?kr(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?kr(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),nm=St(tm),om=q({},Pr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cu=St(om),rm=q({},Vo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ts}),im=St(rm),sm=q({},Yn,{propertyName:0,elapsedTime:0,pseudoElement:0}),lm=St(sm),am=q({},Pr,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),um=St(am),cm=[9,13,27,32],Es=p&&"CompositionEvent"in window,zo=null;p&&"documentMode"in document&&(zo=document.documentMode);var dm=p&&"TextEvent"in window&&!zo,du=p&&(!Es||zo&&8<zo&&11>=zo),fu=" ",pu=!1;function hu(n,r){switch(n){case"keyup":return cm.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function mu(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Kn=!1;function fm(n,r){switch(n){case"compositionend":return mu(r);case"keypress":return r.which!==32?null:(pu=!0,fu);case"textInput":return n=r.data,n===fu&&pu?null:n;default:return null}}function pm(n,r){if(Kn)return n==="compositionend"||!Es&&hu(n,r)?(n=su(),Ar=gs=cn=null,Kn=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return du&&r.locale!=="ko"?null:r.data;default:return null}}var hm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gu(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r==="input"?!!hm[n.type]:r==="textarea"}function vu(n,r,l,d){Fa(d),r=Ur(r,"onChange"),0<r.length&&(l=new vs("onChange","change",null,l,d),n.push({event:l,listeners:r}))}var Bo=null,Oo=null;function mm(n){bu(n,0)}function Mr(n){var r=eo(n);if(Ce(r))return n}function gm(n,r){if(n==="change")return r}var yu=!1;if(p){var Cs;if(p){var ws="oninput"in document;if(!ws){var xu=document.createElement("div");xu.setAttribute("oninput","return;"),ws=typeof xu.oninput=="function"}Cs=ws}else Cs=!1;yu=Cs&&(!document.documentMode||9<document.documentMode)}function Su(){Bo&&(Bo.detachEvent("onpropertychange",Tu),Oo=Bo=null)}function Tu(n){if(n.propertyName==="value"&&Mr(Oo)){var r=[];vu(r,Oo,n,os(n)),za(mm,r)}}function vm(n,r,l){n==="focusin"?(Su(),Bo=r,Oo=l,Bo.attachEvent("onpropertychange",Tu)):n==="focusout"&&Su()}function ym(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Mr(Oo)}function xm(n,r){if(n==="click")return Mr(r)}function Sm(n,r){if(n==="input"||n==="change")return Mr(r)}function Tm(n,r){return n===r&&(n!==0||1/n===1/r)||n!==n&&r!==r}var Dt=typeof Object.is=="function"?Object.is:Tm;function qo(n,r){if(Dt(n,r))return!0;if(typeof n!="object"||n===null||typeof r!="object"||r===null)return!1;var l=Object.keys(n),d=Object.keys(r);if(l.length!==d.length)return!1;for(d=0;d<l.length;d++){var h=l[d];if(!v.call(r,h)||!Dt(n[h],r[h]))return!1}return!0}function Eu(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Cu(n,r){var l=Eu(n);n=0;for(var d;l;){if(l.nodeType===3){if(d=n+l.textContent.length,n<=r&&d>=r)return{node:l,offset:r-n};n=d}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Eu(l)}}function wu(n,r){return n&&r?n===r?!0:n&&n.nodeType===3?!1:r&&r.nodeType===3?wu(n,r.parentNode):"contains"in n?n.contains(r):n.compareDocumentPosition?!!(n.compareDocumentPosition(r)&16):!1:!1}function _u(){for(var n=window,r=Te();r instanceof n.HTMLIFrameElement;){try{var l=typeof r.contentWindow.location.href=="string"}catch{l=!1}if(l)n=r.contentWindow;else break;r=Te(n.document)}return r}function _s(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r&&(r==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||r==="textarea"||n.contentEditable==="true")}function Em(n){var r=_u(),l=n.focusedElem,d=n.selectionRange;if(r!==l&&l&&l.ownerDocument&&wu(l.ownerDocument.documentElement,l)){if(d!==null&&_s(l)){if(r=d.start,n=d.end,n===void 0&&(n=r),"selectionStart"in l)l.selectionStart=r,l.selectionEnd=Math.min(n,l.value.length);else if(n=(r=l.ownerDocument||document)&&r.defaultView||window,n.getSelection){n=n.getSelection();var h=l.textContent.length,x=Math.min(d.start,h);d=d.end===void 0?x:Math.min(d.end,h),!n.extend&&x>d&&(h=d,d=x,x=h),h=Cu(l,x);var E=Cu(l,d);h&&E&&(n.rangeCount!==1||n.anchorNode!==h.node||n.anchorOffset!==h.offset||n.focusNode!==E.node||n.focusOffset!==E.offset)&&(r=r.createRange(),r.setStart(h.node,h.offset),n.removeAllRanges(),x>d?(n.addRange(r),n.extend(E.node,E.offset)):(r.setEnd(E.node,E.offset),n.addRange(r)))}}for(r=[],n=l;n=n.parentNode;)n.nodeType===1&&r.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<r.length;l++)n=r[l],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var Cm=p&&"documentMode"in document&&11>=document.documentMode,jn=null,Ns=null,$o=null,Is=!1;function Nu(n,r,l){var d=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Is||jn==null||jn!==Te(d)||(d=jn,"selectionStart"in d&&_s(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),$o&&qo($o,d)||($o=d,d=Ur(Ns,"onSelect"),0<d.length&&(r=new vs("onSelect","select",null,r,l),n.push({event:r,listeners:d}),r.target=jn)))}function Dr(n,r){var l={};return l[n.toLowerCase()]=r.toLowerCase(),l["Webkit"+n]="webkit"+r,l["Moz"+n]="moz"+r,l}var Qn={animationend:Dr("Animation","AnimationEnd"),animationiteration:Dr("Animation","AnimationIteration"),animationstart:Dr("Animation","AnimationStart"),transitionend:Dr("Transition","TransitionEnd")},As={},Iu={};p&&(Iu=document.createElement("div").style,"AnimationEvent"in window||(delete Qn.animationend.animation,delete Qn.animationiteration.animation,delete Qn.animationstart.animation),"TransitionEvent"in window||delete Qn.transitionend.transition);function Lr(n){if(As[n])return As[n];if(!Qn[n])return n;var r=Qn[n],l;for(l in r)if(r.hasOwnProperty(l)&&l in Iu)return As[n]=r[l];return n}var Au=Lr("animationend"),ku=Lr("animationiteration"),Ru=Lr("animationstart"),Pu=Lr("transitionend"),Mu=new Map,Du="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function dn(n,r){Mu.set(n,r),u(r,[n])}for(var ks=0;ks<Du.length;ks++){var Rs=Du[ks],wm=Rs.toLowerCase(),_m=Rs[0].toUpperCase()+Rs.slice(1);dn(wm,"on"+_m)}dn(Au,"onAnimationEnd"),dn(ku,"onAnimationIteration"),dn(Ru,"onAnimationStart"),dn("dblclick","onDoubleClick"),dn("focusin","onFocus"),dn("focusout","onBlur"),dn(Pu,"onTransitionEnd"),f("onMouseEnter",["mouseout","mouseover"]),f("onMouseLeave",["mouseout","mouseover"]),f("onPointerEnter",["pointerout","pointerover"]),f("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Jo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Nm=new Set("cancel close invalid load scroll toggle".split(" ").concat(Jo));function Lu(n,r,l){var d=n.type||"unknown-event";n.currentTarget=l,wh(d,r,void 0,n),n.currentTarget=null}function bu(n,r){r=(r&4)!==0;for(var l=0;l<n.length;l++){var d=n[l],h=d.event;d=d.listeners;e:{var x=void 0;if(r)for(var E=d.length-1;0<=E;E--){var w=d[E],_=w.instance,D=w.currentTarget;if(w=w.listener,_!==x&&h.isPropagationStopped())break e;Lu(h,w,D),x=_}else for(E=0;E<d.length;E++){if(w=d[E],_=w.instance,D=w.currentTarget,w=w.listener,_!==x&&h.isPropagationStopped())break e;Lu(h,w,D),x=_}}}if(yr)throw n=ls,yr=!1,ls=null,n}function De(n,r){var l=r[Gs];l===void 0&&(l=r[Gs]=new Set);var d=n+"__bubble";l.has(d)||(Uu(r,n,2,!1),l.add(d))}function Ps(n,r,l){var d=0;r&&(d|=4),Uu(l,n,d,r)}var br="_reactListening"+Math.random().toString(36).slice(2);function Wo(n){if(!n[br]){n[br]=!0,i.forEach(function(l){l!=="selectionchange"&&(Nm.has(l)||Ps(l,!1,n),Ps(l,!0,n))});var r=n.nodeType===9?n:n.ownerDocument;r===null||r[br]||(r[br]=!0,Ps("selectionchange",!1,r))}}function Uu(n,r,l,d){switch(iu(r)){case 1:var h=Hh;break;case 4:h=zh;break;default:h=hs}l=h.bind(null,r,l,n),h=void 0,!ss||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),d?h!==void 0?n.addEventListener(r,l,{capture:!0,passive:h}):n.addEventListener(r,l,!0):h!==void 0?n.addEventListener(r,l,{passive:h}):n.addEventListener(r,l,!1)}function Ms(n,r,l,d,h){var x=d;if((r&1)===0&&(r&2)===0&&d!==null)e:for(;;){if(d===null)return;var E=d.tag;if(E===3||E===4){var w=d.stateNode.containerInfo;if(w===h||w.nodeType===8&&w.parentNode===h)break;if(E===4)for(E=d.return;E!==null;){var _=E.tag;if((_===3||_===4)&&(_=E.stateNode.containerInfo,_===h||_.nodeType===8&&_.parentNode===h))return;E=E.return}for(;w!==null;){if(E=In(w),E===null)return;if(_=E.tag,_===5||_===6){d=x=E;continue e}w=w.parentNode}}d=d.return}za(function(){var D=x,V=os(l),B=[];e:{var F=Mu.get(n);if(F!==void 0){var X=vs,ie=n;switch(n){case"keypress":if(kr(l)===0)break e;case"keydown":case"keyup":X=nm;break;case"focusin":ie="focus",X=Ss;break;case"focusout":ie="blur",X=Ss;break;case"beforeblur":case"afterblur":X=Ss;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=au;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=qh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=im;break;case Au:case ku:case Ru:X=Wh;break;case Pu:X=lm;break;case"scroll":X=Bh;break;case"wheel":X=um;break;case"copy":case"cut":case"paste":X=Kh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=cu}var le=(r&4)!==0,qe=!le&&n==="scroll",P=le?F!==null?F+"Capture":null:F;le=[];for(var N=D,M;N!==null;){M=N;var $=M.stateNode;if(M.tag===5&&$!==null&&(M=$,P!==null&&($=ko(N,P),$!=null&&le.push(Yo(N,$,M)))),qe)break;N=N.return}0<le.length&&(F=new X(F,ie,null,l,V),B.push({event:F,listeners:le}))}}if((r&7)===0){e:{if(F=n==="mouseover"||n==="pointerover",X=n==="mouseout"||n==="pointerout",F&&l!==ns&&(ie=l.relatedTarget||l.fromElement)&&(In(ie)||ie[Yt]))break e;if((X||F)&&(F=V.window===V?V:(F=V.ownerDocument)?F.defaultView||F.parentWindow:window,X?(ie=l.relatedTarget||l.toElement,X=D,ie=ie?In(ie):null,ie!==null&&(qe=Nn(ie),ie!==qe||ie.tag!==5&&ie.tag!==6)&&(ie=null)):(X=null,ie=D),X!==ie)){if(le=au,$="onMouseLeave",P="onMouseEnter",N="mouse",(n==="pointerout"||n==="pointerover")&&(le=cu,$="onPointerLeave",P="onPointerEnter",N="pointer"),qe=X==null?F:eo(X),M=ie==null?F:eo(ie),F=new le($,N+"leave",X,l,V),F.target=qe,F.relatedTarget=M,$=null,In(V)===D&&(le=new le(P,N+"enter",ie,l,V),le.target=M,le.relatedTarget=qe,$=le),qe=$,X&&ie)t:{for(le=X,P=ie,N=0,M=le;M;M=Xn(M))N++;for(M=0,$=P;$;$=Xn($))M++;for(;0<N-M;)le=Xn(le),N--;for(;0<M-N;)P=Xn(P),M--;for(;N--;){if(le===P||P!==null&&le===P.alternate)break t;le=Xn(le),P=Xn(P)}le=null}else le=null;X!==null&&Fu(B,F,X,le,!1),ie!==null&&qe!==null&&Fu(B,qe,ie,le,!0)}}e:{if(F=D?eo(D):window,X=F.nodeName&&F.nodeName.toLowerCase(),X==="select"||X==="input"&&F.type==="file")var ae=gm;else if(gu(F))if(yu)ae=Sm;else{ae=ym;var ce=vm}else(X=F.nodeName)&&X.toLowerCase()==="input"&&(F.type==="checkbox"||F.type==="radio")&&(ae=xm);if(ae&&(ae=ae(n,D))){vu(B,ae,l,V);break e}ce&&ce(n,F,D),n==="focusout"&&(ce=F._wrapperState)&&ce.controlled&&F.type==="number"&&On(F,"number",F.value)}switch(ce=D?eo(D):window,n){case"focusin":(gu(ce)||ce.contentEditable==="true")&&(jn=ce,Ns=D,$o=null);break;case"focusout":$o=Ns=jn=null;break;case"mousedown":Is=!0;break;case"contextmenu":case"mouseup":case"dragend":Is=!1,Nu(B,l,V);break;case"selectionchange":if(Cm)break;case"keydown":case"keyup":Nu(B,l,V)}var de;if(Es)e:{switch(n){case"compositionstart":var ge="onCompositionStart";break e;case"compositionend":ge="onCompositionEnd";break e;case"compositionupdate":ge="onCompositionUpdate";break e}ge=void 0}else Kn?hu(n,l)&&(ge="onCompositionEnd"):n==="keydown"&&l.keyCode===229&&(ge="onCompositionStart");ge&&(du&&l.locale!=="ko"&&(Kn||ge!=="onCompositionStart"?ge==="onCompositionEnd"&&Kn&&(de=su()):(cn=V,gs="value"in cn?cn.value:cn.textContent,Kn=!0)),ce=Ur(D,ge),0<ce.length&&(ge=new uu(ge,n,null,l,V),B.push({event:ge,listeners:ce}),de?ge.data=de:(de=mu(l),de!==null&&(ge.data=de)))),(de=dm?fm(n,l):pm(n,l))&&(D=Ur(D,"onBeforeInput"),0<D.length&&(V=new uu("onBeforeInput","beforeinput",null,l,V),B.push({event:V,listeners:D}),V.data=de))}bu(B,r)})}function Yo(n,r,l){return{instance:n,listener:r,currentTarget:l}}function Ur(n,r){for(var l=r+"Capture",d=[];n!==null;){var h=n,x=h.stateNode;h.tag===5&&x!==null&&(h=x,x=ko(n,l),x!=null&&d.unshift(Yo(n,x,h)),x=ko(n,r),x!=null&&d.push(Yo(n,x,h))),n=n.return}return d}function Xn(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function Fu(n,r,l,d,h){for(var x=r._reactName,E=[];l!==null&&l!==d;){var w=l,_=w.alternate,D=w.stateNode;if(_!==null&&_===d)break;w.tag===5&&D!==null&&(w=D,h?(_=ko(l,x),_!=null&&E.unshift(Yo(l,_,w))):h||(_=ko(l,x),_!=null&&E.push(Yo(l,_,w)))),l=l.return}E.length!==0&&n.push({event:r,listeners:E})}var Im=/\r\n?/g,Am=/\u0000|\uFFFD/g;function Gu(n){return(typeof n=="string"?n:""+n).replace(Im,`
`).replace(Am,"")}function Fr(n,r,l){if(r=Gu(r),Gu(n)!==r&&l)throw Error(o(425))}function Gr(){}var Ds=null,Ls=null;function bs(n,r){return n==="textarea"||n==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Us=typeof setTimeout=="function"?setTimeout:void 0,km=typeof clearTimeout=="function"?clearTimeout:void 0,Vu=typeof Promise=="function"?Promise:void 0,Rm=typeof queueMicrotask=="function"?queueMicrotask:typeof Vu<"u"?function(n){return Vu.resolve(null).then(n).catch(Pm)}:Us;function Pm(n){setTimeout(function(){throw n})}function Fs(n,r){var l=r,d=0;do{var h=l.nextSibling;if(n.removeChild(l),h&&h.nodeType===8)if(l=h.data,l==="/$"){if(d===0){n.removeChild(h),Go(r);return}d--}else l!=="$"&&l!=="$?"&&l!=="$!"||d++;l=h}while(l);Go(r)}function fn(n){for(;n!=null;n=n.nextSibling){var r=n.nodeType;if(r===1||r===3)break;if(r===8){if(r=n.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return n}function Hu(n){n=n.previousSibling;for(var r=0;n;){if(n.nodeType===8){var l=n.data;if(l==="$"||l==="$!"||l==="$?"){if(r===0)return n;r--}else l==="/$"&&r++}n=n.previousSibling}return null}var Zn=Math.random().toString(36).slice(2),Ot="__reactFiber$"+Zn,Ko="__reactProps$"+Zn,Yt="__reactContainer$"+Zn,Gs="__reactEvents$"+Zn,Mm="__reactListeners$"+Zn,Dm="__reactHandles$"+Zn;function In(n){var r=n[Ot];if(r)return r;for(var l=n.parentNode;l;){if(r=l[Yt]||l[Ot]){if(l=r.alternate,r.child!==null||l!==null&&l.child!==null)for(n=Hu(n);n!==null;){if(l=n[Ot])return l;n=Hu(n)}return r}n=l,l=n.parentNode}return null}function jo(n){return n=n[Ot]||n[Yt],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function eo(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(o(33))}function Vr(n){return n[Ko]||null}var Vs=[],to=-1;function pn(n){return{current:n}}function Le(n){0>to||(n.current=Vs[to],Vs[to]=null,to--)}function Me(n,r){to++,Vs[to]=n.current,n.current=r}var hn={},rt=pn(hn),pt=pn(!1),An=hn;function no(n,r){var l=n.type.contextTypes;if(!l)return hn;var d=n.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===r)return d.__reactInternalMemoizedMaskedChildContext;var h={},x;for(x in l)h[x]=r[x];return d&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=r,n.__reactInternalMemoizedMaskedChildContext=h),h}function ht(n){return n=n.childContextTypes,n!=null}function Hr(){Le(pt),Le(rt)}function zu(n,r,l){if(rt.current!==hn)throw Error(o(168));Me(rt,r),Me(pt,l)}function Bu(n,r,l){var d=n.stateNode;if(r=r.childContextTypes,typeof d.getChildContext!="function")return l;d=d.getChildContext();for(var h in d)if(!(h in r))throw Error(o(108,ue(n)||"Unknown",h));return q({},l,d)}function zr(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||hn,An=rt.current,Me(rt,n),Me(pt,pt.current),!0}function Ou(n,r,l){var d=n.stateNode;if(!d)throw Error(o(169));l?(n=Bu(n,r,An),d.__reactInternalMemoizedMergedChildContext=n,Le(pt),Le(rt),Me(rt,n)):Le(pt),Me(pt,l)}var Kt=null,Br=!1,Hs=!1;function qu(n){Kt===null?Kt=[n]:Kt.push(n)}function Lm(n){Br=!0,qu(n)}function mn(){if(!Hs&&Kt!==null){Hs=!0;var n=0,r=Pe;try{var l=Kt;for(Pe=1;n<l.length;n++){var d=l[n];do d=d(!0);while(d!==null)}Kt=null,Br=!1}catch(h){throw Kt!==null&&(Kt=Kt.slice(n+1)),Ja(as,mn),h}finally{Pe=r,Hs=!1}}return null}var oo=[],ro=0,Or=null,qr=0,wt=[],_t=0,kn=null,jt=1,Qt="";function Rn(n,r){oo[ro++]=qr,oo[ro++]=Or,Or=n,qr=r}function $u(n,r,l){wt[_t++]=jt,wt[_t++]=Qt,wt[_t++]=kn,kn=n;var d=jt;n=Qt;var h=32-Mt(d)-1;d&=~(1<<h),l+=1;var x=32-Mt(r)+h;if(30<x){var E=h-h%5;x=(d&(1<<E)-1).toString(32),d>>=E,h-=E,jt=1<<32-Mt(r)+h|l<<h|d,Qt=x+n}else jt=1<<x|l<<h|d,Qt=n}function zs(n){n.return!==null&&(Rn(n,1),$u(n,1,0))}function Bs(n){for(;n===Or;)Or=oo[--ro],oo[ro]=null,qr=oo[--ro],oo[ro]=null;for(;n===kn;)kn=wt[--_t],wt[_t]=null,Qt=wt[--_t],wt[_t]=null,jt=wt[--_t],wt[_t]=null}var Tt=null,Et=null,Fe=!1,Lt=null;function Ju(n,r){var l=kt(5,null,null,0);l.elementType="DELETED",l.stateNode=r,l.return=n,r=n.deletions,r===null?(n.deletions=[l],n.flags|=16):r.push(l)}function Wu(n,r){switch(n.tag){case 5:var l=n.type;return r=r.nodeType!==1||l.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(n.stateNode=r,Tt=n,Et=fn(r.firstChild),!0):!1;case 6:return r=n.pendingProps===""||r.nodeType!==3?null:r,r!==null?(n.stateNode=r,Tt=n,Et=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(l=kn!==null?{id:jt,overflow:Qt}:null,n.memoizedState={dehydrated:r,treeContext:l,retryLane:1073741824},l=kt(18,null,null,0),l.stateNode=r,l.return=n,n.child=l,Tt=n,Et=null,!0):!1;default:return!1}}function Os(n){return(n.mode&1)!==0&&(n.flags&128)===0}function qs(n){if(Fe){var r=Et;if(r){var l=r;if(!Wu(n,r)){if(Os(n))throw Error(o(418));r=fn(l.nextSibling);var d=Tt;r&&Wu(n,r)?Ju(d,l):(n.flags=n.flags&-4097|2,Fe=!1,Tt=n)}}else{if(Os(n))throw Error(o(418));n.flags=n.flags&-4097|2,Fe=!1,Tt=n}}}function Yu(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;Tt=n}function $r(n){if(n!==Tt)return!1;if(!Fe)return Yu(n),Fe=!0,!1;var r;if((r=n.tag!==3)&&!(r=n.tag!==5)&&(r=n.type,r=r!=="head"&&r!=="body"&&!bs(n.type,n.memoizedProps)),r&&(r=Et)){if(Os(n))throw Ku(),Error(o(418));for(;r;)Ju(n,r),r=fn(r.nextSibling)}if(Yu(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(o(317));e:{for(n=n.nextSibling,r=0;n;){if(n.nodeType===8){var l=n.data;if(l==="/$"){if(r===0){Et=fn(n.nextSibling);break e}r--}else l!=="$"&&l!=="$!"&&l!=="$?"||r++}n=n.nextSibling}Et=null}}else Et=Tt?fn(n.stateNode.nextSibling):null;return!0}function Ku(){for(var n=Et;n;)n=fn(n.nextSibling)}function io(){Et=Tt=null,Fe=!1}function $s(n){Lt===null?Lt=[n]:Lt.push(n)}var bm=z.ReactCurrentBatchConfig;function Qo(n,r,l){if(n=l.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(o(309));var d=l.stateNode}if(!d)throw Error(o(147,n));var h=d,x=""+n;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===x?r.ref:(r=function(E){var w=h.refs;E===null?delete w[x]:w[x]=E},r._stringRef=x,r)}if(typeof n!="string")throw Error(o(284));if(!l._owner)throw Error(o(290,n))}return n}function Jr(n,r){throw n=Object.prototype.toString.call(r),Error(o(31,n==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":n))}function ju(n){var r=n._init;return r(n._payload)}function Qu(n){function r(P,N){if(n){var M=P.deletions;M===null?(P.deletions=[N],P.flags|=16):M.push(N)}}function l(P,N){if(!n)return null;for(;N!==null;)r(P,N),N=N.sibling;return null}function d(P,N){for(P=new Map;N!==null;)N.key!==null?P.set(N.key,N):P.set(N.index,N),N=N.sibling;return P}function h(P,N){return P=Cn(P,N),P.index=0,P.sibling=null,P}function x(P,N,M){return P.index=M,n?(M=P.alternate,M!==null?(M=M.index,M<N?(P.flags|=2,N):M):(P.flags|=2,N)):(P.flags|=1048576,N)}function E(P){return n&&P.alternate===null&&(P.flags|=2),P}function w(P,N,M,$){return N===null||N.tag!==6?(N=Ul(M,P.mode,$),N.return=P,N):(N=h(N,M),N.return=P,N)}function _(P,N,M,$){var ae=M.type;return ae===re?V(P,N,M.props.children,$,M.key):N!==null&&(N.elementType===ae||typeof ae=="object"&&ae!==null&&ae.$$typeof===Ue&&ju(ae)===N.type)?($=h(N,M.props),$.ref=Qo(P,N,M),$.return=P,$):($=gi(M.type,M.key,M.props,null,P.mode,$),$.ref=Qo(P,N,M),$.return=P,$)}function D(P,N,M,$){return N===null||N.tag!==4||N.stateNode.containerInfo!==M.containerInfo||N.stateNode.implementation!==M.implementation?(N=Fl(M,P.mode,$),N.return=P,N):(N=h(N,M.children||[]),N.return=P,N)}function V(P,N,M,$,ae){return N===null||N.tag!==7?(N=Gn(M,P.mode,$,ae),N.return=P,N):(N=h(N,M),N.return=P,N)}function B(P,N,M){if(typeof N=="string"&&N!==""||typeof N=="number")return N=Ul(""+N,P.mode,M),N.return=P,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case U:return M=gi(N.type,N.key,N.props,null,P.mode,M),M.ref=Qo(P,null,N),M.return=P,M;case oe:return N=Fl(N,P.mode,M),N.return=P,N;case Ue:var $=N._init;return B(P,$(N._payload),M)}if(No(N)||O(N))return N=Gn(N,P.mode,M,null),N.return=P,N;Jr(P,N)}return null}function F(P,N,M,$){var ae=N!==null?N.key:null;if(typeof M=="string"&&M!==""||typeof M=="number")return ae!==null?null:w(P,N,""+M,$);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case U:return M.key===ae?_(P,N,M,$):null;case oe:return M.key===ae?D(P,N,M,$):null;case Ue:return ae=M._init,F(P,N,ae(M._payload),$)}if(No(M)||O(M))return ae!==null?null:V(P,N,M,$,null);Jr(P,M)}return null}function X(P,N,M,$,ae){if(typeof $=="string"&&$!==""||typeof $=="number")return P=P.get(M)||null,w(N,P,""+$,ae);if(typeof $=="object"&&$!==null){switch($.$$typeof){case U:return P=P.get($.key===null?M:$.key)||null,_(N,P,$,ae);case oe:return P=P.get($.key===null?M:$.key)||null,D(N,P,$,ae);case Ue:var ce=$._init;return X(P,N,M,ce($._payload),ae)}if(No($)||O($))return P=P.get(M)||null,V(N,P,$,ae,null);Jr(N,$)}return null}function ie(P,N,M,$){for(var ae=null,ce=null,de=N,ge=N=0,Xe=null;de!==null&&ge<M.length;ge++){de.index>ge?(Xe=de,de=null):Xe=de.sibling;var Ie=F(P,de,M[ge],$);if(Ie===null){de===null&&(de=Xe);break}n&&de&&Ie.alternate===null&&r(P,de),N=x(Ie,N,ge),ce===null?ae=Ie:ce.sibling=Ie,ce=Ie,de=Xe}if(ge===M.length)return l(P,de),Fe&&Rn(P,ge),ae;if(de===null){for(;ge<M.length;ge++)de=B(P,M[ge],$),de!==null&&(N=x(de,N,ge),ce===null?ae=de:ce.sibling=de,ce=de);return Fe&&Rn(P,ge),ae}for(de=d(P,de);ge<M.length;ge++)Xe=X(de,P,ge,M[ge],$),Xe!==null&&(n&&Xe.alternate!==null&&de.delete(Xe.key===null?ge:Xe.key),N=x(Xe,N,ge),ce===null?ae=Xe:ce.sibling=Xe,ce=Xe);return n&&de.forEach(function(wn){return r(P,wn)}),Fe&&Rn(P,ge),ae}function le(P,N,M,$){var ae=O(M);if(typeof ae!="function")throw Error(o(150));if(M=ae.call(M),M==null)throw Error(o(151));for(var ce=ae=null,de=N,ge=N=0,Xe=null,Ie=M.next();de!==null&&!Ie.done;ge++,Ie=M.next()){de.index>ge?(Xe=de,de=null):Xe=de.sibling;var wn=F(P,de,Ie.value,$);if(wn===null){de===null&&(de=Xe);break}n&&de&&wn.alternate===null&&r(P,de),N=x(wn,N,ge),ce===null?ae=wn:ce.sibling=wn,ce=wn,de=Xe}if(Ie.done)return l(P,de),Fe&&Rn(P,ge),ae;if(de===null){for(;!Ie.done;ge++,Ie=M.next())Ie=B(P,Ie.value,$),Ie!==null&&(N=x(Ie,N,ge),ce===null?ae=Ie:ce.sibling=Ie,ce=Ie);return Fe&&Rn(P,ge),ae}for(de=d(P,de);!Ie.done;ge++,Ie=M.next())Ie=X(de,P,ge,Ie.value,$),Ie!==null&&(n&&Ie.alternate!==null&&de.delete(Ie.key===null?ge:Ie.key),N=x(Ie,N,ge),ce===null?ae=Ie:ce.sibling=Ie,ce=Ie);return n&&de.forEach(function(hg){return r(P,hg)}),Fe&&Rn(P,ge),ae}function qe(P,N,M,$){if(typeof M=="object"&&M!==null&&M.type===re&&M.key===null&&(M=M.props.children),typeof M=="object"&&M!==null){switch(M.$$typeof){case U:e:{for(var ae=M.key,ce=N;ce!==null;){if(ce.key===ae){if(ae=M.type,ae===re){if(ce.tag===7){l(P,ce.sibling),N=h(ce,M.props.children),N.return=P,P=N;break e}}else if(ce.elementType===ae||typeof ae=="object"&&ae!==null&&ae.$$typeof===Ue&&ju(ae)===ce.type){l(P,ce.sibling),N=h(ce,M.props),N.ref=Qo(P,ce,M),N.return=P,P=N;break e}l(P,ce);break}else r(P,ce);ce=ce.sibling}M.type===re?(N=Gn(M.props.children,P.mode,$,M.key),N.return=P,P=N):($=gi(M.type,M.key,M.props,null,P.mode,$),$.ref=Qo(P,N,M),$.return=P,P=$)}return E(P);case oe:e:{for(ce=M.key;N!==null;){if(N.key===ce)if(N.tag===4&&N.stateNode.containerInfo===M.containerInfo&&N.stateNode.implementation===M.implementation){l(P,N.sibling),N=h(N,M.children||[]),N.return=P,P=N;break e}else{l(P,N);break}else r(P,N);N=N.sibling}N=Fl(M,P.mode,$),N.return=P,P=N}return E(P);case Ue:return ce=M._init,qe(P,N,ce(M._payload),$)}if(No(M))return ie(P,N,M,$);if(O(M))return le(P,N,M,$);Jr(P,M)}return typeof M=="string"&&M!==""||typeof M=="number"?(M=""+M,N!==null&&N.tag===6?(l(P,N.sibling),N=h(N,M),N.return=P,P=N):(l(P,N),N=Ul(M,P.mode,$),N.return=P,P=N),E(P)):l(P,N)}return qe}var so=Qu(!0),Xu=Qu(!1),Wr=pn(null),Yr=null,lo=null,Js=null;function Ws(){Js=lo=Yr=null}function Ys(n){var r=Wr.current;Le(Wr),n._currentValue=r}function Ks(n,r,l){for(;n!==null;){var d=n.alternate;if((n.childLanes&r)!==r?(n.childLanes|=r,d!==null&&(d.childLanes|=r)):d!==null&&(d.childLanes&r)!==r&&(d.childLanes|=r),n===l)break;n=n.return}}function ao(n,r){Yr=n,Js=lo=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&r)!==0&&(mt=!0),n.firstContext=null)}function Nt(n){var r=n._currentValue;if(Js!==n)if(n={context:n,memoizedValue:r,next:null},lo===null){if(Yr===null)throw Error(o(308));lo=n,Yr.dependencies={lanes:0,firstContext:n}}else lo=lo.next=n;return r}var Pn=null;function js(n){Pn===null?Pn=[n]:Pn.push(n)}function Zu(n,r,l,d){var h=r.interleaved;return h===null?(l.next=l,js(r)):(l.next=h.next,h.next=l),r.interleaved=l,Xt(n,d)}function Xt(n,r){n.lanes|=r;var l=n.alternate;for(l!==null&&(l.lanes|=r),l=n,n=n.return;n!==null;)n.childLanes|=r,l=n.alternate,l!==null&&(l.childLanes|=r),l=n,n=n.return;return l.tag===3?l.stateNode:null}var gn=!1;function Qs(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ec(n,r){n=n.updateQueue,r.updateQueue===n&&(r.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Zt(n,r){return{eventTime:n,lane:r,tag:0,payload:null,callback:null,next:null}}function vn(n,r,l){var d=n.updateQueue;if(d===null)return null;if(d=d.shared,(_e&2)!==0){var h=d.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),d.pending=r,Xt(n,l)}return h=d.interleaved,h===null?(r.next=r,js(d)):(r.next=h.next,h.next=r),d.interleaved=r,Xt(n,l)}function Kr(n,r,l){if(r=r.updateQueue,r!==null&&(r=r.shared,(l&4194240)!==0)){var d=r.lanes;d&=n.pendingLanes,l|=d,r.lanes=l,ds(n,l)}}function tc(n,r){var l=n.updateQueue,d=n.alternate;if(d!==null&&(d=d.updateQueue,l===d)){var h=null,x=null;if(l=l.firstBaseUpdate,l!==null){do{var E={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};x===null?h=x=E:x=x.next=E,l=l.next}while(l!==null);x===null?h=x=r:x=x.next=r}else h=x=r;l={baseState:d.baseState,firstBaseUpdate:h,lastBaseUpdate:x,shared:d.shared,effects:d.effects},n.updateQueue=l;return}n=l.lastBaseUpdate,n===null?l.firstBaseUpdate=r:n.next=r,l.lastBaseUpdate=r}function jr(n,r,l,d){var h=n.updateQueue;gn=!1;var x=h.firstBaseUpdate,E=h.lastBaseUpdate,w=h.shared.pending;if(w!==null){h.shared.pending=null;var _=w,D=_.next;_.next=null,E===null?x=D:E.next=D,E=_;var V=n.alternate;V!==null&&(V=V.updateQueue,w=V.lastBaseUpdate,w!==E&&(w===null?V.firstBaseUpdate=D:w.next=D,V.lastBaseUpdate=_))}if(x!==null){var B=h.baseState;E=0,V=D=_=null,w=x;do{var F=w.lane,X=w.eventTime;if((d&F)===F){V!==null&&(V=V.next={eventTime:X,lane:0,tag:w.tag,payload:w.payload,callback:w.callback,next:null});e:{var ie=n,le=w;switch(F=r,X=l,le.tag){case 1:if(ie=le.payload,typeof ie=="function"){B=ie.call(X,B,F);break e}B=ie;break e;case 3:ie.flags=ie.flags&-65537|128;case 0:if(ie=le.payload,F=typeof ie=="function"?ie.call(X,B,F):ie,F==null)break e;B=q({},B,F);break e;case 2:gn=!0}}w.callback!==null&&w.lane!==0&&(n.flags|=64,F=h.effects,F===null?h.effects=[w]:F.push(w))}else X={eventTime:X,lane:F,tag:w.tag,payload:w.payload,callback:w.callback,next:null},V===null?(D=V=X,_=B):V=V.next=X,E|=F;if(w=w.next,w===null){if(w=h.shared.pending,w===null)break;F=w,w=F.next,F.next=null,h.lastBaseUpdate=F,h.shared.pending=null}}while(!0);if(V===null&&(_=B),h.baseState=_,h.firstBaseUpdate=D,h.lastBaseUpdate=V,r=h.shared.interleaved,r!==null){h=r;do E|=h.lane,h=h.next;while(h!==r)}else x===null&&(h.shared.lanes=0);Ln|=E,n.lanes=E,n.memoizedState=B}}function nc(n,r,l){if(n=r.effects,r.effects=null,n!==null)for(r=0;r<n.length;r++){var d=n[r],h=d.callback;if(h!==null){if(d.callback=null,d=l,typeof h!="function")throw Error(o(191,h));h.call(d)}}}var Xo={},qt=pn(Xo),Zo=pn(Xo),er=pn(Xo);function Mn(n){if(n===Xo)throw Error(o(174));return n}function Xs(n,r){switch(Me(er,r),Me(Zo,n),Me(qt,Xo),n=r.nodeType,n){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:Zi(null,"");break;default:n=n===8?r.parentNode:r,r=n.namespaceURI||null,n=n.tagName,r=Zi(r,n)}Le(qt),Me(qt,r)}function uo(){Le(qt),Le(Zo),Le(er)}function oc(n){Mn(er.current);var r=Mn(qt.current),l=Zi(r,n.type);r!==l&&(Me(Zo,n),Me(qt,l))}function Zs(n){Zo.current===n&&(Le(qt),Le(Zo))}var Ge=pn(0);function Qr(n){for(var r=n;r!==null;){if(r.tag===13){var l=r.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var el=[];function tl(){for(var n=0;n<el.length;n++)el[n]._workInProgressVersionPrimary=null;el.length=0}var Xr=z.ReactCurrentDispatcher,nl=z.ReactCurrentBatchConfig,Dn=0,Ve=null,Ye=null,je=null,Zr=!1,tr=!1,nr=0,Um=0;function it(){throw Error(o(321))}function ol(n,r){if(r===null)return!1;for(var l=0;l<r.length&&l<n.length;l++)if(!Dt(n[l],r[l]))return!1;return!0}function rl(n,r,l,d,h,x){if(Dn=x,Ve=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Xr.current=n===null||n.memoizedState===null?Hm:zm,n=l(d,h),tr){x=0;do{if(tr=!1,nr=0,25<=x)throw Error(o(301));x+=1,je=Ye=null,r.updateQueue=null,Xr.current=Bm,n=l(d,h)}while(tr)}if(Xr.current=ni,r=Ye!==null&&Ye.next!==null,Dn=0,je=Ye=Ve=null,Zr=!1,r)throw Error(o(300));return n}function il(){var n=nr!==0;return nr=0,n}function $t(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return je===null?Ve.memoizedState=je=n:je=je.next=n,je}function It(){if(Ye===null){var n=Ve.alternate;n=n!==null?n.memoizedState:null}else n=Ye.next;var r=je===null?Ve.memoizedState:je.next;if(r!==null)je=r,Ye=n;else{if(n===null)throw Error(o(310));Ye=n,n={memoizedState:Ye.memoizedState,baseState:Ye.baseState,baseQueue:Ye.baseQueue,queue:Ye.queue,next:null},je===null?Ve.memoizedState=je=n:je=je.next=n}return je}function or(n,r){return typeof r=="function"?r(n):r}function sl(n){var r=It(),l=r.queue;if(l===null)throw Error(o(311));l.lastRenderedReducer=n;var d=Ye,h=d.baseQueue,x=l.pending;if(x!==null){if(h!==null){var E=h.next;h.next=x.next,x.next=E}d.baseQueue=h=x,l.pending=null}if(h!==null){x=h.next,d=d.baseState;var w=E=null,_=null,D=x;do{var V=D.lane;if((Dn&V)===V)_!==null&&(_=_.next={lane:0,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null}),d=D.hasEagerState?D.eagerState:n(d,D.action);else{var B={lane:V,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null};_===null?(w=_=B,E=d):_=_.next=B,Ve.lanes|=V,Ln|=V}D=D.next}while(D!==null&&D!==x);_===null?E=d:_.next=w,Dt(d,r.memoizedState)||(mt=!0),r.memoizedState=d,r.baseState=E,r.baseQueue=_,l.lastRenderedState=d}if(n=l.interleaved,n!==null){h=n;do x=h.lane,Ve.lanes|=x,Ln|=x,h=h.next;while(h!==n)}else h===null&&(l.lanes=0);return[r.memoizedState,l.dispatch]}function ll(n){var r=It(),l=r.queue;if(l===null)throw Error(o(311));l.lastRenderedReducer=n;var d=l.dispatch,h=l.pending,x=r.memoizedState;if(h!==null){l.pending=null;var E=h=h.next;do x=n(x,E.action),E=E.next;while(E!==h);Dt(x,r.memoizedState)||(mt=!0),r.memoizedState=x,r.baseQueue===null&&(r.baseState=x),l.lastRenderedState=x}return[x,d]}function rc(){}function ic(n,r){var l=Ve,d=It(),h=r(),x=!Dt(d.memoizedState,h);if(x&&(d.memoizedState=h,mt=!0),d=d.queue,al(ac.bind(null,l,d,n),[n]),d.getSnapshot!==r||x||je!==null&&je.memoizedState.tag&1){if(l.flags|=2048,rr(9,lc.bind(null,l,d,h,r),void 0,null),Qe===null)throw Error(o(349));(Dn&30)!==0||sc(l,r,h)}return h}function sc(n,r,l){n.flags|=16384,n={getSnapshot:r,value:l},r=Ve.updateQueue,r===null?(r={lastEffect:null,stores:null},Ve.updateQueue=r,r.stores=[n]):(l=r.stores,l===null?r.stores=[n]:l.push(n))}function lc(n,r,l,d){r.value=l,r.getSnapshot=d,uc(r)&&cc(n)}function ac(n,r,l){return l(function(){uc(r)&&cc(n)})}function uc(n){var r=n.getSnapshot;n=n.value;try{var l=r();return!Dt(n,l)}catch{return!0}}function cc(n){var r=Xt(n,1);r!==null&&Gt(r,n,1,-1)}function dc(n){var r=$t();return typeof n=="function"&&(n=n()),r.memoizedState=r.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:or,lastRenderedState:n},r.queue=n,n=n.dispatch=Vm.bind(null,Ve,n),[r.memoizedState,n]}function rr(n,r,l,d){return n={tag:n,create:r,destroy:l,deps:d,next:null},r=Ve.updateQueue,r===null?(r={lastEffect:null,stores:null},Ve.updateQueue=r,r.lastEffect=n.next=n):(l=r.lastEffect,l===null?r.lastEffect=n.next=n:(d=l.next,l.next=n,n.next=d,r.lastEffect=n)),n}function fc(){return It().memoizedState}function ei(n,r,l,d){var h=$t();Ve.flags|=n,h.memoizedState=rr(1|r,l,void 0,d===void 0?null:d)}function ti(n,r,l,d){var h=It();d=d===void 0?null:d;var x=void 0;if(Ye!==null){var E=Ye.memoizedState;if(x=E.destroy,d!==null&&ol(d,E.deps)){h.memoizedState=rr(r,l,x,d);return}}Ve.flags|=n,h.memoizedState=rr(1|r,l,x,d)}function pc(n,r){return ei(8390656,8,n,r)}function al(n,r){return ti(2048,8,n,r)}function hc(n,r){return ti(4,2,n,r)}function mc(n,r){return ti(4,4,n,r)}function gc(n,r){if(typeof r=="function")return n=n(),r(n),function(){r(null)};if(r!=null)return n=n(),r.current=n,function(){r.current=null}}function vc(n,r,l){return l=l!=null?l.concat([n]):null,ti(4,4,gc.bind(null,r,n),l)}function ul(){}function yc(n,r){var l=It();r=r===void 0?null:r;var d=l.memoizedState;return d!==null&&r!==null&&ol(r,d[1])?d[0]:(l.memoizedState=[n,r],n)}function xc(n,r){var l=It();r=r===void 0?null:r;var d=l.memoizedState;return d!==null&&r!==null&&ol(r,d[1])?d[0]:(n=n(),l.memoizedState=[n,r],n)}function Sc(n,r,l){return(Dn&21)===0?(n.baseState&&(n.baseState=!1,mt=!0),n.memoizedState=l):(Dt(l,r)||(l=ja(),Ve.lanes|=l,Ln|=l,n.baseState=!0),r)}function Fm(n,r){var l=Pe;Pe=l!==0&&4>l?l:4,n(!0);var d=nl.transition;nl.transition={};try{n(!1),r()}finally{Pe=l,nl.transition=d}}function Tc(){return It().memoizedState}function Gm(n,r,l){var d=Tn(n);if(l={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null},Ec(n))Cc(r,l);else if(l=Zu(n,r,l,d),l!==null){var h=ct();Gt(l,n,d,h),wc(l,r,d)}}function Vm(n,r,l){var d=Tn(n),h={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null};if(Ec(n))Cc(r,h);else{var x=n.alternate;if(n.lanes===0&&(x===null||x.lanes===0)&&(x=r.lastRenderedReducer,x!==null))try{var E=r.lastRenderedState,w=x(E,l);if(h.hasEagerState=!0,h.eagerState=w,Dt(w,E)){var _=r.interleaved;_===null?(h.next=h,js(r)):(h.next=_.next,_.next=h),r.interleaved=h;return}}catch{}finally{}l=Zu(n,r,h,d),l!==null&&(h=ct(),Gt(l,n,d,h),wc(l,r,d))}}function Ec(n){var r=n.alternate;return n===Ve||r!==null&&r===Ve}function Cc(n,r){tr=Zr=!0;var l=n.pending;l===null?r.next=r:(r.next=l.next,l.next=r),n.pending=r}function wc(n,r,l){if((l&4194240)!==0){var d=r.lanes;d&=n.pendingLanes,l|=d,r.lanes=l,ds(n,l)}}var ni={readContext:Nt,useCallback:it,useContext:it,useEffect:it,useImperativeHandle:it,useInsertionEffect:it,useLayoutEffect:it,useMemo:it,useReducer:it,useRef:it,useState:it,useDebugValue:it,useDeferredValue:it,useTransition:it,useMutableSource:it,useSyncExternalStore:it,useId:it,unstable_isNewReconciler:!1},Hm={readContext:Nt,useCallback:function(n,r){return $t().memoizedState=[n,r===void 0?null:r],n},useContext:Nt,useEffect:pc,useImperativeHandle:function(n,r,l){return l=l!=null?l.concat([n]):null,ei(4194308,4,gc.bind(null,r,n),l)},useLayoutEffect:function(n,r){return ei(4194308,4,n,r)},useInsertionEffect:function(n,r){return ei(4,2,n,r)},useMemo:function(n,r){var l=$t();return r=r===void 0?null:r,n=n(),l.memoizedState=[n,r],n},useReducer:function(n,r,l){var d=$t();return r=l!==void 0?l(r):r,d.memoizedState=d.baseState=r,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:r},d.queue=n,n=n.dispatch=Gm.bind(null,Ve,n),[d.memoizedState,n]},useRef:function(n){var r=$t();return n={current:n},r.memoizedState=n},useState:dc,useDebugValue:ul,useDeferredValue:function(n){return $t().memoizedState=n},useTransition:function(){var n=dc(!1),r=n[0];return n=Fm.bind(null,n[1]),$t().memoizedState=n,[r,n]},useMutableSource:function(){},useSyncExternalStore:function(n,r,l){var d=Ve,h=$t();if(Fe){if(l===void 0)throw Error(o(407));l=l()}else{if(l=r(),Qe===null)throw Error(o(349));(Dn&30)!==0||sc(d,r,l)}h.memoizedState=l;var x={value:l,getSnapshot:r};return h.queue=x,pc(ac.bind(null,d,x,n),[n]),d.flags|=2048,rr(9,lc.bind(null,d,x,l,r),void 0,null),l},useId:function(){var n=$t(),r=Qe.identifierPrefix;if(Fe){var l=Qt,d=jt;l=(d&~(1<<32-Mt(d)-1)).toString(32)+l,r=":"+r+"R"+l,l=nr++,0<l&&(r+="H"+l.toString(32)),r+=":"}else l=Um++,r=":"+r+"r"+l.toString(32)+":";return n.memoizedState=r},unstable_isNewReconciler:!1},zm={readContext:Nt,useCallback:yc,useContext:Nt,useEffect:al,useImperativeHandle:vc,useInsertionEffect:hc,useLayoutEffect:mc,useMemo:xc,useReducer:sl,useRef:fc,useState:function(){return sl(or)},useDebugValue:ul,useDeferredValue:function(n){var r=It();return Sc(r,Ye.memoizedState,n)},useTransition:function(){var n=sl(or)[0],r=It().memoizedState;return[n,r]},useMutableSource:rc,useSyncExternalStore:ic,useId:Tc,unstable_isNewReconciler:!1},Bm={readContext:Nt,useCallback:yc,useContext:Nt,useEffect:al,useImperativeHandle:vc,useInsertionEffect:hc,useLayoutEffect:mc,useMemo:xc,useReducer:ll,useRef:fc,useState:function(){return ll(or)},useDebugValue:ul,useDeferredValue:function(n){var r=It();return Ye===null?r.memoizedState=n:Sc(r,Ye.memoizedState,n)},useTransition:function(){var n=ll(or)[0],r=It().memoizedState;return[n,r]},useMutableSource:rc,useSyncExternalStore:ic,useId:Tc,unstable_isNewReconciler:!1};function bt(n,r){if(n&&n.defaultProps){r=q({},r),n=n.defaultProps;for(var l in n)r[l]===void 0&&(r[l]=n[l]);return r}return r}function cl(n,r,l,d){r=n.memoizedState,l=l(d,r),l=l==null?r:q({},r,l),n.memoizedState=l,n.lanes===0&&(n.updateQueue.baseState=l)}var oi={isMounted:function(n){return(n=n._reactInternals)?Nn(n)===n:!1},enqueueSetState:function(n,r,l){n=n._reactInternals;var d=ct(),h=Tn(n),x=Zt(d,h);x.payload=r,l!=null&&(x.callback=l),r=vn(n,x,h),r!==null&&(Gt(r,n,h,d),Kr(r,n,h))},enqueueReplaceState:function(n,r,l){n=n._reactInternals;var d=ct(),h=Tn(n),x=Zt(d,h);x.tag=1,x.payload=r,l!=null&&(x.callback=l),r=vn(n,x,h),r!==null&&(Gt(r,n,h,d),Kr(r,n,h))},enqueueForceUpdate:function(n,r){n=n._reactInternals;var l=ct(),d=Tn(n),h=Zt(l,d);h.tag=2,r!=null&&(h.callback=r),r=vn(n,h,d),r!==null&&(Gt(r,n,d,l),Kr(r,n,d))}};function _c(n,r,l,d,h,x,E){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(d,x,E):r.prototype&&r.prototype.isPureReactComponent?!qo(l,d)||!qo(h,x):!0}function Nc(n,r,l){var d=!1,h=hn,x=r.contextType;return typeof x=="object"&&x!==null?x=Nt(x):(h=ht(r)?An:rt.current,d=r.contextTypes,x=(d=d!=null)?no(n,h):hn),r=new r(l,x),n.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=oi,n.stateNode=r,r._reactInternals=n,d&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=h,n.__reactInternalMemoizedMaskedChildContext=x),r}function Ic(n,r,l,d){n=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(l,d),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(l,d),r.state!==n&&oi.enqueueReplaceState(r,r.state,null)}function dl(n,r,l,d){var h=n.stateNode;h.props=l,h.state=n.memoizedState,h.refs={},Qs(n);var x=r.contextType;typeof x=="object"&&x!==null?h.context=Nt(x):(x=ht(r)?An:rt.current,h.context=no(n,x)),h.state=n.memoizedState,x=r.getDerivedStateFromProps,typeof x=="function"&&(cl(n,r,x,l),h.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(r=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),r!==h.state&&oi.enqueueReplaceState(h,h.state,null),jr(n,l,h,d),h.state=n.memoizedState),typeof h.componentDidMount=="function"&&(n.flags|=4194308)}function co(n,r){try{var l="",d=r;do l+=Y(d),d=d.return;while(d);var h=l}catch(x){h=`
Error generating stack: `+x.message+`
`+x.stack}return{value:n,source:r,stack:h,digest:null}}function fl(n,r,l){return{value:n,source:null,stack:l??null,digest:r??null}}function pl(n,r){try{console.error(r.value)}catch(l){setTimeout(function(){throw l})}}var Om=typeof WeakMap=="function"?WeakMap:Map;function Ac(n,r,l){l=Zt(-1,l),l.tag=3,l.payload={element:null};var d=r.value;return l.callback=function(){ci||(ci=!0,Al=d),pl(n,r)},l}function kc(n,r,l){l=Zt(-1,l),l.tag=3;var d=n.type.getDerivedStateFromError;if(typeof d=="function"){var h=r.value;l.payload=function(){return d(h)},l.callback=function(){pl(n,r)}}var x=n.stateNode;return x!==null&&typeof x.componentDidCatch=="function"&&(l.callback=function(){pl(n,r),typeof d!="function"&&(xn===null?xn=new Set([this]):xn.add(this));var E=r.stack;this.componentDidCatch(r.value,{componentStack:E!==null?E:""})}),l}function Rc(n,r,l){var d=n.pingCache;if(d===null){d=n.pingCache=new Om;var h=new Set;d.set(r,h)}else h=d.get(r),h===void 0&&(h=new Set,d.set(r,h));h.has(l)||(h.add(l),n=og.bind(null,n,r,l),r.then(n,n))}function Pc(n){do{var r;if((r=n.tag===13)&&(r=n.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return n;n=n.return}while(n!==null);return null}function Mc(n,r,l,d,h){return(n.mode&1)===0?(n===r?n.flags|=65536:(n.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(r=Zt(-1,1),r.tag=2,vn(l,r,1))),l.lanes|=1),n):(n.flags|=65536,n.lanes=h,n)}var qm=z.ReactCurrentOwner,mt=!1;function ut(n,r,l,d){r.child=n===null?Xu(r,null,l,d):so(r,n.child,l,d)}function Dc(n,r,l,d,h){l=l.render;var x=r.ref;return ao(r,h),d=rl(n,r,l,d,x,h),l=il(),n!==null&&!mt?(r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~h,en(n,r,h)):(Fe&&l&&zs(r),r.flags|=1,ut(n,r,d,h),r.child)}function Lc(n,r,l,d,h){if(n===null){var x=l.type;return typeof x=="function"&&!bl(x)&&x.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(r.tag=15,r.type=x,bc(n,r,x,d,h)):(n=gi(l.type,null,d,r,r.mode,h),n.ref=r.ref,n.return=r,r.child=n)}if(x=n.child,(n.lanes&h)===0){var E=x.memoizedProps;if(l=l.compare,l=l!==null?l:qo,l(E,d)&&n.ref===r.ref)return en(n,r,h)}return r.flags|=1,n=Cn(x,d),n.ref=r.ref,n.return=r,r.child=n}function bc(n,r,l,d,h){if(n!==null){var x=n.memoizedProps;if(qo(x,d)&&n.ref===r.ref)if(mt=!1,r.pendingProps=d=x,(n.lanes&h)!==0)(n.flags&131072)!==0&&(mt=!0);else return r.lanes=n.lanes,en(n,r,h)}return hl(n,r,l,d,h)}function Uc(n,r,l){var d=r.pendingProps,h=d.children,x=n!==null?n.memoizedState:null;if(d.mode==="hidden")if((r.mode&1)===0)r.memoizedState={baseLanes:0,cachePool:null,transitions:null},Me(po,Ct),Ct|=l;else{if((l&1073741824)===0)return n=x!==null?x.baseLanes|l:l,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:n,cachePool:null,transitions:null},r.updateQueue=null,Me(po,Ct),Ct|=n,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=x!==null?x.baseLanes:l,Me(po,Ct),Ct|=d}else x!==null?(d=x.baseLanes|l,r.memoizedState=null):d=l,Me(po,Ct),Ct|=d;return ut(n,r,h,l),r.child}function Fc(n,r){var l=r.ref;(n===null&&l!==null||n!==null&&n.ref!==l)&&(r.flags|=512,r.flags|=2097152)}function hl(n,r,l,d,h){var x=ht(l)?An:rt.current;return x=no(r,x),ao(r,h),l=rl(n,r,l,d,x,h),d=il(),n!==null&&!mt?(r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~h,en(n,r,h)):(Fe&&d&&zs(r),r.flags|=1,ut(n,r,l,h),r.child)}function Gc(n,r,l,d,h){if(ht(l)){var x=!0;zr(r)}else x=!1;if(ao(r,h),r.stateNode===null)ii(n,r),Nc(r,l,d),dl(r,l,d,h),d=!0;else if(n===null){var E=r.stateNode,w=r.memoizedProps;E.props=w;var _=E.context,D=l.contextType;typeof D=="object"&&D!==null?D=Nt(D):(D=ht(l)?An:rt.current,D=no(r,D));var V=l.getDerivedStateFromProps,B=typeof V=="function"||typeof E.getSnapshotBeforeUpdate=="function";B||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(w!==d||_!==D)&&Ic(r,E,d,D),gn=!1;var F=r.memoizedState;E.state=F,jr(r,d,E,h),_=r.memoizedState,w!==d||F!==_||pt.current||gn?(typeof V=="function"&&(cl(r,l,V,d),_=r.memoizedState),(w=gn||_c(r,l,w,d,F,_,D))?(B||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(r.flags|=4194308)):(typeof E.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=d,r.memoizedState=_),E.props=d,E.state=_,E.context=D,d=w):(typeof E.componentDidMount=="function"&&(r.flags|=4194308),d=!1)}else{E=r.stateNode,ec(n,r),w=r.memoizedProps,D=r.type===r.elementType?w:bt(r.type,w),E.props=D,B=r.pendingProps,F=E.context,_=l.contextType,typeof _=="object"&&_!==null?_=Nt(_):(_=ht(l)?An:rt.current,_=no(r,_));var X=l.getDerivedStateFromProps;(V=typeof X=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(w!==B||F!==_)&&Ic(r,E,d,_),gn=!1,F=r.memoizedState,E.state=F,jr(r,d,E,h);var ie=r.memoizedState;w!==B||F!==ie||pt.current||gn?(typeof X=="function"&&(cl(r,l,X,d),ie=r.memoizedState),(D=gn||_c(r,l,D,d,F,ie,_)||!1)?(V||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(d,ie,_),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(d,ie,_)),typeof E.componentDidUpdate=="function"&&(r.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof E.componentDidUpdate!="function"||w===n.memoizedProps&&F===n.memoizedState||(r.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||w===n.memoizedProps&&F===n.memoizedState||(r.flags|=1024),r.memoizedProps=d,r.memoizedState=ie),E.props=d,E.state=ie,E.context=_,d=D):(typeof E.componentDidUpdate!="function"||w===n.memoizedProps&&F===n.memoizedState||(r.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||w===n.memoizedProps&&F===n.memoizedState||(r.flags|=1024),d=!1)}return ml(n,r,l,d,x,h)}function ml(n,r,l,d,h,x){Fc(n,r);var E=(r.flags&128)!==0;if(!d&&!E)return h&&Ou(r,l,!1),en(n,r,x);d=r.stateNode,qm.current=r;var w=E&&typeof l.getDerivedStateFromError!="function"?null:d.render();return r.flags|=1,n!==null&&E?(r.child=so(r,n.child,null,x),r.child=so(r,null,w,x)):ut(n,r,w,x),r.memoizedState=d.state,h&&Ou(r,l,!0),r.child}function Vc(n){var r=n.stateNode;r.pendingContext?zu(n,r.pendingContext,r.pendingContext!==r.context):r.context&&zu(n,r.context,!1),Xs(n,r.containerInfo)}function Hc(n,r,l,d,h){return io(),$s(h),r.flags|=256,ut(n,r,l,d),r.child}var gl={dehydrated:null,treeContext:null,retryLane:0};function vl(n){return{baseLanes:n,cachePool:null,transitions:null}}function zc(n,r,l){var d=r.pendingProps,h=Ge.current,x=!1,E=(r.flags&128)!==0,w;if((w=E)||(w=n!==null&&n.memoizedState===null?!1:(h&2)!==0),w?(x=!0,r.flags&=-129):(n===null||n.memoizedState!==null)&&(h|=1),Me(Ge,h&1),n===null)return qs(r),n=r.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?((r.mode&1)===0?r.lanes=1:n.data==="$!"?r.lanes=8:r.lanes=1073741824,null):(E=d.children,n=d.fallback,x?(d=r.mode,x=r.child,E={mode:"hidden",children:E},(d&1)===0&&x!==null?(x.childLanes=0,x.pendingProps=E):x=vi(E,d,0,null),n=Gn(n,d,l,null),x.return=r,n.return=r,x.sibling=n,r.child=x,r.child.memoizedState=vl(l),r.memoizedState=gl,n):yl(r,E));if(h=n.memoizedState,h!==null&&(w=h.dehydrated,w!==null))return $m(n,r,E,d,w,h,l);if(x){x=d.fallback,E=r.mode,h=n.child,w=h.sibling;var _={mode:"hidden",children:d.children};return(E&1)===0&&r.child!==h?(d=r.child,d.childLanes=0,d.pendingProps=_,r.deletions=null):(d=Cn(h,_),d.subtreeFlags=h.subtreeFlags&14680064),w!==null?x=Cn(w,x):(x=Gn(x,E,l,null),x.flags|=2),x.return=r,d.return=r,d.sibling=x,r.child=d,d=x,x=r.child,E=n.child.memoizedState,E=E===null?vl(l):{baseLanes:E.baseLanes|l,cachePool:null,transitions:E.transitions},x.memoizedState=E,x.childLanes=n.childLanes&~l,r.memoizedState=gl,d}return x=n.child,n=x.sibling,d=Cn(x,{mode:"visible",children:d.children}),(r.mode&1)===0&&(d.lanes=l),d.return=r,d.sibling=null,n!==null&&(l=r.deletions,l===null?(r.deletions=[n],r.flags|=16):l.push(n)),r.child=d,r.memoizedState=null,d}function yl(n,r){return r=vi({mode:"visible",children:r},n.mode,0,null),r.return=n,n.child=r}function ri(n,r,l,d){return d!==null&&$s(d),so(r,n.child,null,l),n=yl(r,r.pendingProps.children),n.flags|=2,r.memoizedState=null,n}function $m(n,r,l,d,h,x,E){if(l)return r.flags&256?(r.flags&=-257,d=fl(Error(o(422))),ri(n,r,E,d)):r.memoizedState!==null?(r.child=n.child,r.flags|=128,null):(x=d.fallback,h=r.mode,d=vi({mode:"visible",children:d.children},h,0,null),x=Gn(x,h,E,null),x.flags|=2,d.return=r,x.return=r,d.sibling=x,r.child=d,(r.mode&1)!==0&&so(r,n.child,null,E),r.child.memoizedState=vl(E),r.memoizedState=gl,x);if((r.mode&1)===0)return ri(n,r,E,null);if(h.data==="$!"){if(d=h.nextSibling&&h.nextSibling.dataset,d)var w=d.dgst;return d=w,x=Error(o(419)),d=fl(x,d,void 0),ri(n,r,E,d)}if(w=(E&n.childLanes)!==0,mt||w){if(d=Qe,d!==null){switch(E&-E){case 4:h=2;break;case 16:h=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:h=32;break;case 536870912:h=268435456;break;default:h=0}h=(h&(d.suspendedLanes|E))!==0?0:h,h!==0&&h!==x.retryLane&&(x.retryLane=h,Xt(n,h),Gt(d,n,h,-1))}return Ll(),d=fl(Error(o(421))),ri(n,r,E,d)}return h.data==="$?"?(r.flags|=128,r.child=n.child,r=rg.bind(null,n),h._reactRetry=r,null):(n=x.treeContext,Et=fn(h.nextSibling),Tt=r,Fe=!0,Lt=null,n!==null&&(wt[_t++]=jt,wt[_t++]=Qt,wt[_t++]=kn,jt=n.id,Qt=n.overflow,kn=r),r=yl(r,d.children),r.flags|=4096,r)}function Bc(n,r,l){n.lanes|=r;var d=n.alternate;d!==null&&(d.lanes|=r),Ks(n.return,r,l)}function xl(n,r,l,d,h){var x=n.memoizedState;x===null?n.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:d,tail:l,tailMode:h}:(x.isBackwards=r,x.rendering=null,x.renderingStartTime=0,x.last=d,x.tail=l,x.tailMode=h)}function Oc(n,r,l){var d=r.pendingProps,h=d.revealOrder,x=d.tail;if(ut(n,r,d.children,l),d=Ge.current,(d&2)!==0)d=d&1|2,r.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=r.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Bc(n,l,r);else if(n.tag===19)Bc(n,l,r);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break e;for(;n.sibling===null;){if(n.return===null||n.return===r)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}d&=1}if(Me(Ge,d),(r.mode&1)===0)r.memoizedState=null;else switch(h){case"forwards":for(l=r.child,h=null;l!==null;)n=l.alternate,n!==null&&Qr(n)===null&&(h=l),l=l.sibling;l=h,l===null?(h=r.child,r.child=null):(h=l.sibling,l.sibling=null),xl(r,!1,h,l,x);break;case"backwards":for(l=null,h=r.child,r.child=null;h!==null;){if(n=h.alternate,n!==null&&Qr(n)===null){r.child=h;break}n=h.sibling,h.sibling=l,l=h,h=n}xl(r,!0,l,null,x);break;case"together":xl(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function ii(n,r){(r.mode&1)===0&&n!==null&&(n.alternate=null,r.alternate=null,r.flags|=2)}function en(n,r,l){if(n!==null&&(r.dependencies=n.dependencies),Ln|=r.lanes,(l&r.childLanes)===0)return null;if(n!==null&&r.child!==n.child)throw Error(o(153));if(r.child!==null){for(n=r.child,l=Cn(n,n.pendingProps),r.child=l,l.return=r;n.sibling!==null;)n=n.sibling,l=l.sibling=Cn(n,n.pendingProps),l.return=r;l.sibling=null}return r.child}function Jm(n,r,l){switch(r.tag){case 3:Vc(r),io();break;case 5:oc(r);break;case 1:ht(r.type)&&zr(r);break;case 4:Xs(r,r.stateNode.containerInfo);break;case 10:var d=r.type._context,h=r.memoizedProps.value;Me(Wr,d._currentValue),d._currentValue=h;break;case 13:if(d=r.memoizedState,d!==null)return d.dehydrated!==null?(Me(Ge,Ge.current&1),r.flags|=128,null):(l&r.child.childLanes)!==0?zc(n,r,l):(Me(Ge,Ge.current&1),n=en(n,r,l),n!==null?n.sibling:null);Me(Ge,Ge.current&1);break;case 19:if(d=(l&r.childLanes)!==0,(n.flags&128)!==0){if(d)return Oc(n,r,l);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Me(Ge,Ge.current),d)break;return null;case 22:case 23:return r.lanes=0,Uc(n,r,l)}return en(n,r,l)}var qc,Sl,$c,Jc;qc=function(n,r){for(var l=r.child;l!==null;){if(l.tag===5||l.tag===6)n.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===r)break;for(;l.sibling===null;){if(l.return===null||l.return===r)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},Sl=function(){},$c=function(n,r,l,d){var h=n.memoizedProps;if(h!==d){n=r.stateNode,Mn(qt.current);var x=null;switch(l){case"input":h=He(n,h),d=He(n,d),x=[];break;case"select":h=q({},h,{value:void 0}),d=q({},d,{value:void 0}),x=[];break;case"textarea":h=Xi(n,h),d=Xi(n,d),x=[];break;default:typeof h.onClick!="function"&&typeof d.onClick=="function"&&(n.onclick=Gr)}es(l,d);var E;l=null;for(D in h)if(!d.hasOwnProperty(D)&&h.hasOwnProperty(D)&&h[D]!=null)if(D==="style"){var w=h[D];for(E in w)w.hasOwnProperty(E)&&(l||(l={}),l[E]="")}else D!=="dangerouslySetInnerHTML"&&D!=="children"&&D!=="suppressContentEditableWarning"&&D!=="suppressHydrationWarning"&&D!=="autoFocus"&&(s.hasOwnProperty(D)?x||(x=[]):(x=x||[]).push(D,null));for(D in d){var _=d[D];if(w=h!=null?h[D]:void 0,d.hasOwnProperty(D)&&_!==w&&(_!=null||w!=null))if(D==="style")if(w){for(E in w)!w.hasOwnProperty(E)||_&&_.hasOwnProperty(E)||(l||(l={}),l[E]="");for(E in _)_.hasOwnProperty(E)&&w[E]!==_[E]&&(l||(l={}),l[E]=_[E])}else l||(x||(x=[]),x.push(D,l)),l=_;else D==="dangerouslySetInnerHTML"?(_=_?_.__html:void 0,w=w?w.__html:void 0,_!=null&&w!==_&&(x=x||[]).push(D,_)):D==="children"?typeof _!="string"&&typeof _!="number"||(x=x||[]).push(D,""+_):D!=="suppressContentEditableWarning"&&D!=="suppressHydrationWarning"&&(s.hasOwnProperty(D)?(_!=null&&D==="onScroll"&&De("scroll",n),x||w===_||(x=[])):(x=x||[]).push(D,_))}l&&(x=x||[]).push("style",l);var D=x;(r.updateQueue=D)&&(r.flags|=4)}},Jc=function(n,r,l,d){l!==d&&(r.flags|=4)};function ir(n,r){if(!Fe)switch(n.tailMode){case"hidden":r=n.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n.tail=null:l.sibling=null;break;case"collapsed":l=n.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?r||n.tail===null?n.tail=null:n.tail.sibling=null:d.sibling=null}}function st(n){var r=n.alternate!==null&&n.alternate.child===n.child,l=0,d=0;if(r)for(var h=n.child;h!==null;)l|=h.lanes|h.childLanes,d|=h.subtreeFlags&14680064,d|=h.flags&14680064,h.return=n,h=h.sibling;else for(h=n.child;h!==null;)l|=h.lanes|h.childLanes,d|=h.subtreeFlags,d|=h.flags,h.return=n,h=h.sibling;return n.subtreeFlags|=d,n.childLanes=l,r}function Wm(n,r,l){var d=r.pendingProps;switch(Bs(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return st(r),null;case 1:return ht(r.type)&&Hr(),st(r),null;case 3:return d=r.stateNode,uo(),Le(pt),Le(rt),tl(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(n===null||n.child===null)&&($r(r)?r.flags|=4:n===null||n.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Lt!==null&&(Pl(Lt),Lt=null))),Sl(n,r),st(r),null;case 5:Zs(r);var h=Mn(er.current);if(l=r.type,n!==null&&r.stateNode!=null)$c(n,r,l,d,h),n.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!d){if(r.stateNode===null)throw Error(o(166));return st(r),null}if(n=Mn(qt.current),$r(r)){d=r.stateNode,l=r.type;var x=r.memoizedProps;switch(d[Ot]=r,d[Ko]=x,n=(r.mode&1)!==0,l){case"dialog":De("cancel",d),De("close",d);break;case"iframe":case"object":case"embed":De("load",d);break;case"video":case"audio":for(h=0;h<Jo.length;h++)De(Jo[h],d);break;case"source":De("error",d);break;case"img":case"image":case"link":De("error",d),De("load",d);break;case"details":De("toggle",d);break;case"input":_o(d,x),De("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!x.multiple},De("invalid",d);break;case"textarea":ka(d,x),De("invalid",d)}es(l,x),h=null;for(var E in x)if(x.hasOwnProperty(E)){var w=x[E];E==="children"?typeof w=="string"?d.textContent!==w&&(x.suppressHydrationWarning!==!0&&Fr(d.textContent,w,n),h=["children",w]):typeof w=="number"&&d.textContent!==""+w&&(x.suppressHydrationWarning!==!0&&Fr(d.textContent,w,n),h=["children",""+w]):s.hasOwnProperty(E)&&w!=null&&E==="onScroll"&&De("scroll",d)}switch(l){case"input":et(d),Je(d,x,!0);break;case"textarea":et(d),Pa(d);break;case"select":case"option":break;default:typeof x.onClick=="function"&&(d.onclick=Gr)}d=h,r.updateQueue=d,d!==null&&(r.flags|=4)}else{E=h.nodeType===9?h:h.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=Ma(l)),n==="http://www.w3.org/1999/xhtml"?l==="script"?(n=E.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof d.is=="string"?n=E.createElement(l,{is:d.is}):(n=E.createElement(l),l==="select"&&(E=n,d.multiple?E.multiple=!0:d.size&&(E.size=d.size))):n=E.createElementNS(n,l),n[Ot]=r,n[Ko]=d,qc(n,r,!1,!1),r.stateNode=n;e:{switch(E=ts(l,d),l){case"dialog":De("cancel",n),De("close",n),h=d;break;case"iframe":case"object":case"embed":De("load",n),h=d;break;case"video":case"audio":for(h=0;h<Jo.length;h++)De(Jo[h],n);h=d;break;case"source":De("error",n),h=d;break;case"img":case"image":case"link":De("error",n),De("load",n),h=d;break;case"details":De("toggle",n),h=d;break;case"input":_o(n,d),h=He(n,d),De("invalid",n);break;case"option":h=d;break;case"select":n._wrapperState={wasMultiple:!!d.multiple},h=q({},d,{value:void 0}),De("invalid",n);break;case"textarea":ka(n,d),h=Xi(n,d),De("invalid",n);break;default:h=d}es(l,h),w=h;for(x in w)if(w.hasOwnProperty(x)){var _=w[x];x==="style"?ba(n,_):x==="dangerouslySetInnerHTML"?(_=_?_.__html:void 0,_!=null&&Da(n,_)):x==="children"?typeof _=="string"?(l!=="textarea"||_!=="")&&Io(n,_):typeof _=="number"&&Io(n,""+_):x!=="suppressContentEditableWarning"&&x!=="suppressHydrationWarning"&&x!=="autoFocus"&&(s.hasOwnProperty(x)?_!=null&&x==="onScroll"&&De("scroll",n):_!=null&&H(n,x,_,E))}switch(l){case"input":et(n),Je(n,d,!1);break;case"textarea":et(n),Pa(n);break;case"option":d.value!=null&&n.setAttribute("value",""+K(d.value));break;case"select":n.multiple=!!d.multiple,x=d.value,x!=null?qn(n,!!d.multiple,x,!1):d.defaultValue!=null&&qn(n,!!d.multiple,d.defaultValue,!0);break;default:typeof h.onClick=="function"&&(n.onclick=Gr)}switch(l){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return st(r),null;case 6:if(n&&r.stateNode!=null)Jc(n,r,n.memoizedProps,d);else{if(typeof d!="string"&&r.stateNode===null)throw Error(o(166));if(l=Mn(er.current),Mn(qt.current),$r(r)){if(d=r.stateNode,l=r.memoizedProps,d[Ot]=r,(x=d.nodeValue!==l)&&(n=Tt,n!==null))switch(n.tag){case 3:Fr(d.nodeValue,l,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&Fr(d.nodeValue,l,(n.mode&1)!==0)}x&&(r.flags|=4)}else d=(l.nodeType===9?l:l.ownerDocument).createTextNode(d),d[Ot]=r,r.stateNode=d}return st(r),null;case 13:if(Le(Ge),d=r.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(Fe&&Et!==null&&(r.mode&1)!==0&&(r.flags&128)===0)Ku(),io(),r.flags|=98560,x=!1;else if(x=$r(r),d!==null&&d.dehydrated!==null){if(n===null){if(!x)throw Error(o(318));if(x=r.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(o(317));x[Ot]=r}else io(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;st(r),x=!1}else Lt!==null&&(Pl(Lt),Lt=null),x=!0;if(!x)return r.flags&65536?r:null}return(r.flags&128)!==0?(r.lanes=l,r):(d=d!==null,d!==(n!==null&&n.memoizedState!==null)&&d&&(r.child.flags|=8192,(r.mode&1)!==0&&(n===null||(Ge.current&1)!==0?Ke===0&&(Ke=3):Ll())),r.updateQueue!==null&&(r.flags|=4),st(r),null);case 4:return uo(),Sl(n,r),n===null&&Wo(r.stateNode.containerInfo),st(r),null;case 10:return Ys(r.type._context),st(r),null;case 17:return ht(r.type)&&Hr(),st(r),null;case 19:if(Le(Ge),x=r.memoizedState,x===null)return st(r),null;if(d=(r.flags&128)!==0,E=x.rendering,E===null)if(d)ir(x,!1);else{if(Ke!==0||n!==null&&(n.flags&128)!==0)for(n=r.child;n!==null;){if(E=Qr(n),E!==null){for(r.flags|=128,ir(x,!1),d=E.updateQueue,d!==null&&(r.updateQueue=d,r.flags|=4),r.subtreeFlags=0,d=l,l=r.child;l!==null;)x=l,n=d,x.flags&=14680066,E=x.alternate,E===null?(x.childLanes=0,x.lanes=n,x.child=null,x.subtreeFlags=0,x.memoizedProps=null,x.memoizedState=null,x.updateQueue=null,x.dependencies=null,x.stateNode=null):(x.childLanes=E.childLanes,x.lanes=E.lanes,x.child=E.child,x.subtreeFlags=0,x.deletions=null,x.memoizedProps=E.memoizedProps,x.memoizedState=E.memoizedState,x.updateQueue=E.updateQueue,x.type=E.type,n=E.dependencies,x.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),l=l.sibling;return Me(Ge,Ge.current&1|2),r.child}n=n.sibling}x.tail!==null&&Oe()>ho&&(r.flags|=128,d=!0,ir(x,!1),r.lanes=4194304)}else{if(!d)if(n=Qr(E),n!==null){if(r.flags|=128,d=!0,l=n.updateQueue,l!==null&&(r.updateQueue=l,r.flags|=4),ir(x,!0),x.tail===null&&x.tailMode==="hidden"&&!E.alternate&&!Fe)return st(r),null}else 2*Oe()-x.renderingStartTime>ho&&l!==1073741824&&(r.flags|=128,d=!0,ir(x,!1),r.lanes=4194304);x.isBackwards?(E.sibling=r.child,r.child=E):(l=x.last,l!==null?l.sibling=E:r.child=E,x.last=E)}return x.tail!==null?(r=x.tail,x.rendering=r,x.tail=r.sibling,x.renderingStartTime=Oe(),r.sibling=null,l=Ge.current,Me(Ge,d?l&1|2:l&1),r):(st(r),null);case 22:case 23:return Dl(),d=r.memoizedState!==null,n!==null&&n.memoizedState!==null!==d&&(r.flags|=8192),d&&(r.mode&1)!==0?(Ct&1073741824)!==0&&(st(r),r.subtreeFlags&6&&(r.flags|=8192)):st(r),null;case 24:return null;case 25:return null}throw Error(o(156,r.tag))}function Ym(n,r){switch(Bs(r),r.tag){case 1:return ht(r.type)&&Hr(),n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 3:return uo(),Le(pt),Le(rt),tl(),n=r.flags,(n&65536)!==0&&(n&128)===0?(r.flags=n&-65537|128,r):null;case 5:return Zs(r),null;case 13:if(Le(Ge),n=r.memoizedState,n!==null&&n.dehydrated!==null){if(r.alternate===null)throw Error(o(340));io()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 19:return Le(Ge),null;case 4:return uo(),null;case 10:return Ys(r.type._context),null;case 22:case 23:return Dl(),null;case 24:return null;default:return null}}var si=!1,lt=!1,Km=typeof WeakSet=="function"?WeakSet:Set,ne=null;function fo(n,r){var l=n.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(d){ze(n,r,d)}else l.current=null}function Tl(n,r,l){try{l()}catch(d){ze(n,r,d)}}var Wc=!1;function jm(n,r){if(Ds=Nr,n=_u(),_s(n)){if("selectionStart"in n)var l={start:n.selectionStart,end:n.selectionEnd};else e:{l=(l=n.ownerDocument)&&l.defaultView||window;var d=l.getSelection&&l.getSelection();if(d&&d.rangeCount!==0){l=d.anchorNode;var h=d.anchorOffset,x=d.focusNode;d=d.focusOffset;try{l.nodeType,x.nodeType}catch{l=null;break e}var E=0,w=-1,_=-1,D=0,V=0,B=n,F=null;t:for(;;){for(var X;B!==l||h!==0&&B.nodeType!==3||(w=E+h),B!==x||d!==0&&B.nodeType!==3||(_=E+d),B.nodeType===3&&(E+=B.nodeValue.length),(X=B.firstChild)!==null;)F=B,B=X;for(;;){if(B===n)break t;if(F===l&&++D===h&&(w=E),F===x&&++V===d&&(_=E),(X=B.nextSibling)!==null)break;B=F,F=B.parentNode}B=X}l=w===-1||_===-1?null:{start:w,end:_}}else l=null}l=l||{start:0,end:0}}else l=null;for(Ls={focusedElem:n,selectionRange:l},Nr=!1,ne=r;ne!==null;)if(r=ne,n=r.child,(r.subtreeFlags&1028)!==0&&n!==null)n.return=r,ne=n;else for(;ne!==null;){r=ne;try{var ie=r.alternate;if((r.flags&1024)!==0)switch(r.tag){case 0:case 11:case 15:break;case 1:if(ie!==null){var le=ie.memoizedProps,qe=ie.memoizedState,P=r.stateNode,N=P.getSnapshotBeforeUpdate(r.elementType===r.type?le:bt(r.type,le),qe);P.__reactInternalSnapshotBeforeUpdate=N}break;case 3:var M=r.stateNode.containerInfo;M.nodeType===1?M.textContent="":M.nodeType===9&&M.documentElement&&M.removeChild(M.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch($){ze(r,r.return,$)}if(n=r.sibling,n!==null){n.return=r.return,ne=n;break}ne=r.return}return ie=Wc,Wc=!1,ie}function sr(n,r,l){var d=r.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var h=d=d.next;do{if((h.tag&n)===n){var x=h.destroy;h.destroy=void 0,x!==void 0&&Tl(r,l,x)}h=h.next}while(h!==d)}}function li(n,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var l=r=r.next;do{if((l.tag&n)===n){var d=l.create;l.destroy=d()}l=l.next}while(l!==r)}}function El(n){var r=n.ref;if(r!==null){var l=n.stateNode;switch(n.tag){case 5:n=l;break;default:n=l}typeof r=="function"?r(n):r.current=n}}function Yc(n){var r=n.alternate;r!==null&&(n.alternate=null,Yc(r)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(r=n.stateNode,r!==null&&(delete r[Ot],delete r[Ko],delete r[Gs],delete r[Mm],delete r[Dm])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function Kc(n){return n.tag===5||n.tag===3||n.tag===4}function jc(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Kc(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Cl(n,r,l){var d=n.tag;if(d===5||d===6)n=n.stateNode,r?l.nodeType===8?l.parentNode.insertBefore(n,r):l.insertBefore(n,r):(l.nodeType===8?(r=l.parentNode,r.insertBefore(n,l)):(r=l,r.appendChild(n)),l=l._reactRootContainer,l!=null||r.onclick!==null||(r.onclick=Gr));else if(d!==4&&(n=n.child,n!==null))for(Cl(n,r,l),n=n.sibling;n!==null;)Cl(n,r,l),n=n.sibling}function wl(n,r,l){var d=n.tag;if(d===5||d===6)n=n.stateNode,r?l.insertBefore(n,r):l.appendChild(n);else if(d!==4&&(n=n.child,n!==null))for(wl(n,r,l),n=n.sibling;n!==null;)wl(n,r,l),n=n.sibling}var nt=null,Ut=!1;function yn(n,r,l){for(l=l.child;l!==null;)Qc(n,r,l),l=l.sibling}function Qc(n,r,l){if(Bt&&typeof Bt.onCommitFiberUnmount=="function")try{Bt.onCommitFiberUnmount(Sr,l)}catch{}switch(l.tag){case 5:lt||fo(l,r);case 6:var d=nt,h=Ut;nt=null,yn(n,r,l),nt=d,Ut=h,nt!==null&&(Ut?(n=nt,l=l.stateNode,n.nodeType===8?n.parentNode.removeChild(l):n.removeChild(l)):nt.removeChild(l.stateNode));break;case 18:nt!==null&&(Ut?(n=nt,l=l.stateNode,n.nodeType===8?Fs(n.parentNode,l):n.nodeType===1&&Fs(n,l),Go(n)):Fs(nt,l.stateNode));break;case 4:d=nt,h=Ut,nt=l.stateNode.containerInfo,Ut=!0,yn(n,r,l),nt=d,Ut=h;break;case 0:case 11:case 14:case 15:if(!lt&&(d=l.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){h=d=d.next;do{var x=h,E=x.destroy;x=x.tag,E!==void 0&&((x&2)!==0||(x&4)!==0)&&Tl(l,r,E),h=h.next}while(h!==d)}yn(n,r,l);break;case 1:if(!lt&&(fo(l,r),d=l.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=l.memoizedProps,d.state=l.memoizedState,d.componentWillUnmount()}catch(w){ze(l,r,w)}yn(n,r,l);break;case 21:yn(n,r,l);break;case 22:l.mode&1?(lt=(d=lt)||l.memoizedState!==null,yn(n,r,l),lt=d):yn(n,r,l);break;default:yn(n,r,l)}}function Xc(n){var r=n.updateQueue;if(r!==null){n.updateQueue=null;var l=n.stateNode;l===null&&(l=n.stateNode=new Km),r.forEach(function(d){var h=ig.bind(null,n,d);l.has(d)||(l.add(d),d.then(h,h))})}}function Ft(n,r){var l=r.deletions;if(l!==null)for(var d=0;d<l.length;d++){var h=l[d];try{var x=n,E=r,w=E;e:for(;w!==null;){switch(w.tag){case 5:nt=w.stateNode,Ut=!1;break e;case 3:nt=w.stateNode.containerInfo,Ut=!0;break e;case 4:nt=w.stateNode.containerInfo,Ut=!0;break e}w=w.return}if(nt===null)throw Error(o(160));Qc(x,E,h),nt=null,Ut=!1;var _=h.alternate;_!==null&&(_.return=null),h.return=null}catch(D){ze(h,r,D)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)Zc(r,n),r=r.sibling}function Zc(n,r){var l=n.alternate,d=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Ft(r,n),Jt(n),d&4){try{sr(3,n,n.return),li(3,n)}catch(le){ze(n,n.return,le)}try{sr(5,n,n.return)}catch(le){ze(n,n.return,le)}}break;case 1:Ft(r,n),Jt(n),d&512&&l!==null&&fo(l,l.return);break;case 5:if(Ft(r,n),Jt(n),d&512&&l!==null&&fo(l,l.return),n.flags&32){var h=n.stateNode;try{Io(h,"")}catch(le){ze(n,n.return,le)}}if(d&4&&(h=n.stateNode,h!=null)){var x=n.memoizedProps,E=l!==null?l.memoizedProps:x,w=n.type,_=n.updateQueue;if(n.updateQueue=null,_!==null)try{w==="input"&&x.type==="radio"&&x.name!=null&&tt(h,x),ts(w,E);var D=ts(w,x);for(E=0;E<_.length;E+=2){var V=_[E],B=_[E+1];V==="style"?ba(h,B):V==="dangerouslySetInnerHTML"?Da(h,B):V==="children"?Io(h,B):H(h,V,B,D)}switch(w){case"input":xt(h,x);break;case"textarea":Ra(h,x);break;case"select":var F=h._wrapperState.wasMultiple;h._wrapperState.wasMultiple=!!x.multiple;var X=x.value;X!=null?qn(h,!!x.multiple,X,!1):F!==!!x.multiple&&(x.defaultValue!=null?qn(h,!!x.multiple,x.defaultValue,!0):qn(h,!!x.multiple,x.multiple?[]:"",!1))}h[Ko]=x}catch(le){ze(n,n.return,le)}}break;case 6:if(Ft(r,n),Jt(n),d&4){if(n.stateNode===null)throw Error(o(162));h=n.stateNode,x=n.memoizedProps;try{h.nodeValue=x}catch(le){ze(n,n.return,le)}}break;case 3:if(Ft(r,n),Jt(n),d&4&&l!==null&&l.memoizedState.isDehydrated)try{Go(r.containerInfo)}catch(le){ze(n,n.return,le)}break;case 4:Ft(r,n),Jt(n);break;case 13:Ft(r,n),Jt(n),h=n.child,h.flags&8192&&(x=h.memoizedState!==null,h.stateNode.isHidden=x,!x||h.alternate!==null&&h.alternate.memoizedState!==null||(Il=Oe())),d&4&&Xc(n);break;case 22:if(V=l!==null&&l.memoizedState!==null,n.mode&1?(lt=(D=lt)||V,Ft(r,n),lt=D):Ft(r,n),Jt(n),d&8192){if(D=n.memoizedState!==null,(n.stateNode.isHidden=D)&&!V&&(n.mode&1)!==0)for(ne=n,V=n.child;V!==null;){for(B=ne=V;ne!==null;){switch(F=ne,X=F.child,F.tag){case 0:case 11:case 14:case 15:sr(4,F,F.return);break;case 1:fo(F,F.return);var ie=F.stateNode;if(typeof ie.componentWillUnmount=="function"){d=F,l=F.return;try{r=d,ie.props=r.memoizedProps,ie.state=r.memoizedState,ie.componentWillUnmount()}catch(le){ze(d,l,le)}}break;case 5:fo(F,F.return);break;case 22:if(F.memoizedState!==null){nd(B);continue}}X!==null?(X.return=F,ne=X):nd(B)}V=V.sibling}e:for(V=null,B=n;;){if(B.tag===5){if(V===null){V=B;try{h=B.stateNode,D?(x=h.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none"):(w=B.stateNode,_=B.memoizedProps.style,E=_!=null&&_.hasOwnProperty("display")?_.display:null,w.style.display=La("display",E))}catch(le){ze(n,n.return,le)}}}else if(B.tag===6){if(V===null)try{B.stateNode.nodeValue=D?"":B.memoizedProps}catch(le){ze(n,n.return,le)}}else if((B.tag!==22&&B.tag!==23||B.memoizedState===null||B===n)&&B.child!==null){B.child.return=B,B=B.child;continue}if(B===n)break e;for(;B.sibling===null;){if(B.return===null||B.return===n)break e;V===B&&(V=null),B=B.return}V===B&&(V=null),B.sibling.return=B.return,B=B.sibling}}break;case 19:Ft(r,n),Jt(n),d&4&&Xc(n);break;case 21:break;default:Ft(r,n),Jt(n)}}function Jt(n){var r=n.flags;if(r&2){try{e:{for(var l=n.return;l!==null;){if(Kc(l)){var d=l;break e}l=l.return}throw Error(o(160))}switch(d.tag){case 5:var h=d.stateNode;d.flags&32&&(Io(h,""),d.flags&=-33);var x=jc(n);wl(n,x,h);break;case 3:case 4:var E=d.stateNode.containerInfo,w=jc(n);Cl(n,w,E);break;default:throw Error(o(161))}}catch(_){ze(n,n.return,_)}n.flags&=-3}r&4096&&(n.flags&=-4097)}function Qm(n,r,l){ne=n,ed(n)}function ed(n,r,l){for(var d=(n.mode&1)!==0;ne!==null;){var h=ne,x=h.child;if(h.tag===22&&d){var E=h.memoizedState!==null||si;if(!E){var w=h.alternate,_=w!==null&&w.memoizedState!==null||lt;w=si;var D=lt;if(si=E,(lt=_)&&!D)for(ne=h;ne!==null;)E=ne,_=E.child,E.tag===22&&E.memoizedState!==null?od(h):_!==null?(_.return=E,ne=_):od(h);for(;x!==null;)ne=x,ed(x),x=x.sibling;ne=h,si=w,lt=D}td(n)}else(h.subtreeFlags&8772)!==0&&x!==null?(x.return=h,ne=x):td(n)}}function td(n){for(;ne!==null;){var r=ne;if((r.flags&8772)!==0){var l=r.alternate;try{if((r.flags&8772)!==0)switch(r.tag){case 0:case 11:case 15:lt||li(5,r);break;case 1:var d=r.stateNode;if(r.flags&4&&!lt)if(l===null)d.componentDidMount();else{var h=r.elementType===r.type?l.memoizedProps:bt(r.type,l.memoizedProps);d.componentDidUpdate(h,l.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var x=r.updateQueue;x!==null&&nc(r,x,d);break;case 3:var E=r.updateQueue;if(E!==null){if(l=null,r.child!==null)switch(r.child.tag){case 5:l=r.child.stateNode;break;case 1:l=r.child.stateNode}nc(r,E,l)}break;case 5:var w=r.stateNode;if(l===null&&r.flags&4){l=w;var _=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":_.autoFocus&&l.focus();break;case"img":_.src&&(l.src=_.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var D=r.alternate;if(D!==null){var V=D.memoizedState;if(V!==null){var B=V.dehydrated;B!==null&&Go(B)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(o(163))}lt||r.flags&512&&El(r)}catch(F){ze(r,r.return,F)}}if(r===n){ne=null;break}if(l=r.sibling,l!==null){l.return=r.return,ne=l;break}ne=r.return}}function nd(n){for(;ne!==null;){var r=ne;if(r===n){ne=null;break}var l=r.sibling;if(l!==null){l.return=r.return,ne=l;break}ne=r.return}}function od(n){for(;ne!==null;){var r=ne;try{switch(r.tag){case 0:case 11:case 15:var l=r.return;try{li(4,r)}catch(_){ze(r,l,_)}break;case 1:var d=r.stateNode;if(typeof d.componentDidMount=="function"){var h=r.return;try{d.componentDidMount()}catch(_){ze(r,h,_)}}var x=r.return;try{El(r)}catch(_){ze(r,x,_)}break;case 5:var E=r.return;try{El(r)}catch(_){ze(r,E,_)}}}catch(_){ze(r,r.return,_)}if(r===n){ne=null;break}var w=r.sibling;if(w!==null){w.return=r.return,ne=w;break}ne=r.return}}var Xm=Math.ceil,ai=z.ReactCurrentDispatcher,_l=z.ReactCurrentOwner,At=z.ReactCurrentBatchConfig,_e=0,Qe=null,We=null,ot=0,Ct=0,po=pn(0),Ke=0,lr=null,Ln=0,ui=0,Nl=0,ar=null,gt=null,Il=0,ho=1/0,tn=null,ci=!1,Al=null,xn=null,di=!1,Sn=null,fi=0,ur=0,kl=null,pi=-1,hi=0;function ct(){return(_e&6)!==0?Oe():pi!==-1?pi:pi=Oe()}function Tn(n){return(n.mode&1)===0?1:(_e&2)!==0&&ot!==0?ot&-ot:bm.transition!==null?(hi===0&&(hi=ja()),hi):(n=Pe,n!==0||(n=window.event,n=n===void 0?16:iu(n.type)),n)}function Gt(n,r,l,d){if(50<ur)throw ur=0,kl=null,Error(o(185));Do(n,l,d),((_e&2)===0||n!==Qe)&&(n===Qe&&((_e&2)===0&&(ui|=l),Ke===4&&En(n,ot)),vt(n,d),l===1&&_e===0&&(r.mode&1)===0&&(ho=Oe()+500,Br&&mn()))}function vt(n,r){var l=n.callbackNode;bh(n,r);var d=Cr(n,n===Qe?ot:0);if(d===0)l!==null&&Wa(l),n.callbackNode=null,n.callbackPriority=0;else if(r=d&-d,n.callbackPriority!==r){if(l!=null&&Wa(l),r===1)n.tag===0?Lm(id.bind(null,n)):qu(id.bind(null,n)),Rm(function(){(_e&6)===0&&mn()}),l=null;else{switch(Qa(d)){case 1:l=as;break;case 4:l=Ya;break;case 16:l=xr;break;case 536870912:l=Ka;break;default:l=xr}l=pd(l,rd.bind(null,n))}n.callbackPriority=r,n.callbackNode=l}}function rd(n,r){if(pi=-1,hi=0,(_e&6)!==0)throw Error(o(327));var l=n.callbackNode;if(mo()&&n.callbackNode!==l)return null;var d=Cr(n,n===Qe?ot:0);if(d===0)return null;if((d&30)!==0||(d&n.expiredLanes)!==0||r)r=mi(n,d);else{r=d;var h=_e;_e|=2;var x=ld();(Qe!==n||ot!==r)&&(tn=null,ho=Oe()+500,Un(n,r));do try{tg();break}catch(w){sd(n,w)}while(!0);Ws(),ai.current=x,_e=h,We!==null?r=0:(Qe=null,ot=0,r=Ke)}if(r!==0){if(r===2&&(h=us(n),h!==0&&(d=h,r=Rl(n,h))),r===1)throw l=lr,Un(n,0),En(n,d),vt(n,Oe()),l;if(r===6)En(n,d);else{if(h=n.current.alternate,(d&30)===0&&!Zm(h)&&(r=mi(n,d),r===2&&(x=us(n),x!==0&&(d=x,r=Rl(n,x))),r===1))throw l=lr,Un(n,0),En(n,d),vt(n,Oe()),l;switch(n.finishedWork=h,n.finishedLanes=d,r){case 0:case 1:throw Error(o(345));case 2:Fn(n,gt,tn);break;case 3:if(En(n,d),(d&130023424)===d&&(r=Il+500-Oe(),10<r)){if(Cr(n,0)!==0)break;if(h=n.suspendedLanes,(h&d)!==d){ct(),n.pingedLanes|=n.suspendedLanes&h;break}n.timeoutHandle=Us(Fn.bind(null,n,gt,tn),r);break}Fn(n,gt,tn);break;case 4:if(En(n,d),(d&4194240)===d)break;for(r=n.eventTimes,h=-1;0<d;){var E=31-Mt(d);x=1<<E,E=r[E],E>h&&(h=E),d&=~x}if(d=h,d=Oe()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*Xm(d/1960))-d,10<d){n.timeoutHandle=Us(Fn.bind(null,n,gt,tn),d);break}Fn(n,gt,tn);break;case 5:Fn(n,gt,tn);break;default:throw Error(o(329))}}}return vt(n,Oe()),n.callbackNode===l?rd.bind(null,n):null}function Rl(n,r){var l=ar;return n.current.memoizedState.isDehydrated&&(Un(n,r).flags|=256),n=mi(n,r),n!==2&&(r=gt,gt=l,r!==null&&Pl(r)),n}function Pl(n){gt===null?gt=n:gt.push.apply(gt,n)}function Zm(n){for(var r=n;;){if(r.flags&16384){var l=r.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var d=0;d<l.length;d++){var h=l[d],x=h.getSnapshot;h=h.value;try{if(!Dt(x(),h))return!1}catch{return!1}}}if(l=r.child,r.subtreeFlags&16384&&l!==null)l.return=r,r=l;else{if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function En(n,r){for(r&=~Nl,r&=~ui,n.suspendedLanes|=r,n.pingedLanes&=~r,n=n.expirationTimes;0<r;){var l=31-Mt(r),d=1<<l;n[l]=-1,r&=~d}}function id(n){if((_e&6)!==0)throw Error(o(327));mo();var r=Cr(n,0);if((r&1)===0)return vt(n,Oe()),null;var l=mi(n,r);if(n.tag!==0&&l===2){var d=us(n);d!==0&&(r=d,l=Rl(n,d))}if(l===1)throw l=lr,Un(n,0),En(n,r),vt(n,Oe()),l;if(l===6)throw Error(o(345));return n.finishedWork=n.current.alternate,n.finishedLanes=r,Fn(n,gt,tn),vt(n,Oe()),null}function Ml(n,r){var l=_e;_e|=1;try{return n(r)}finally{_e=l,_e===0&&(ho=Oe()+500,Br&&mn())}}function bn(n){Sn!==null&&Sn.tag===0&&(_e&6)===0&&mo();var r=_e;_e|=1;var l=At.transition,d=Pe;try{if(At.transition=null,Pe=1,n)return n()}finally{Pe=d,At.transition=l,_e=r,(_e&6)===0&&mn()}}function Dl(){Ct=po.current,Le(po)}function Un(n,r){n.finishedWork=null,n.finishedLanes=0;var l=n.timeoutHandle;if(l!==-1&&(n.timeoutHandle=-1,km(l)),We!==null)for(l=We.return;l!==null;){var d=l;switch(Bs(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&Hr();break;case 3:uo(),Le(pt),Le(rt),tl();break;case 5:Zs(d);break;case 4:uo();break;case 13:Le(Ge);break;case 19:Le(Ge);break;case 10:Ys(d.type._context);break;case 22:case 23:Dl()}l=l.return}if(Qe=n,We=n=Cn(n.current,null),ot=Ct=r,Ke=0,lr=null,Nl=ui=Ln=0,gt=ar=null,Pn!==null){for(r=0;r<Pn.length;r++)if(l=Pn[r],d=l.interleaved,d!==null){l.interleaved=null;var h=d.next,x=l.pending;if(x!==null){var E=x.next;x.next=h,d.next=E}l.pending=d}Pn=null}return n}function sd(n,r){do{var l=We;try{if(Ws(),Xr.current=ni,Zr){for(var d=Ve.memoizedState;d!==null;){var h=d.queue;h!==null&&(h.pending=null),d=d.next}Zr=!1}if(Dn=0,je=Ye=Ve=null,tr=!1,nr=0,_l.current=null,l===null||l.return===null){Ke=1,lr=r,We=null;break}e:{var x=n,E=l.return,w=l,_=r;if(r=ot,w.flags|=32768,_!==null&&typeof _=="object"&&typeof _.then=="function"){var D=_,V=w,B=V.tag;if((V.mode&1)===0&&(B===0||B===11||B===15)){var F=V.alternate;F?(V.updateQueue=F.updateQueue,V.memoizedState=F.memoizedState,V.lanes=F.lanes):(V.updateQueue=null,V.memoizedState=null)}var X=Pc(E);if(X!==null){X.flags&=-257,Mc(X,E,w,x,r),X.mode&1&&Rc(x,D,r),r=X,_=D;var ie=r.updateQueue;if(ie===null){var le=new Set;le.add(_),r.updateQueue=le}else ie.add(_);break e}else{if((r&1)===0){Rc(x,D,r),Ll();break e}_=Error(o(426))}}else if(Fe&&w.mode&1){var qe=Pc(E);if(qe!==null){(qe.flags&65536)===0&&(qe.flags|=256),Mc(qe,E,w,x,r),$s(co(_,w));break e}}x=_=co(_,w),Ke!==4&&(Ke=2),ar===null?ar=[x]:ar.push(x),x=E;do{switch(x.tag){case 3:x.flags|=65536,r&=-r,x.lanes|=r;var P=Ac(x,_,r);tc(x,P);break e;case 1:w=_;var N=x.type,M=x.stateNode;if((x.flags&128)===0&&(typeof N.getDerivedStateFromError=="function"||M!==null&&typeof M.componentDidCatch=="function"&&(xn===null||!xn.has(M)))){x.flags|=65536,r&=-r,x.lanes|=r;var $=kc(x,w,r);tc(x,$);break e}}x=x.return}while(x!==null)}ud(l)}catch(ae){r=ae,We===l&&l!==null&&(We=l=l.return);continue}break}while(!0)}function ld(){var n=ai.current;return ai.current=ni,n===null?ni:n}function Ll(){(Ke===0||Ke===3||Ke===2)&&(Ke=4),Qe===null||(Ln&268435455)===0&&(ui&268435455)===0||En(Qe,ot)}function mi(n,r){var l=_e;_e|=2;var d=ld();(Qe!==n||ot!==r)&&(tn=null,Un(n,r));do try{eg();break}catch(h){sd(n,h)}while(!0);if(Ws(),_e=l,ai.current=d,We!==null)throw Error(o(261));return Qe=null,ot=0,Ke}function eg(){for(;We!==null;)ad(We)}function tg(){for(;We!==null&&!Nh();)ad(We)}function ad(n){var r=fd(n.alternate,n,Ct);n.memoizedProps=n.pendingProps,r===null?ud(n):We=r,_l.current=null}function ud(n){var r=n;do{var l=r.alternate;if(n=r.return,(r.flags&32768)===0){if(l=Wm(l,r,Ct),l!==null){We=l;return}}else{if(l=Ym(l,r),l!==null){l.flags&=32767,We=l;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Ke=6,We=null;return}}if(r=r.sibling,r!==null){We=r;return}We=r=n}while(r!==null);Ke===0&&(Ke=5)}function Fn(n,r,l){var d=Pe,h=At.transition;try{At.transition=null,Pe=1,ng(n,r,l,d)}finally{At.transition=h,Pe=d}return null}function ng(n,r,l,d){do mo();while(Sn!==null);if((_e&6)!==0)throw Error(o(327));l=n.finishedWork;var h=n.finishedLanes;if(l===null)return null;if(n.finishedWork=null,n.finishedLanes=0,l===n.current)throw Error(o(177));n.callbackNode=null,n.callbackPriority=0;var x=l.lanes|l.childLanes;if(Uh(n,x),n===Qe&&(We=Qe=null,ot=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||di||(di=!0,pd(xr,function(){return mo(),null})),x=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||x){x=At.transition,At.transition=null;var E=Pe;Pe=1;var w=_e;_e|=4,_l.current=null,jm(n,l),Zc(l,n),Em(Ls),Nr=!!Ds,Ls=Ds=null,n.current=l,Qm(l),Ih(),_e=w,Pe=E,At.transition=x}else n.current=l;if(di&&(di=!1,Sn=n,fi=h),x=n.pendingLanes,x===0&&(xn=null),Rh(l.stateNode),vt(n,Oe()),r!==null)for(d=n.onRecoverableError,l=0;l<r.length;l++)h=r[l],d(h.value,{componentStack:h.stack,digest:h.digest});if(ci)throw ci=!1,n=Al,Al=null,n;return(fi&1)!==0&&n.tag!==0&&mo(),x=n.pendingLanes,(x&1)!==0?n===kl?ur++:(ur=0,kl=n):ur=0,mn(),null}function mo(){if(Sn!==null){var n=Qa(fi),r=At.transition,l=Pe;try{if(At.transition=null,Pe=16>n?16:n,Sn===null)var d=!1;else{if(n=Sn,Sn=null,fi=0,(_e&6)!==0)throw Error(o(331));var h=_e;for(_e|=4,ne=n.current;ne!==null;){var x=ne,E=x.child;if((ne.flags&16)!==0){var w=x.deletions;if(w!==null){for(var _=0;_<w.length;_++){var D=w[_];for(ne=D;ne!==null;){var V=ne;switch(V.tag){case 0:case 11:case 15:sr(8,V,x)}var B=V.child;if(B!==null)B.return=V,ne=B;else for(;ne!==null;){V=ne;var F=V.sibling,X=V.return;if(Yc(V),V===D){ne=null;break}if(F!==null){F.return=X,ne=F;break}ne=X}}}var ie=x.alternate;if(ie!==null){var le=ie.child;if(le!==null){ie.child=null;do{var qe=le.sibling;le.sibling=null,le=qe}while(le!==null)}}ne=x}}if((x.subtreeFlags&2064)!==0&&E!==null)E.return=x,ne=E;else e:for(;ne!==null;){if(x=ne,(x.flags&2048)!==0)switch(x.tag){case 0:case 11:case 15:sr(9,x,x.return)}var P=x.sibling;if(P!==null){P.return=x.return,ne=P;break e}ne=x.return}}var N=n.current;for(ne=N;ne!==null;){E=ne;var M=E.child;if((E.subtreeFlags&2064)!==0&&M!==null)M.return=E,ne=M;else e:for(E=N;ne!==null;){if(w=ne,(w.flags&2048)!==0)try{switch(w.tag){case 0:case 11:case 15:li(9,w)}}catch(ae){ze(w,w.return,ae)}if(w===E){ne=null;break e}var $=w.sibling;if($!==null){$.return=w.return,ne=$;break e}ne=w.return}}if(_e=h,mn(),Bt&&typeof Bt.onPostCommitFiberRoot=="function")try{Bt.onPostCommitFiberRoot(Sr,n)}catch{}d=!0}return d}finally{Pe=l,At.transition=r}}return!1}function cd(n,r,l){r=co(l,r),r=Ac(n,r,1),n=vn(n,r,1),r=ct(),n!==null&&(Do(n,1,r),vt(n,r))}function ze(n,r,l){if(n.tag===3)cd(n,n,l);else for(;r!==null;){if(r.tag===3){cd(r,n,l);break}else if(r.tag===1){var d=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(xn===null||!xn.has(d))){n=co(l,n),n=kc(r,n,1),r=vn(r,n,1),n=ct(),r!==null&&(Do(r,1,n),vt(r,n));break}}r=r.return}}function og(n,r,l){var d=n.pingCache;d!==null&&d.delete(r),r=ct(),n.pingedLanes|=n.suspendedLanes&l,Qe===n&&(ot&l)===l&&(Ke===4||Ke===3&&(ot&130023424)===ot&&500>Oe()-Il?Un(n,0):Nl|=l),vt(n,r)}function dd(n,r){r===0&&((n.mode&1)===0?r=1:(r=Er,Er<<=1,(Er&130023424)===0&&(Er=4194304)));var l=ct();n=Xt(n,r),n!==null&&(Do(n,r,l),vt(n,l))}function rg(n){var r=n.memoizedState,l=0;r!==null&&(l=r.retryLane),dd(n,l)}function ig(n,r){var l=0;switch(n.tag){case 13:var d=n.stateNode,h=n.memoizedState;h!==null&&(l=h.retryLane);break;case 19:d=n.stateNode;break;default:throw Error(o(314))}d!==null&&d.delete(r),dd(n,l)}var fd;fd=function(n,r,l){if(n!==null)if(n.memoizedProps!==r.pendingProps||pt.current)mt=!0;else{if((n.lanes&l)===0&&(r.flags&128)===0)return mt=!1,Jm(n,r,l);mt=(n.flags&131072)!==0}else mt=!1,Fe&&(r.flags&1048576)!==0&&$u(r,qr,r.index);switch(r.lanes=0,r.tag){case 2:var d=r.type;ii(n,r),n=r.pendingProps;var h=no(r,rt.current);ao(r,l),h=rl(null,r,d,n,h,l);var x=il();return r.flags|=1,typeof h=="object"&&h!==null&&typeof h.render=="function"&&h.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,ht(d)?(x=!0,zr(r)):x=!1,r.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,Qs(r),h.updater=oi,r.stateNode=h,h._reactInternals=r,dl(r,d,n,l),r=ml(null,r,d,!0,x,l)):(r.tag=0,Fe&&x&&zs(r),ut(null,r,h,l),r=r.child),r;case 16:d=r.elementType;e:{switch(ii(n,r),n=r.pendingProps,h=d._init,d=h(d._payload),r.type=d,h=r.tag=lg(d),n=bt(d,n),h){case 0:r=hl(null,r,d,n,l);break e;case 1:r=Gc(null,r,d,n,l);break e;case 11:r=Dc(null,r,d,n,l);break e;case 14:r=Lc(null,r,d,bt(d.type,n),l);break e}throw Error(o(306,d,""))}return r;case 0:return d=r.type,h=r.pendingProps,h=r.elementType===d?h:bt(d,h),hl(n,r,d,h,l);case 1:return d=r.type,h=r.pendingProps,h=r.elementType===d?h:bt(d,h),Gc(n,r,d,h,l);case 3:e:{if(Vc(r),n===null)throw Error(o(387));d=r.pendingProps,x=r.memoizedState,h=x.element,ec(n,r),jr(r,d,null,l);var E=r.memoizedState;if(d=E.element,x.isDehydrated)if(x={element:d,isDehydrated:!1,cache:E.cache,pendingSuspenseBoundaries:E.pendingSuspenseBoundaries,transitions:E.transitions},r.updateQueue.baseState=x,r.memoizedState=x,r.flags&256){h=co(Error(o(423)),r),r=Hc(n,r,d,l,h);break e}else if(d!==h){h=co(Error(o(424)),r),r=Hc(n,r,d,l,h);break e}else for(Et=fn(r.stateNode.containerInfo.firstChild),Tt=r,Fe=!0,Lt=null,l=Xu(r,null,d,l),r.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(io(),d===h){r=en(n,r,l);break e}ut(n,r,d,l)}r=r.child}return r;case 5:return oc(r),n===null&&qs(r),d=r.type,h=r.pendingProps,x=n!==null?n.memoizedProps:null,E=h.children,bs(d,h)?E=null:x!==null&&bs(d,x)&&(r.flags|=32),Fc(n,r),ut(n,r,E,l),r.child;case 6:return n===null&&qs(r),null;case 13:return zc(n,r,l);case 4:return Xs(r,r.stateNode.containerInfo),d=r.pendingProps,n===null?r.child=so(r,null,d,l):ut(n,r,d,l),r.child;case 11:return d=r.type,h=r.pendingProps,h=r.elementType===d?h:bt(d,h),Dc(n,r,d,h,l);case 7:return ut(n,r,r.pendingProps,l),r.child;case 8:return ut(n,r,r.pendingProps.children,l),r.child;case 12:return ut(n,r,r.pendingProps.children,l),r.child;case 10:e:{if(d=r.type._context,h=r.pendingProps,x=r.memoizedProps,E=h.value,Me(Wr,d._currentValue),d._currentValue=E,x!==null)if(Dt(x.value,E)){if(x.children===h.children&&!pt.current){r=en(n,r,l);break e}}else for(x=r.child,x!==null&&(x.return=r);x!==null;){var w=x.dependencies;if(w!==null){E=x.child;for(var _=w.firstContext;_!==null;){if(_.context===d){if(x.tag===1){_=Zt(-1,l&-l),_.tag=2;var D=x.updateQueue;if(D!==null){D=D.shared;var V=D.pending;V===null?_.next=_:(_.next=V.next,V.next=_),D.pending=_}}x.lanes|=l,_=x.alternate,_!==null&&(_.lanes|=l),Ks(x.return,l,r),w.lanes|=l;break}_=_.next}}else if(x.tag===10)E=x.type===r.type?null:x.child;else if(x.tag===18){if(E=x.return,E===null)throw Error(o(341));E.lanes|=l,w=E.alternate,w!==null&&(w.lanes|=l),Ks(E,l,r),E=x.sibling}else E=x.child;if(E!==null)E.return=x;else for(E=x;E!==null;){if(E===r){E=null;break}if(x=E.sibling,x!==null){x.return=E.return,E=x;break}E=E.return}x=E}ut(n,r,h.children,l),r=r.child}return r;case 9:return h=r.type,d=r.pendingProps.children,ao(r,l),h=Nt(h),d=d(h),r.flags|=1,ut(n,r,d,l),r.child;case 14:return d=r.type,h=bt(d,r.pendingProps),h=bt(d.type,h),Lc(n,r,d,h,l);case 15:return bc(n,r,r.type,r.pendingProps,l);case 17:return d=r.type,h=r.pendingProps,h=r.elementType===d?h:bt(d,h),ii(n,r),r.tag=1,ht(d)?(n=!0,zr(r)):n=!1,ao(r,l),Nc(r,d,h),dl(r,d,h,l),ml(null,r,d,!0,n,l);case 19:return Oc(n,r,l);case 22:return Uc(n,r,l)}throw Error(o(156,r.tag))};function pd(n,r){return Ja(n,r)}function sg(n,r,l,d){this.tag=n,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kt(n,r,l,d){return new sg(n,r,l,d)}function bl(n){return n=n.prototype,!(!n||!n.isReactComponent)}function lg(n){if(typeof n=="function")return bl(n)?1:0;if(n!=null){if(n=n.$$typeof,n===Se)return 11;if(n===Be)return 14}return 2}function Cn(n,r){var l=n.alternate;return l===null?(l=kt(n.tag,r,n.key,n.mode),l.elementType=n.elementType,l.type=n.type,l.stateNode=n.stateNode,l.alternate=n,n.alternate=l):(l.pendingProps=r,l.type=n.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=n.flags&14680064,l.childLanes=n.childLanes,l.lanes=n.lanes,l.child=n.child,l.memoizedProps=n.memoizedProps,l.memoizedState=n.memoizedState,l.updateQueue=n.updateQueue,r=n.dependencies,l.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},l.sibling=n.sibling,l.index=n.index,l.ref=n.ref,l}function gi(n,r,l,d,h,x){var E=2;if(d=n,typeof n=="function")bl(n)&&(E=1);else if(typeof n=="string")E=5;else e:switch(n){case re:return Gn(l.children,h,x,r);case fe:E=8,h|=8;break;case ee:return n=kt(12,l,r,h|2),n.elementType=ee,n.lanes=x,n;case Ee:return n=kt(13,l,r,h),n.elementType=Ee,n.lanes=x,n;case ke:return n=kt(19,l,r,h),n.elementType=ke,n.lanes=x,n;case Ne:return vi(l,h,x,r);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case Q:E=10;break e;case me:E=9;break e;case Se:E=11;break e;case Be:E=14;break e;case Ue:E=16,d=null;break e}throw Error(o(130,n==null?n:typeof n,""))}return r=kt(E,l,r,h),r.elementType=n,r.type=d,r.lanes=x,r}function Gn(n,r,l,d){return n=kt(7,n,d,r),n.lanes=l,n}function vi(n,r,l,d){return n=kt(22,n,d,r),n.elementType=Ne,n.lanes=l,n.stateNode={isHidden:!1},n}function Ul(n,r,l){return n=kt(6,n,null,r),n.lanes=l,n}function Fl(n,r,l){return r=kt(4,n.children!==null?n.children:[],n.key,r),r.lanes=l,r.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},r}function ag(n,r,l,d,h){this.tag=r,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=cs(0),this.expirationTimes=cs(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=cs(0),this.identifierPrefix=d,this.onRecoverableError=h,this.mutableSourceEagerHydrationData=null}function Gl(n,r,l,d,h,x,E,w,_){return n=new ag(n,r,l,w,_),r===1?(r=1,x===!0&&(r|=8)):r=0,x=kt(3,null,null,r),n.current=x,x.stateNode=n,x.memoizedState={element:d,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},Qs(x),n}function ug(n,r,l){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:oe,key:d==null?null:""+d,children:n,containerInfo:r,implementation:l}}function hd(n){if(!n)return hn;n=n._reactInternals;e:{if(Nn(n)!==n||n.tag!==1)throw Error(o(170));var r=n;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(ht(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(o(171))}if(n.tag===1){var l=n.type;if(ht(l))return Bu(n,l,r)}return r}function md(n,r,l,d,h,x,E,w,_){return n=Gl(l,d,!0,n,h,x,E,w,_),n.context=hd(null),l=n.current,d=ct(),h=Tn(l),x=Zt(d,h),x.callback=r??null,vn(l,x,h),n.current.lanes=h,Do(n,h,d),vt(n,d),n}function yi(n,r,l,d){var h=r.current,x=ct(),E=Tn(h);return l=hd(l),r.context===null?r.context=l:r.pendingContext=l,r=Zt(x,E),r.payload={element:n},d=d===void 0?null:d,d!==null&&(r.callback=d),n=vn(h,r,E),n!==null&&(Gt(n,h,E,x),Kr(n,h,E)),E}function xi(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function gd(n,r){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var l=n.retryLane;n.retryLane=l!==0&&l<r?l:r}}function Vl(n,r){gd(n,r),(n=n.alternate)&&gd(n,r)}function cg(){return null}var vd=typeof reportError=="function"?reportError:function(n){console.error(n)};function Hl(n){this._internalRoot=n}Si.prototype.render=Hl.prototype.render=function(n){var r=this._internalRoot;if(r===null)throw Error(o(409));yi(n,r,null,null)},Si.prototype.unmount=Hl.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var r=n.containerInfo;bn(function(){yi(null,n,null,null)}),r[Yt]=null}};function Si(n){this._internalRoot=n}Si.prototype.unstable_scheduleHydration=function(n){if(n){var r=eu();n={blockedOn:null,target:n,priority:r};for(var l=0;l<un.length&&r!==0&&r<un[l].priority;l++);un.splice(l,0,n),l===0&&ou(n)}};function zl(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function Ti(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function yd(){}function dg(n,r,l,d,h){if(h){if(typeof d=="function"){var x=d;d=function(){var D=xi(E);x.call(D)}}var E=md(r,d,n,0,null,!1,!1,"",yd);return n._reactRootContainer=E,n[Yt]=E.current,Wo(n.nodeType===8?n.parentNode:n),bn(),E}for(;h=n.lastChild;)n.removeChild(h);if(typeof d=="function"){var w=d;d=function(){var D=xi(_);w.call(D)}}var _=Gl(n,0,!1,null,null,!1,!1,"",yd);return n._reactRootContainer=_,n[Yt]=_.current,Wo(n.nodeType===8?n.parentNode:n),bn(function(){yi(r,_,l,d)}),_}function Ei(n,r,l,d,h){var x=l._reactRootContainer;if(x){var E=x;if(typeof h=="function"){var w=h;h=function(){var _=xi(E);w.call(_)}}yi(r,E,n,h)}else E=dg(l,r,n,h,d);return xi(E)}Xa=function(n){switch(n.tag){case 3:var r=n.stateNode;if(r.current.memoizedState.isDehydrated){var l=Mo(r.pendingLanes);l!==0&&(ds(r,l|1),vt(r,Oe()),(_e&6)===0&&(ho=Oe()+500,mn()))}break;case 13:bn(function(){var d=Xt(n,1);if(d!==null){var h=ct();Gt(d,n,1,h)}}),Vl(n,1)}},fs=function(n){if(n.tag===13){var r=Xt(n,134217728);if(r!==null){var l=ct();Gt(r,n,134217728,l)}Vl(n,134217728)}},Za=function(n){if(n.tag===13){var r=Tn(n),l=Xt(n,r);if(l!==null){var d=ct();Gt(l,n,r,d)}Vl(n,r)}},eu=function(){return Pe},tu=function(n,r){var l=Pe;try{return Pe=n,r()}finally{Pe=l}},rs=function(n,r,l){switch(r){case"input":if(xt(n,l),r=l.name,l.type==="radio"&&r!=null){for(l=n;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<l.length;r++){var d=l[r];if(d!==n&&d.form===n.form){var h=Vr(d);if(!h)throw Error(o(90));Ce(d),xt(d,h)}}}break;case"textarea":Ra(n,l);break;case"select":r=l.value,r!=null&&qn(n,!!l.multiple,r,!1)}},Va=Ml,Ha=bn;var fg={usingClientEntryPoint:!1,Events:[jo,eo,Vr,Fa,Ga,Ml]},cr={findFiberByHostInstance:In,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},pg={bundleType:cr.bundleType,version:cr.version,rendererPackageName:cr.rendererPackageName,rendererConfig:cr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:z.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=qa(n),n===null?null:n.stateNode},findFiberByHostInstance:cr.findFiberByHostInstance||cg,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ci=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ci.isDisabled&&Ci.supportsFiber)try{Sr=Ci.inject(pg),Bt=Ci}catch{}}return yt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fg,yt.createPortal=function(n,r){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!zl(r))throw Error(o(200));return ug(n,r,null,l)},yt.createRoot=function(n,r){if(!zl(n))throw Error(o(299));var l=!1,d="",h=vd;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(d=r.identifierPrefix),r.onRecoverableError!==void 0&&(h=r.onRecoverableError)),r=Gl(n,1,!1,null,null,l,!1,d,h),n[Yt]=r.current,Wo(n.nodeType===8?n.parentNode:n),new Hl(r)},yt.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var r=n._reactInternals;if(r===void 0)throw typeof n.render=="function"?Error(o(188)):(n=Object.keys(n).join(","),Error(o(268,n)));return n=qa(r),n=n===null?null:n.stateNode,n},yt.flushSync=function(n){return bn(n)},yt.hydrate=function(n,r,l){if(!Ti(r))throw Error(o(200));return Ei(null,n,r,!0,l)},yt.hydrateRoot=function(n,r,l){if(!zl(n))throw Error(o(405));var d=l!=null&&l.hydratedSources||null,h=!1,x="",E=vd;if(l!=null&&(l.unstable_strictMode===!0&&(h=!0),l.identifierPrefix!==void 0&&(x=l.identifierPrefix),l.onRecoverableError!==void 0&&(E=l.onRecoverableError)),r=md(r,null,n,1,l??null,h,!1,x,E),n[Yt]=r.current,Wo(n),d)for(n=0;n<d.length;n++)l=d[n],h=l._getVersion,h=h(l._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[l,h]:r.mutableSourceEagerHydrationData.push(l,h);return new Si(r)},yt.render=function(n,r,l){if(!Ti(r))throw Error(o(200));return Ei(null,n,r,!1,l)},yt.unmountComponentAtNode=function(n){if(!Ti(n))throw Error(o(40));return n._reactRootContainer?(bn(function(){Ei(null,null,n,!1,function(){n._reactRootContainer=null,n[Yt]=null})}),!0):!1},yt.unstable_batchedUpdates=Ml,yt.unstable_renderSubtreeIntoContainer=function(n,r,l,d){if(!Ti(l))throw Error(o(200));if(n==null||n._reactInternals===void 0)throw Error(o(38));return Ei(n,r,l,!1,d)},yt.version="18.3.1-next-f1338f8080-20240426",yt}var Nd;function Eg(){if(Nd)return ql.exports;Nd=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),ql.exports=Tg(),ql.exports}var Id;function Cg(){if(Id)return wi;Id=1;var t=Eg();return wi.createRoot=t.createRoot,wi.hydrateRoot=t.hydrateRoot,wi}var wg=Cg();const _g=gp(wg);var he=(t=>(t.ONBOARDING="ONBOARDING",t.LOGIN="LOGIN",t.SIGNUP="SIGNUP",t.GOAL_SELECTION="GOAL_SELECTION",t.AI_SETUP="AI_SETUP",t.HOME="HOME",t.SEARCH="SEARCH",t.GOALS="GOALS",t.CREATE_POST="CREATE_POST",t.GOAL_DETAIL="GOAL_DETAIL",t.REWARDS="REWARDS",t.PROFILE="PROFILE",t))(he||{});const Ng=({children:t,className:e="",hasNav:o=!0})=>m.jsx("div",{className:`w-full max-w-md mx-auto bg-slate-50 min-h-screen relative shadow-2xl shadow-slate-200 flex flex-col ${e}`,children:m.jsx("div",{className:`flex-1 overflow-y-auto no-scrollbar ${o?"pb-24":""}`,children:t})}),zn=({title:t,subtitle:e,onBack:o})=>m.jsx("div",{className:"px-6 pt-8 pb-4 bg-white/80 backdrop-blur-md sticky top-0 z-20 border-b border-slate-100",children:m.jsxs("div",{className:"flex items-center gap-3",children:[o&&m.jsx("button",{onClick:o,className:"p-2 -ml-2 rounded-full hover:bg-slate-100 text-slate-600 transition-colors",children:m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:m.jsx("path",{d:"m15 18-6-6 6-6"})})}),m.jsxs("div",{children:[m.jsx("h1",{className:"text-xl font-bold text-slate-800 tracking-tight",children:t}),e&&m.jsx("p",{className:"text-sm text-slate-500 font-medium",children:e})]})]})});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Ig={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ag=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),pe=(t,e)=>{const o=Z.forwardRef(({color:i="currentColor",size:s=24,strokeWidth:u=2,absoluteStrokeWidth:f,className:p="",children:v,...g},y)=>Z.createElement("svg",{ref:y,...Ig,width:s,height:s,stroke:i,strokeWidth:f?Number(u)*24/Number(s):u,className:["lucide",`lucide-${Ag(t)}`,p].join(" "),...g},[...e.map(([T,S])=>Z.createElement(T,S)),...Array.isArray(v)?v:[v]]));return o.displayName=`${t}`,o};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vp=pe("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kg=pe("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rg=pe("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yp=pe("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hn=pe("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pg=pe("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wl=pe("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mg=pe("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ad=pe("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dg=pe("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lg=pe("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mi=pe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bg=pe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ug=pe("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const To=pe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fg=pe("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kd=pe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gg=pe("Dumbbell",[["path",{d:"m6.5 6.5 11 11",key:"f7oqzb"}],["path",{d:"m21 21-1-1",key:"cpc6if"}],["path",{d:"m3 3 1 1",key:"d3rpuf"}],["path",{d:"m18 22 4-4",key:"1e32o6"}],["path",{d:"m2 6 4-4",key:"189tqz"}],["path",{d:"m3 10 7-7",key:"1bxui2"}],["path",{d:"m14 21 7-7",key:"16x78n"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Di=pe("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Li=pe("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ga=pe("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vg=pe("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xp=pe("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hg=pe("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bi=pe("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zg=pe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bg=pe("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Og=pe("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sp=pe("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tp=pe("PartyPopper",[["path",{d:"M5.8 11.3 2 22l10.7-3.79",key:"gwxi1d"}],["path",{d:"M4 3h.01",key:"1vcuye"}],["path",{d:"M22 8h.01",key:"1mrtc2"}],["path",{d:"M15 2h.01",key:"1cjtqr"}],["path",{d:"M22 20h.01",key:"1mrys2"}],["path",{d:"m22 2-2.24.75a2.9 2.9 0 0 0-1.96 3.12v0c.1.86-.57 1.63-1.45 1.63h-.38c-.86 0-1.6.6-1.76 1.44L14 10",key:"bpx1uq"}],["path",{d:"m22 13-.82-.33c-.86-.34-1.82.2-1.98 1.11v0c-.11.7-.72 1.22-1.43 1.22H17",key:"1pd0s7"}],["path",{d:"m11 2 .33.82c.34.86-.2 1.82-1.11 1.98v0C9.52 4.9 9 5.52 9 6.23V7",key:"zq5xbz"}],["path",{d:"M11 13c1.93 1.93 2.83 4.17 2 5-.83.83-3.07-.07-5-2-1.93-1.93-2.83-4.17-2-5 .83-.83 3.07.07 5 2Z",key:"4kbmks"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qg=pe("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $g=pe("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jg=pe("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const va=pe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wg=pe("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yg=pe("Repeat",[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kg=pe("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ep=pe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cp=pe("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yl=pe("SkipForward",[["polygon",{points:"5 4 15 12 5 20 5 4",key:"16p6eg"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19",key:"futhcm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ui=pe("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fi=pe("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jg=pe("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wp=pe("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _p=pe("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Np=pe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qg=pe("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xg=pe("Wand2",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72Z",key:"1bcowg"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wt=pe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xl=pe("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),Zg=({currentScreen:t,onNavigate:e})=>{const o=[{screen:he.HOME,icon:Vg,label:"Feed"},{screen:he.SEARCH,icon:Ep,label:"Search"},{screen:he.GOALS,icon:Fi,label:"Goals"},{screen:he.REWARDS,icon:Li,label:"Rewards"},{screen:he.PROFILE,icon:Np,label:"Profile"}];return m.jsx("div",{className:"fixed bottom-0 left-0 right-0 max-w-md mx-auto bg-white/95 backdrop-blur-lg border-t border-slate-100 px-2 py-3 flex justify-around items-end z-30 pb-safe",children:o.map(i=>{const s=t===i.screen;return m.jsxs("button",{onClick:()=>e(i.screen),className:`flex flex-col items-center gap-1 p-2 transition-colors min-w-[3.5rem] ${s?"text-teal-600":"text-slate-400 hover:text-slate-600"}`,children:[m.jsx(i.icon,{size:22,strokeWidth:s?2.5:2}),m.jsx("span",{className:"text-[9px] font-medium",children:i.label})]},i.label)})})},e0=({onBypass:t})=>{const[e,o]=Z.useState(!1);return Z.useEffect(()=>{const i=setTimeout(()=>o(!0),4e3);return()=>clearTimeout(i)},[]),m.jsxs("div",{className:"fixed inset-0 z-[100] bg-gradient-to-br from-teal-500 to-teal-700 flex flex-col items-center justify-center text-white fade-in",children:[m.jsxs("div",{className:"relative",children:[m.jsx("div",{className:"absolute inset-0 bg-white/20 rounded-full blur-xl animate-pulse"}),m.jsx("div",{className:"w-24 h-24 bg-white rounded-[2rem] shadow-2xl flex items-center justify-center relative z-10 animate-bounce",children:m.jsx(vp,{size:48,className:"text-teal-600"})})]}),m.jsxs("div",{className:"mt-8 text-center space-y-2",children:[m.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Commit"}),m.jsx("p",{className:"text-teal-100 font-medium tracking-wide text-sm uppercase",children:"Progress Together"})]}),m.jsxs("div",{className:"absolute bottom-12 flex flex-col items-center gap-3 w-full px-6",children:[m.jsx("div",{className:"w-12 h-12 border-4 border-white/30 border-t-white rounded-full animate-spin"}),m.jsx("p",{className:"text-xs text-white/80 font-medium",children:"Preparing your journey..."}),e&&t&&m.jsx("button",{onClick:t,className:"mt-4 text-xs text-white/60 hover:text-white underline",children:"Taking too long? Tap to proceed."})]})]})},Rd="COMMIT_APP_LOCAL_DB_V5",t0=[{id:"r1",title:"Free Espresso",brand:"Coffee House",logo:"",validity:"Valid 7 Days",unlocked:!0},{id:"r2",title:"20% Off Gym Gear",brand:"FitStore",logo:"",validity:"Valid 30 Days",unlocked:!0},{id:"r3",title:"Free Audiobook",brand:"Audible",logo:"",validity:"Locked",unlocked:!1},{id:"r4",title:"Healthy Meal Box",brand:"FreshEats",logo:"",validity:"Locked",unlocked:!1}],n0=["Sarah","Mike","Jessica","Alex","Emma","David","Olivia","James","Sophia","Daniel","Liam","Maya","Noah","Isabella","Ethan"],Pd=["Fitness","Career","Learning","Mental Health","Finance","Habits"],Md=["Fitness Enthusiast ","Learning React Native ","Marathon Runner ","Mindfulness & Yoga ","Financial Freedom 2025 ","Bookworm ","Digital Nomad ","Health is Wealth ","Coding Ninja "],Gi=n0.map((t,e)=>({id:`u-${t.toLowerCase()}`,name:t,email:`${t.toLowerCase()}@test.com`,password:"123",bio:Md[e%Md.length],avatar:`https://api.dicebear.com/7.x/avataaars/svg?seed=${t}`,following:[],followers:[],stats:{goalsCompleted:Math.floor(Math.random()*10),currentStreak:Math.floor(Math.random()*30),totalDays:Math.floor(Math.random()*100)}})),Zl=[];Gi.forEach((t,e)=>{const o=Math.floor(Math.random()*3)+1;for(let i=0;i<o;i++){const s=i===0?"STARTED":Math.random()>.7?"COMPLETED":"UPDATE",u=Pd[Math.floor(Math.random()*Pd.length)];let f="",p;s==="STARTED"?f=`I'm committing to a new ${u} goal! Wish me luck.`:s==="COMPLETED"?(f=`I did it!  Completed my 30-day ${u} challenge.`,p=`https://picsum.photos/id/${e*10+i+50}/800/600`):(f=`Day ${Math.floor(Math.random()*20)+1} update: Feeling great about my progress.`,Math.random()>.5&&(p=`https://picsum.photos/id/${e*10+i+10}/800/600`)),Zl.push({id:`p-${t.id}-${i}`,userId:t.id,userName:t.name,userAvatar:t.avatar,domain:u,type:s,content:f,image:p,likes:Math.floor(Math.random()*50),likedBy:[],comments:Math.floor(Math.random()*10),commentsList:[],timestamp:`${Math.floor(Math.random()*24)}h ago`,progressUpdate:s==="UPDATE"?Math.floor(Math.random()*90):void 0})}});const Dd=Gi.slice(0,8).map((t,e)=>({id:`s-${t.id}`,userId:t.id,userName:t.name,userAvatar:t.avatar,imageUrl:`https://picsum.photos/id/${e*15+100}/600/1200`,caption:e%2===0?"Morning routine ":void 0,hasUnseen:Math.random()>.3,timestamp:`${e+1}h ago`}));class o0{constructor(){this.data=this.load()}load(){try{const e=localStorage.getItem(Rd);if(e){const o=JSON.parse(e);return Gi.forEach(i=>{o.users.find(s=>s.id===i.id)||o.users.push(i)}),o.posts.length<5&&(o.posts=[...Zl,...o.posts]),(!o.stories||o.stories.length<3)&&(o.stories=Dd),o}}catch(e){console.error("Failed to load DB",e)}return{users:[...Gi],currentUser:null,goals:[],posts:Zl.sort(()=>.5-Math.random()),rewards:t0,stories:Dd,version:5}}save(){try{localStorage.setItem(Rd,JSON.stringify(this.data))}catch(e){console.error("Failed to save DB",e)}}signup(e,o,i){if(this.data.users.find(p=>p.email===o))return{success:!1,message:"Email already exists"};const s={id:`u-${Date.now()}`,name:e,email:o,password:i,bio:"Ready to commit!",avatar:`https://api.dicebear.com/7.x/avataaars/svg?seed=${e}`,following:[],followers:[],stats:{goalsCompleted:0,currentStreak:0,totalDays:1}};this.data.users.push(s),this.data.currentUser=s.id,this.save();const{password:u,...f}=s;return{success:!0,user:f}}login(e,o){const i=this.data.users.find(f=>f.email===e&&f.password===o);if(!i)return{success:!1,message:"Invalid credentials"};this.data.currentUser=i.id,this.save();const{password:s,...u}=i;return{success:!0,user:u}}logout(){this.data.currentUser=null,this.save()}getCurrentUser(){if(!this.data.currentUser)return null;const e=this.data.users.find(s=>s.id===this.data.currentUser);if(!e)return null;const{password:o,...i}=e;return i}getUserById(e){const o=this.data.users.find(u=>u.id===e);if(!o)return null;const{password:i,...s}=o;return s}updateCurrentUser(e){this.data.currentUser&&(this.data.users=this.data.users.map(o=>o.id===this.data.currentUser?{...o,...e}:o),this.save())}searchUsers(e){const o=e.toLowerCase(),i=this.data.currentUser;return this.data.users.filter(s=>s.id!==i&&(s.name.toLowerCase().includes(o)||s.email.toLowerCase().includes(o))).map(s=>{const{password:u,...f}=s;return f})}getSuggestedUsers(){const e=this.data.currentUser;return this.data.users.filter(o=>o.id!==e).slice(0,10).map(o=>{const{password:i,...s}=o;return s})}toggleLike(e){const o=this.data.currentUser;if(!o)return null;const i=this.data.posts.findIndex(g=>g.id===e);if(i===-1)return null;const s=this.data.posts[i],u=s.likedBy||[],f=u.includes(o);let p;f?p=u.filter(g=>g!==o):p=[...u,o];const v={...s,likedBy:p,likes:p.length};return this.data.posts[i]=v,this.save(),v}addComment(e,o){const i=this.data.currentUser;if(!i)return null;const s=this.data.users.find(g=>g.id===i);if(!s)return null;const u=this.data.posts.findIndex(g=>g.id===e);if(u===-1)return null;const f=this.data.posts[u],p={id:`c-${Date.now()}`,userId:s.id,userName:s.name,text:o,timestamp:"Just now"},v={...f,commentsList:[p,...f.commentsList||[]],comments:(f.comments||0)+1};return this.data.posts[u]=v,this.save(),v}followUser(e){const o=this.data.currentUser;if(!o)throw new Error("Not logged in");return this.data.users=this.data.users.map(i=>i.id===o&&!i.following.includes(e)?{...i,following:[...i.following,e]}:i),this.data.users=this.data.users.map(i=>i.id===e&&!i.followers.includes(o)?{...i,followers:[...i.followers,o]}:i),this.save(),{success:!0,updatedUser:this.getCurrentUser()}}unfollowUser(e){const o=this.data.currentUser;if(!o)throw new Error("Not logged in");return this.data.users=this.data.users.map(i=>i.id===o?{...i,following:i.following.filter(s=>s!==e)}:i),this.data.users=this.data.users.map(i=>i.id===e?{...i,followers:i.followers.filter(s=>s!==o)}:i),this.save(),{success:!0,updatedUser:this.getCurrentUser()}}getGoalsForUser(){return this.data.currentUser?this.data.goals.filter(e=>e.userId===this.data.currentUser):[]}saveGoalsForUser(e){if(!this.data.currentUser)return;const o=this.data.goals.filter(i=>i.userId!==this.data.currentUser);this.data.goals=[...o,...e],this.save()}getPosts(){return this.data.posts.map(e=>({...e,likedBy:e.likedBy||[],commentsList:e.commentsList||[]}))}addPost(e){const o={...e,likedBy:[],commentsList:[]};this.data.posts.unshift(o),this.save()}getRewards(){return this.data.rewards}getStories(){return this.data.stories}addStory(e,o,i){const s=this.getUserById(e),u={id:`s-${Date.now()}`,userId:e,userName:(s==null?void 0:s.name)||"User",userAvatar:(s==null?void 0:s.avatar)||"",imageUrl:o,caption:i,hasUnseen:!0,timestamp:"Just now"};return this.data.stories.unshift(u),this.save(),u}markStorySeen(e){this.data.stories=this.data.stories.map(o=>o.id===e?{...o,hasUnseen:!1}:o),this.save()}init(){}}const $e=new o0,we={init:()=>$e.init(),signup:(t,e,o)=>$e.signup(t,e,o),login:(t,e)=>$e.login(t,e),logout:()=>$e.logout(),getCurrentUser:()=>$e.getCurrentUser(),getUserById:t=>$e.getUserById(t),updateUser:t=>$e.updateCurrentUser(t),searchUsers:t=>$e.searchUsers(t),getSuggestedUsers:()=>$e.getSuggestedUsers(),toggleLike:t=>$e.toggleLike(t),addComment:(t,e)=>$e.addComment(t,e),followUser:t=>$e.followUser(t),unfollowUser:t=>$e.unfollowUser(t),getGoals:()=>$e.getGoalsForUser(),saveGoals:t=>$e.saveGoalsForUser(t),getPosts:()=>$e.getPosts(),addPost:t=>$e.addPost(t),getRewards:()=>$e.getRewards(),getStories:()=>$e.getStories(),addStory:(t,e,o)=>$e.addStory(t,e,o),markStorySeen:t=>$e.markStorySeen(t)};function r0({onNavigate:t}){return m.jsxs("div",{className:"h-full flex flex-col items-center justify-between p-8 bg-gradient-to-b from-teal-50 to-white",children:[m.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center space-y-8 w-full",children:[m.jsxs("div",{className:"w-full relative h-64 flex items-center justify-center",children:[m.jsx("div",{className:"absolute top-0 right-10 w-32 h-32 bg-teal-200/40 rounded-full blur-3xl"}),m.jsx("div",{className:"absolute bottom-0 left-10 w-40 h-40 bg-purple-200/40 rounded-full blur-3xl"}),m.jsxs("div",{className:"relative bg-white p-8 rounded-[2rem] shadow-xl shadow-teal-100 flex flex-col items-center gap-4 border border-slate-50",children:[m.jsxs("div",{className:"flex -space-x-4",children:[m.jsx("div",{className:"w-12 h-12 rounded-full border-4 border-white bg-slate-200 flex items-center justify-center",children:m.jsx("span",{className:"text-xl",children:""})}),m.jsx("div",{className:"w-12 h-12 rounded-full border-4 border-white bg-slate-200 flex items-center justify-center",children:m.jsx("span",{className:"text-xl",children:""})}),m.jsx("div",{className:"w-12 h-12 rounded-full border-4 border-white bg-teal-100 flex items-center justify-center text-teal-600",children:m.jsx(vp,{size:20})})]}),m.jsx("div",{className:"h-2 w-32 bg-slate-100 rounded-full overflow-hidden",children:m.jsx("div",{className:"h-full w-2/3 bg-teal-500 rounded-full"})}),m.jsx("div",{className:"text-xs text-slate-400 font-medium",children:"Progress Together"})]})]}),m.jsxs("div",{className:"text-center space-y-3",children:[m.jsxs("h1",{className:"text-3xl font-bold text-slate-900 tracking-tight",children:["Commit. Progress. ",m.jsx("br",{}),m.jsx("span",{className:"text-teal-600",children:"Achieve."})]}),m.jsx("p",{className:"text-slate-500 leading-relaxed max-w-xs mx-auto",children:"The social productivity app that turns personal goals into shared success stories."})]})]}),m.jsxs("div",{className:"w-full space-y-4",children:[m.jsxs("button",{onClick:()=>t(he.SIGNUP),className:"w-full py-4 bg-teal-600 hover:bg-teal-700 active:bg-teal-800 text-white rounded-2xl font-semibold shadow-lg shadow-teal-600/20 flex items-center justify-center gap-2 transition-all",children:["Get Started ",m.jsx(yp,{size:20})]}),m.jsx("button",{onClick:()=>t(he.LOGIN),className:"w-full py-4 text-slate-500 font-medium hover:text-slate-900 transition-colors",children:"Log In"})]})]})}function Ld({mode:t,onAuthSuccess:e,onSwitchMode:o}){const[i,s]=Z.useState(""),[u,f]=Z.useState(""),[p,v]=Z.useState(""),[g,y]=Z.useState(""),[T,S]=Z.useState(!1),C=async k=>{if(k.preventDefault(),y(""),S(!0),await new Promise(I=>setTimeout(I,800)),t==="SIGNUP"){if(!i||!u||!p){y("Please fill in all fields"),S(!1);return}const I=we.signup(i,u,p);I.success&&I.user?e(I.user):y(I.message||"Signup failed")}else{if(!u||!p){y("Please enter email and password"),S(!1);return}const I=we.login(u,p);I.success&&I.user?e(I.user):y(I.message||"Login failed")}S(!1)};return m.jsxs("div",{className:"h-full flex flex-col p-8 bg-white overflow-y-auto",children:[m.jsxs("div",{className:"flex-1 flex flex-col justify-center",children:[m.jsxs("div",{className:"mb-8",children:[m.jsx("h1",{className:"text-3xl font-bold text-slate-900 mb-2",children:t==="LOGIN"?"Welcome Back":"Create Account"}),m.jsx("p",{className:"text-slate-500",children:t==="LOGIN"?"Enter your details to access your goals.":"Join the community and start achieving."})]}),m.jsxs("form",{onSubmit:C,className:"space-y-4",children:[t==="SIGNUP"&&m.jsxs("div",{className:"space-y-1",children:[m.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase ml-1",children:"Full Name"}),m.jsxs("div",{className:"relative",children:[m.jsx("input",{type:"text",value:i,onChange:k=>s(k.target.value),className:"w-full p-4 pl-12 bg-slate-50 border border-slate-200 rounded-2xl outline-none focus:border-teal-500 focus:ring-4 focus:ring-teal-500/10 transition-all",placeholder:"John Doe"}),m.jsx(Np,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:20})]})]}),m.jsxs("div",{className:"space-y-1",children:[m.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase ml-1",children:"Email Address"}),m.jsxs("div",{className:"relative",children:[m.jsx("input",{type:"email",value:u,onChange:k=>f(k.target.value),className:"w-full p-4 pl-12 bg-slate-50 border border-slate-200 rounded-2xl outline-none focus:border-teal-500 focus:ring-4 focus:ring-teal-500/10 transition-all",placeholder:"hello@example.com"}),m.jsx(Bg,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:20})]})]}),m.jsxs("div",{className:"space-y-1",children:[m.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase ml-1",children:"Password"}),m.jsxs("div",{className:"relative",children:[m.jsx("input",{type:"password",value:p,onChange:k=>v(k.target.value),className:"w-full p-4 pl-12 bg-slate-50 border border-slate-200 rounded-2xl outline-none focus:border-teal-500 focus:ring-4 focus:ring-teal-500/10 transition-all",placeholder:""}),m.jsx(bi,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:20})]})]}),g&&m.jsxs("div",{className:"p-3 bg-rose-50 border border-rose-100 rounded-xl flex items-center gap-2 text-rose-600 text-sm font-medium animate-in fade-in slide-in-from-top-2",children:[m.jsx(kg,{size:16}),g]}),m.jsx("button",{type:"submit",disabled:T,className:"w-full py-4 mt-4 bg-teal-600 hover:bg-teal-700 text-white rounded-2xl font-bold shadow-lg shadow-teal-600/20 flex items-center justify-center gap-2 transition-all disabled:opacity-70 disabled:cursor-not-allowed",children:T?m.jsx("span",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}):m.jsxs(m.Fragment,{children:[t==="LOGIN"?"Log In":"Sign Up"," ",m.jsx(yp,{size:20})]})})]})]}),m.jsx("div",{className:"mt-8 text-center",children:m.jsxs("p",{className:"text-slate-500 text-sm",children:[t==="LOGIN"?"Don't have an account? ":"Already have an account? ",m.jsx("button",{onClick:()=>{y(""),o()},className:"text-teal-600 font-bold hover:underline",children:t==="LOGIN"?"Sign Up":"Log In"})]})})]})}function bd({onSelect:t,onBack:e}){const o=[{id:"Fitness",icon:m.jsx(Gg,{size:24}),color:"text-emerald-600",bg:"bg-emerald-50"},{id:"Career",icon:m.jsx(Mg,{size:24}),color:"text-blue-600",bg:"bg-blue-50"},{id:"Learning",icon:m.jsx(Pg,{size:24}),color:"text-amber-600",bg:"bg-amber-50"},{id:"Mental Health",icon:m.jsx(ga,{size:24}),color:"text-rose-600",bg:"bg-rose-50"},{id:"Finance",icon:m.jsx(Qg,{size:24}),color:"text-indigo-600",bg:"bg-indigo-50"},{id:"Habits",icon:m.jsx(Ui,{size:24}),color:"text-purple-600",bg:"bg-purple-50"}];return m.jsxs("div",{className:"min-h-full bg-slate-50 pb-8",children:[m.jsx(zn,{title:"Choose a Domain",subtitle:"What area do you want to improve?",onBack:e}),m.jsxs("div",{className:"p-6 grid grid-cols-2 gap-4 fade-in",children:[o.map(i=>m.jsxs("button",{onClick:()=>t(i.id),className:"group flex flex-col items-start p-5 bg-white rounded-3xl shadow-sm border border-slate-100 hover:border-teal-200 hover:shadow-md transition-all text-left",children:[m.jsx("div",{className:`p-3 rounded-2xl ${i.bg} ${i.color} mb-4 group-hover:scale-110 transition-transform`,children:i.icon}),m.jsx("span",{className:"font-semibold text-slate-800",children:i.id}),m.jsx("span",{className:"text-xs text-slate-400 mt-1",children:"Start journey"})]},i.id)),m.jsxs("button",{onClick:()=>t("Habits"),className:"flex flex-col items-center justify-center p-5 border-2 border-dashed border-slate-200 rounded-3xl hover:bg-slate-50 hover:border-slate-300 transition-all text-slate-400",children:[m.jsx(va,{size:32}),m.jsx("span",{className:"text-sm font-medium mt-2",children:"Custom"})]})]})]})}var i0={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let s0,l0;function a0(){return{geminiUrl:s0,vertexUrl:l0}}function u0(t,e,o,i){var s,u;if(!(t!=null&&t.baseUrl)){const f=a0();return e?(s=f.vertexUrl)!==null&&s!==void 0?s:o:(u=f.geminiUrl)!==null&&u!==void 0?u:i}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class on{}function j(t,e){const o=/\{([^}]+)\}/g;return t.replace(o,(i,s)=>{if(Object.prototype.hasOwnProperty.call(e,s)){const u=e[s];return u!=null?String(u):""}else throw new Error(`Key '${s}' not found in valueMap.`)})}function c(t,e,o){for(let u=0;u<e.length-1;u++){const f=e[u];if(f.endsWith("[]")){const p=f.slice(0,-2);if(!(p in t))if(Array.isArray(o))t[p]=Array.from({length:o.length},()=>({}));else throw new Error(`Value must be a list given an array path ${f}`);if(Array.isArray(t[p])){const v=t[p];if(Array.isArray(o))for(let g=0;g<v.length;g++){const y=v[g];c(y,e.slice(u+1),o[g])}else for(const g of v)c(g,e.slice(u+1),o)}return}else if(f.endsWith("[0]")){const p=f.slice(0,-3);p in t||(t[p]=[{}]);const v=t[p];c(v[0],e.slice(u+1),o);return}(!t[f]||typeof t[f]!="object")&&(t[f]={}),t=t[f]}const i=e[e.length-1],s=t[i];if(s!==void 0){if(!o||typeof o=="object"&&Object.keys(o).length===0||o===s)return;if(typeof s=="object"&&typeof o=="object"&&s!==null&&o!==null)Object.assign(s,o);else throw new Error(`Cannot set value for an existing key. Key: ${i}`)}else i==="_self"&&typeof o=="object"&&o!==null&&!Array.isArray(o)?Object.assign(t,o):t[i]=o}function a(t,e,o=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let i=0;i<e.length;i++){if(typeof t!="object"||t===null)return o;const s=e[i];if(s.endsWith("[]")){const u=s.slice(0,-2);if(u in t){const f=t[u];return Array.isArray(f)?f.map(p=>a(p,e.slice(i+1),o)):o}else return o}else t=t[s]}return t}catch(i){if(i instanceof TypeError)return o;throw i}}function c0(t,e){for(const[o,i]of Object.entries(e)){const s=o.split("."),u=i.split("."),f=new Set;let p=-1;for(let v=0;v<s.length;v++)if(s[v]==="*"){p=v;break}if(p!==-1&&u.length>p)for(let v=p;v<u.length;v++){const g=u[v];g!=="*"&&!g.endsWith("[]")&&!g.endsWith("[0]")&&f.add(g)}ea(t,s,u,0,f)}}function ea(t,e,o,i,s){if(i>=e.length||typeof t!="object"||t===null)return;const u=e[i];if(u.endsWith("[]")){const f=u.slice(0,-2),p=t;if(f in p&&Array.isArray(p[f]))for(const v of p[f])ea(v,e,o,i+1,s)}else if(u==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const f=t,p=Object.keys(f).filter(g=>!g.startsWith("_")&&!s.has(g)),v={};for(const g of p)v[g]=f[g];for(const[g,y]of Object.entries(v)){const T=[];for(const S of o.slice(i))S==="*"?T.push(g):T.push(S);c(f,T,y)}for(const g of p)delete f[g]}}else{const f=t;u in f&&ea(f[u],e,o,i+1,s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ya(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function d0(t){const e={},o=a(t,["operationName"]);o!=null&&c(e,["operationName"],o);const i=a(t,["resourceName"]);return i!=null&&c(e,["_url","resourceName"],i),e}function f0(t){const e={},o=a(t,["name"]);o!=null&&c(e,["name"],o);const i=a(t,["metadata"]);i!=null&&c(e,["metadata"],i);const s=a(t,["done"]);s!=null&&c(e,["done"],s);const u=a(t,["error"]);u!=null&&c(e,["error"],u);const f=a(t,["response","generateVideoResponse"]);return f!=null&&c(e,["response"],h0(f)),e}function p0(t){const e={},o=a(t,["name"]);o!=null&&c(e,["name"],o);const i=a(t,["metadata"]);i!=null&&c(e,["metadata"],i);const s=a(t,["done"]);s!=null&&c(e,["done"],s);const u=a(t,["error"]);u!=null&&c(e,["error"],u);const f=a(t,["response"]);return f!=null&&c(e,["response"],m0(f)),e}function h0(t){const e={},o=a(t,["generatedSamples"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(f=>g0(f))),c(e,["generatedVideos"],u)}const i=a(t,["raiMediaFilteredCount"]);i!=null&&c(e,["raiMediaFilteredCount"],i);const s=a(t,["raiMediaFilteredReasons"]);return s!=null&&c(e,["raiMediaFilteredReasons"],s),e}function m0(t){const e={},o=a(t,["videos"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(f=>v0(f))),c(e,["generatedVideos"],u)}const i=a(t,["raiMediaFilteredCount"]);i!=null&&c(e,["raiMediaFilteredCount"],i);const s=a(t,["raiMediaFilteredReasons"]);return s!=null&&c(e,["raiMediaFilteredReasons"],s),e}function g0(t){const e={},o=a(t,["video"]);return o!=null&&c(e,["video"],C0(o)),e}function v0(t){const e={},o=a(t,["_self"]);return o!=null&&c(e,["video"],w0(o)),e}function y0(t){const e={},o=a(t,["operationName"]);return o!=null&&c(e,["_url","operationName"],o),e}function x0(t){const e={},o=a(t,["operationName"]);return o!=null&&c(e,["_url","operationName"],o),e}function S0(t){const e={},o=a(t,["name"]);o!=null&&c(e,["name"],o);const i=a(t,["metadata"]);i!=null&&c(e,["metadata"],i);const s=a(t,["done"]);s!=null&&c(e,["done"],s);const u=a(t,["error"]);u!=null&&c(e,["error"],u);const f=a(t,["response"]);return f!=null&&c(e,["response"],T0(f)),e}function T0(t){const e={},o=a(t,["sdkHttpResponse"]);o!=null&&c(e,["sdkHttpResponse"],o);const i=a(t,["parent"]);i!=null&&c(e,["parent"],i);const s=a(t,["documentName"]);return s!=null&&c(e,["documentName"],s),e}function Ip(t){const e={},o=a(t,["name"]);o!=null&&c(e,["name"],o);const i=a(t,["metadata"]);i!=null&&c(e,["metadata"],i);const s=a(t,["done"]);s!=null&&c(e,["done"],s);const u=a(t,["error"]);u!=null&&c(e,["error"],u);const f=a(t,["response"]);return f!=null&&c(e,["response"],E0(f)),e}function E0(t){const e={},o=a(t,["sdkHttpResponse"]);o!=null&&c(e,["sdkHttpResponse"],o);const i=a(t,["parent"]);i!=null&&c(e,["parent"],i);const s=a(t,["documentName"]);return s!=null&&c(e,["documentName"],s),e}function C0(t){const e={},o=a(t,["uri"]);o!=null&&c(e,["uri"],o);const i=a(t,["encodedVideo"]);i!=null&&c(e,["videoBytes"],ya(i));const s=a(t,["encoding"]);return s!=null&&c(e,["mimeType"],s),e}function w0(t){const e={},o=a(t,["gcsUri"]);o!=null&&c(e,["uri"],o);const i=a(t,["bytesBase64Encoded"]);i!=null&&c(e,["videoBytes"],ya(i));const s=a(t,["mimeType"]);return s!=null&&c(e,["mimeType"],s),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Ud;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Ud||(Ud={}));var Fd;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(Fd||(Fd={}));var Gd;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(Gd||(Gd={}));var be;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(be||(be={}));var Vd;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Vd||(Vd={}));var Hd;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(Hd||(Hd={}));var zd;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(zd||(zd={}));var Bd;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(Bd||(Bd={}));var Od;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(Od||(Od={}));var qd;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(qd||(qd={}));var $d;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})($d||($d={}));var Jd;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH",t.MINIMAL="MINIMAL"})(Jd||(Jd={}));var Wd;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(Wd||(Wd={}));var Yd;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(Yd||(Yd={}));var Kd;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(Kd||(Kd={}));var jd;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE",t.IMAGE_RECITATION="IMAGE_RECITATION",t.IMAGE_OTHER="IMAGE_OTHER"})(jd||(jd={}));var Qd;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(Qd||(Qd={}));var Xd;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Xd||(Xd={}));var Zd;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Zd||(Zd={}));var ef;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(ef||(ef={}));var tf;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(tf||(tf={}));var Vi;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(Vi||(Vi={}));var nf;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(nf||(nf={}));var of;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(of||(of={}));var rf;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(rf||(rf={}));var ta;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(ta||(ta={}));var sf;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(sf||(sf={}));var lf;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",t.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(lf||(lf={}));var na;(function(t){t.COLLECTION="COLLECTION"})(na||(na={}));var af;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(af||(af={}));var uf;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(uf||(uf={}));var cf;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(cf||(cf={}));var df;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(df||(df={}));var ff;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(ff||(ff={}));var pf;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(pf||(pf={}));var hf;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(hf||(hf={}));var mf;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(mf||(mf={}));var gf;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(gf||(gf={}));var vf;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(vf||(vf={}));var yf;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(yf||(yf={}));var xf;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(xf||(xf={}));var Sf;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(Sf||(Sf={}));var Tf;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING",t.DISTILLATION="DISTILLATION"})(Tf||(Tf={}));var Ef;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(Ef||(Ef={}));var Cf;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(Cf||(Cf={}));var wf;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED",t.REGISTERED="REGISTERED"})(wf||(wf={}));var _f;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(_f||(_f={}));var Nf;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(Nf||(Nf={}));var If;(function(t){t.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",t.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",t.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(If||(If={}));var Af;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.ACTIVITY_START="ACTIVITY_START",t.ACTIVITY_END="ACTIVITY_END"})(Af||(Af={}));var kf;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(kf||(kf={}));var Rf;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Rf||(Rf={}));var Pf;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(Pf||(Pf={}));var Mf;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Mf||(Mf={}));var Df;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Df||(Df={}));var Lf;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(Lf||(Lf={}));var vo;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(vo||(vo={}));class oa{constructor(e){const o={};for(const i of e.headers.entries())o[i[0]]=i[1];this.headers=o,this.responseInternal=e}json(){return this.responseInternal.json()}}class fr{get text(){var e,o,i,s,u,f,p,v;if(((s=(i=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||i===void 0?void 0:i.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let g="",y=!1;const T=[];for(const S of(v=(p=(f=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||f===void 0?void 0:f.content)===null||p===void 0?void 0:p.parts)!==null&&v!==void 0?v:[]){for(const[C,k]of Object.entries(S))C!=="text"&&C!=="thought"&&C!=="thoughtSignature"&&(k!==null||k!==void 0)&&T.push(C);if(typeof S.text=="string"){if(typeof S.thought=="boolean"&&S.thought)continue;y=!0,g+=S.text}}return T.length>0&&console.warn(`there are non-text parts ${T} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),y?g:void 0}get data(){var e,o,i,s,u,f,p,v;if(((s=(i=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||i===void 0?void 0:i.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let g="";const y=[];for(const T of(v=(p=(f=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||f===void 0?void 0:f.content)===null||p===void 0?void 0:p.parts)!==null&&v!==void 0?v:[]){for(const[S,C]of Object.entries(T))S!=="inlineData"&&(C!==null||C!==void 0)&&y.push(S);T.inlineData&&typeof T.inlineData.data=="string"&&(g+=atob(T.inlineData.data))}return y.length>0&&console.warn(`there are non-data parts ${y} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),g.length>0?btoa(g):void 0}get functionCalls(){var e,o,i,s,u,f,p,v;if(((s=(i=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||i===void 0?void 0:i.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const g=(v=(p=(f=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||f===void 0?void 0:f.content)===null||p===void 0?void 0:p.parts)===null||v===void 0?void 0:v.filter(y=>y.functionCall).map(y=>y.functionCall).filter(y=>y!==void 0);if((g==null?void 0:g.length)!==0)return g}get executableCode(){var e,o,i,s,u,f,p,v,g;if(((s=(i=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||i===void 0?void 0:i.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const y=(v=(p=(f=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||f===void 0?void 0:f.content)===null||p===void 0?void 0:p.parts)===null||v===void 0?void 0:v.filter(T=>T.executableCode).map(T=>T.executableCode).filter(T=>T!==void 0);if((y==null?void 0:y.length)!==0)return(g=y==null?void 0:y[0])===null||g===void 0?void 0:g.code}get codeExecutionResult(){var e,o,i,s,u,f,p,v,g;if(((s=(i=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||i===void 0?void 0:i.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const y=(v=(p=(f=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||f===void 0?void 0:f.content)===null||p===void 0?void 0:p.parts)===null||v===void 0?void 0:v.filter(T=>T.codeExecutionResult).map(T=>T.codeExecutionResult).filter(T=>T!==void 0);if((y==null?void 0:y.length)!==0)return(g=y==null?void 0:y[0])===null||g===void 0?void 0:g.output}}class bf{}class Uf{}class _0{}class N0{}class I0{}class A0{}class Ff{}class Gf{}class Vf{}class k0{}class Hi{_fromAPIResponse({apiResponse:e,_isVertexAI:o}){const i=new Hi;let s;const u=e;return o?s=p0(u):s=f0(u),Object.assign(i,s),i}}class Hf{}class zf{}class Bf{}class Of{}class R0{}class P0{}class M0{}class xa{_fromAPIResponse({apiResponse:e,_isVertexAI:o}){const i=new xa,u=S0(e);return Object.assign(i,u),i}}class D0{}class L0{}class b0{}class U0{}class qf{}class F0{get text(){var e,o,i;let s="",u=!1;const f=[];for(const p of(i=(o=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&i!==void 0?i:[]){for(const[v,g]of Object.entries(p))v!=="text"&&v!=="thought"&&g!==null&&f.push(v);if(typeof p.text=="string"){if(typeof p.thought=="boolean"&&p.thought)continue;u=!0,s+=p.text}}return f.length>0&&console.warn(`there are non-text parts ${f} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),u?s:void 0}get data(){var e,o,i;let s="";const u=[];for(const f of(i=(o=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&i!==void 0?i:[]){for(const[p,v]of Object.entries(f))p!=="inlineData"&&v!==null&&u.push(p);f.inlineData&&typeof f.inlineData.data=="string"&&(s+=atob(f.inlineData.data))}return u.length>0&&console.warn(`there are non-data parts ${u} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),s.length>0?btoa(s):void 0}}class G0{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class Sa{_fromAPIResponse({apiResponse:e,_isVertexAI:o}){const i=new Sa,u=Ip(e);return Object.assign(i,u),i}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ae(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const o=e.split("/",2);return`publishers/${o[0]}/models/${o[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function Ap(t,e){const o=Ae(t,e);return o?o.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${o}`:o.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${o}`:o:""}function kp(t){return Array.isArray(t)?t.map(e=>zi(e)):[zi(t)]}function zi(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function Rp(t){const e=zi(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Pp(t){const e=zi(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function $f(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function Mp(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>$f(e)):[$f(t)]}function ra(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function Jf(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function Wf(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function at(t){if(t==null)throw new Error("ContentUnion is required");return ra(t)?t:{role:"user",parts:Mp(t)}}function Ta(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(o=>{const i=at(o);return i.parts&&i.parts.length>0&&i.parts[0].text!==void 0?[i.parts[0].text]:[]});if(t.isVertexAI()){const o=at(e);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]}return Array.isArray(e)?e.map(o=>at(o)):[at(e)]}function Rt(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(Jf(t)||Wf(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[at(t)]}const e=[],o=[],i=ra(t[0]);for(const s of t){const u=ra(s);if(u!=i)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(u)e.push(s);else{if(Jf(s)||Wf(s))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");o.push(s)}}return i||e.push({role:"user",parts:Mp(o)}),e}function V0(t,e){t.includes("null")&&(e.nullable=!0);const o=t.filter(i=>i!=="null");if(o.length===1)e.type=Object.values(be).includes(o[0].toUpperCase())?o[0].toUpperCase():be.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const i of o)e.anyOf.push({type:Object.values(be).includes(i.toUpperCase())?i.toUpperCase():be.TYPE_UNSPECIFIED})}}function xo(t){const e={},o=["items"],i=["anyOf"],s=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const u=t.anyOf;u!=null&&u.length==2&&(u[0].type==="null"?(e.nullable=!0,t=u[1]):u[1].type==="null"&&(e.nullable=!0,t=u[0])),t.type instanceof Array&&V0(t.type,e);for(const[f,p]of Object.entries(t))if(p!=null)if(f=="type"){if(p==="null")throw new Error("type: null can not be the only possible type for the field.");if(p instanceof Array)continue;e.type=Object.values(be).includes(p.toUpperCase())?p.toUpperCase():be.TYPE_UNSPECIFIED}else if(o.includes(f))e[f]=xo(p);else if(i.includes(f)){const v=[];for(const g of p){if(g.type=="null"){e.nullable=!0;continue}v.push(xo(g))}e[f]=v}else if(s.includes(f)){const v={};for(const[g,y]of Object.entries(p))v[g]=xo(y);e[f]=v}else{if(f==="additionalProperties")continue;e[f]=p}return e}function Ea(t){return xo(t)}function Ca(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function wa(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function Eo(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=xo(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=xo(e.response));return t}function Co(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const o of t)e.push(o);return e}function H0(t,e,o,i=1){const s=!e.startsWith(`${o}/`)&&e.split("/").length===i;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${o}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:s?`projects/${t.getProject()}/locations/${t.getLocation()}/${o}/${e}`:e:s?`${o}/${e}`:e}function rn(t,e){if(typeof e!="string")throw new Error("name must be a string");return H0(t,e,"cachedContents")}function Dp(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function _n(t){return ya(t)}function z0(t){return t!=null&&typeof t=="object"&&"name"in t}function B0(t){return t!=null&&typeof t=="object"&&"video"in t}function O0(t){return t!=null&&typeof t=="object"&&"uri"in t}function Lp(t){var e;let o;if(z0(t)&&(o=t.name),!(O0(t)&&(o=t.uri,o===void 0))&&!(B0(t)&&(o=(e=t.video)===null||e===void 0?void 0:e.uri,o===void 0))){if(typeof t=="string"&&(o=t),o===void 0)throw new Error("Could not extract file name from the provided input.");if(o.startsWith("https://")){const s=o.split("files/")[1].match(/[a-z0-9]+/);if(s===null)throw new Error(`Could not extract file name from URI ${o}`);o=s[0]}else o.startsWith("files/")&&(o=o.split("files/")[1]);return o}}function bp(t,e){let o;return t.isVertexAI()?o=e?"publishers/google/models":"models":o=e?"models":"tunedModels",o}function Up(t){for(const e of["models","tunedModels","publisherModels"])if(q0(t,e))return t[e];return[]}function q0(t,e){return t!==null&&typeof t=="object"&&e in t}function $0(t,e={}){const o=t,i={name:o.name,description:o.description,parametersJsonSchema:o.inputSchema};return o.outputSchema&&(i.responseJsonSchema=o.outputSchema),e.behavior&&(i.behavior=e.behavior),{functionDeclarations:[i]}}function J0(t,e={}){const o=[],i=new Set;for(const s of t){const u=s.name;if(i.has(u))throw new Error(`Duplicate function name ${u} found in MCP tools. Please ensure function names are unique.`);i.add(u);const f=$0(s,e);f.functionDeclarations&&o.push(...f.functionDeclarations)}return{functionDeclarations:o}}function Fp(t,e){let o;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))o={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))o={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))o={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");o={inlinedRequests:e}}else o=e;const i=[o.gcsUri,o.bigqueryUri].filter(Boolean).length,s=[o.inlinedRequests,o.fileName].filter(Boolean).length;if(t.isVertexAI()){if(s>0||i!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(i>0||s!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return o}function W0(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function Gp(t){if(typeof t!="object"||t===null)return{};const e=t,o=e.inlinedResponses;if(typeof o!="object"||o===null)return t;const s=o.inlinedResponses;if(!Array.isArray(s)||s.length===0)return t;let u=!1;for(const f of s){if(typeof f!="object"||f===null)continue;const v=f.response;if(typeof v!="object"||v===null)continue;if(v.embedding!==void 0){u=!0;break}}return u&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function wo(t,e){const o=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(o))return o.split("/").pop();throw new Error(`Invalid batch job name: ${o}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(o))return o.split("/").pop();if(/^\d+$/.test(o))return o;throw new Error(`Invalid batch job name: ${o}.`)}function Vp(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Y0(t){const e={},o=a(t,["responsesFile"]);o!=null&&c(e,["fileName"],o);const i=a(t,["inlinedResponses","inlinedResponses"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(f=>Av(f))),c(e,["inlinedResponses"],u)}const s=a(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(f=>f)),c(e,["inlinedEmbedContentResponses"],u)}return e}function K0(t){const e={},o=a(t,["predictionsFormat"]);o!=null&&c(e,["format"],o);const i=a(t,["gcsDestination","outputUriPrefix"]);i!=null&&c(e,["gcsUri"],i);const s=a(t,["bigqueryDestination","outputUri"]);return s!=null&&c(e,["bigqueryUri"],s),e}function j0(t){const e={},o=a(t,["format"]);o!=null&&c(e,["predictionsFormat"],o);const i=a(t,["gcsUri"]);i!=null&&c(e,["gcsDestination","outputUriPrefix"],i);const s=a(t,["bigqueryUri"]);if(s!=null&&c(e,["bigqueryDestination","outputUri"],s),a(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(a(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(a(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function Ri(t){const e={},o=a(t,["name"]);o!=null&&c(e,["name"],o);const i=a(t,["metadata","displayName"]);i!=null&&c(e,["displayName"],i);const s=a(t,["metadata","state"]);s!=null&&c(e,["state"],Vp(s));const u=a(t,["metadata","createTime"]);u!=null&&c(e,["createTime"],u);const f=a(t,["metadata","endTime"]);f!=null&&c(e,["endTime"],f);const p=a(t,["metadata","updateTime"]);p!=null&&c(e,["updateTime"],p);const v=a(t,["metadata","model"]);v!=null&&c(e,["model"],v);const g=a(t,["metadata","output"]);return g!=null&&c(e,["dest"],Y0(Gp(g))),e}function ia(t){const e={},o=a(t,["name"]);o!=null&&c(e,["name"],o);const i=a(t,["displayName"]);i!=null&&c(e,["displayName"],i);const s=a(t,["state"]);s!=null&&c(e,["state"],Vp(s));const u=a(t,["error"]);u!=null&&c(e,["error"],u);const f=a(t,["createTime"]);f!=null&&c(e,["createTime"],f);const p=a(t,["startTime"]);p!=null&&c(e,["startTime"],p);const v=a(t,["endTime"]);v!=null&&c(e,["endTime"],v);const g=a(t,["updateTime"]);g!=null&&c(e,["updateTime"],g);const y=a(t,["model"]);y!=null&&c(e,["model"],y);const T=a(t,["inputConfig"]);T!=null&&c(e,["src"],Q0(T));const S=a(t,["outputConfig"]);S!=null&&c(e,["dest"],K0(Gp(S)));const C=a(t,["completionStats"]);return C!=null&&c(e,["completionStats"],C),e}function Q0(t){const e={},o=a(t,["instancesFormat"]);o!=null&&c(e,["format"],o);const i=a(t,["gcsSource","uris"]);i!=null&&c(e,["gcsUri"],i);const s=a(t,["bigquerySource","inputUri"]);return s!=null&&c(e,["bigqueryUri"],s),e}function X0(t,e){const o={};if(a(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(a(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(a(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const i=a(e,["fileName"]);i!=null&&c(o,["fileName"],i);const s=a(e,["inlinedRequests"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(f=>Iv(t,f))),c(o,["requests","requests"],u)}return o}function Z0(t){const e={},o=a(t,["format"]);o!=null&&c(e,["instancesFormat"],o);const i=a(t,["gcsUri"]);i!=null&&c(e,["gcsSource","uris"],i);const s=a(t,["bigqueryUri"]);if(s!=null&&c(e,["bigquerySource","inputUri"],s),a(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(a(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function ev(t){const e={},o=a(t,["data"]);if(o!=null&&c(e,["data"],o),a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=a(t,["mimeType"]);return i!=null&&c(e,["mimeType"],i),e}function tv(t,e){const o={},i=a(e,["name"]);return i!=null&&c(o,["_url","name"],wo(t,i)),o}function nv(t,e){const o={},i=a(e,["name"]);return i!=null&&c(o,["_url","name"],wo(t,i)),o}function ov(t){const e={},o=a(t,["content"]);o!=null&&c(e,["content"],o);const i=a(t,["citationMetadata"]);i!=null&&c(e,["citationMetadata"],rv(i));const s=a(t,["tokenCount"]);s!=null&&c(e,["tokenCount"],s);const u=a(t,["finishReason"]);u!=null&&c(e,["finishReason"],u);const f=a(t,["avgLogprobs"]);f!=null&&c(e,["avgLogprobs"],f);const p=a(t,["groundingMetadata"]);p!=null&&c(e,["groundingMetadata"],p);const v=a(t,["index"]);v!=null&&c(e,["index"],v);const g=a(t,["logprobsResult"]);g!=null&&c(e,["logprobsResult"],g);const y=a(t,["safetyRatings"]);if(y!=null){let S=y;Array.isArray(S)&&(S=S.map(C=>C)),c(e,["safetyRatings"],S)}const T=a(t,["urlContextMetadata"]);return T!=null&&c(e,["urlContextMetadata"],T),e}function rv(t){const e={},o=a(t,["citationSources"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(s=>s)),c(e,["citations"],i)}return e}function Hp(t){const e={},o=a(t,["parts"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(u=>bv(u))),c(e,["parts"],s)}const i=a(t,["role"]);return i!=null&&c(e,["role"],i),e}function iv(t,e){const o={},i=a(t,["displayName"]);if(e!==void 0&&i!=null&&c(e,["batch","displayName"],i),a(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return o}function sv(t,e){const o={},i=a(t,["displayName"]);e!==void 0&&i!=null&&c(e,["displayName"],i);const s=a(t,["dest"]);return e!==void 0&&s!=null&&c(e,["outputConfig"],j0(W0(s))),o}function Yf(t,e){const o={},i=a(e,["model"]);i!=null&&c(o,["_url","model"],Ae(t,i));const s=a(e,["src"]);s!=null&&c(o,["batch","inputConfig"],X0(t,Fp(t,s)));const u=a(e,["config"]);return u!=null&&iv(u,o),o}function lv(t,e){const o={},i=a(e,["model"]);i!=null&&c(o,["model"],Ae(t,i));const s=a(e,["src"]);s!=null&&c(o,["inputConfig"],Z0(Fp(t,s)));const u=a(e,["config"]);return u!=null&&sv(u,o),o}function av(t,e){const o={},i=a(t,["displayName"]);return e!==void 0&&i!=null&&c(e,["batch","displayName"],i),o}function uv(t,e){const o={},i=a(e,["model"]);i!=null&&c(o,["_url","model"],Ae(t,i));const s=a(e,["src"]);s!=null&&c(o,["batch","inputConfig"],gv(t,s));const u=a(e,["config"]);return u!=null&&av(u,o),o}function cv(t,e){const o={},i=a(e,["name"]);return i!=null&&c(o,["_url","name"],wo(t,i)),o}function dv(t,e){const o={},i=a(e,["name"]);return i!=null&&c(o,["_url","name"],wo(t,i)),o}function fv(t){const e={},o=a(t,["sdkHttpResponse"]);o!=null&&c(e,["sdkHttpResponse"],o);const i=a(t,["name"]);i!=null&&c(e,["name"],i);const s=a(t,["done"]);s!=null&&c(e,["done"],s);const u=a(t,["error"]);return u!=null&&c(e,["error"],u),e}function pv(t){const e={},o=a(t,["sdkHttpResponse"]);o!=null&&c(e,["sdkHttpResponse"],o);const i=a(t,["name"]);i!=null&&c(e,["name"],i);const s=a(t,["done"]);s!=null&&c(e,["done"],s);const u=a(t,["error"]);return u!=null&&c(e,["error"],u),e}function hv(t,e){const o={},i=a(e,["contents"]);if(i!=null){let u=Ta(t,i);Array.isArray(u)&&(u=u.map(f=>f)),c(o,["requests[]","request","content"],u)}const s=a(e,["config"]);return s!=null&&(c(o,["_self"],mv(s,o)),c0(o,{"requests[].*":"requests[].request.*"})),o}function mv(t,e){const o={},i=a(t,["taskType"]);e!==void 0&&i!=null&&c(e,["requests[]","taskType"],i);const s=a(t,["title"]);e!==void 0&&s!=null&&c(e,["requests[]","title"],s);const u=a(t,["outputDimensionality"]);if(e!==void 0&&u!=null&&c(e,["requests[]","outputDimensionality"],u),a(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(a(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return o}function gv(t,e){const o={},i=a(e,["fileName"]);i!=null&&c(o,["file_name"],i);const s=a(e,["inlinedRequests"]);return s!=null&&c(o,["requests"],hv(t,s)),o}function vv(t){const e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=a(t,["fileUri"]);o!=null&&c(e,["fileUri"],o);const i=a(t,["mimeType"]);return i!=null&&c(e,["mimeType"],i),e}function yv(t){const e={},o=a(t,["id"]);o!=null&&c(e,["id"],o);const i=a(t,["args"]);i!=null&&c(e,["args"],i);const s=a(t,["name"]);if(s!=null&&c(e,["name"],s),a(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(a(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function xv(t){const e={},o=a(t,["allowedFunctionNames"]);o!=null&&c(e,["allowedFunctionNames"],o);const i=a(t,["mode"]);if(i!=null&&c(e,["mode"],i),a(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Sv(t,e,o){const i={},s=a(e,["systemInstruction"]);o!==void 0&&s!=null&&c(o,["systemInstruction"],Hp(at(s)));const u=a(e,["temperature"]);u!=null&&c(i,["temperature"],u);const f=a(e,["topP"]);f!=null&&c(i,["topP"],f);const p=a(e,["topK"]);p!=null&&c(i,["topK"],p);const v=a(e,["candidateCount"]);v!=null&&c(i,["candidateCount"],v);const g=a(e,["maxOutputTokens"]);g!=null&&c(i,["maxOutputTokens"],g);const y=a(e,["stopSequences"]);y!=null&&c(i,["stopSequences"],y);const T=a(e,["responseLogprobs"]);T!=null&&c(i,["responseLogprobs"],T);const S=a(e,["logprobs"]);S!=null&&c(i,["logprobs"],S);const C=a(e,["presencePenalty"]);C!=null&&c(i,["presencePenalty"],C);const k=a(e,["frequencyPenalty"]);k!=null&&c(i,["frequencyPenalty"],k);const I=a(e,["seed"]);I!=null&&c(i,["seed"],I);const R=a(e,["responseMimeType"]);R!=null&&c(i,["responseMimeType"],R);const L=a(e,["responseSchema"]);L!=null&&c(i,["responseSchema"],Ea(L));const G=a(e,["responseJsonSchema"]);if(G!=null&&c(i,["responseJsonSchema"],G),a(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(a(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const H=a(e,["safetySettings"]);if(o!==void 0&&H!=null){let Ee=H;Array.isArray(Ee)&&(Ee=Ee.map(ke=>Uv(ke))),c(o,["safetySettings"],Ee)}const z=a(e,["tools"]);if(o!==void 0&&z!=null){let Ee=Co(z);Array.isArray(Ee)&&(Ee=Ee.map(ke=>Gv(Eo(ke)))),c(o,["tools"],Ee)}const U=a(e,["toolConfig"]);if(o!==void 0&&U!=null&&c(o,["toolConfig"],Fv(U)),a(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const oe=a(e,["cachedContent"]);o!==void 0&&oe!=null&&c(o,["cachedContent"],rn(t,oe));const re=a(e,["responseModalities"]);re!=null&&c(i,["responseModalities"],re);const fe=a(e,["mediaResolution"]);fe!=null&&c(i,["mediaResolution"],fe);const ee=a(e,["speechConfig"]);if(ee!=null&&c(i,["speechConfig"],Ca(ee)),a(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const Q=a(e,["thinkingConfig"]);Q!=null&&c(i,["thinkingConfig"],Q);const me=a(e,["imageConfig"]);me!=null&&c(i,["imageConfig"],Nv(me));const Se=a(e,["enableEnhancedCivicAnswers"]);if(Se!=null&&c(i,["enableEnhancedCivicAnswers"],Se),a(e,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return i}function Tv(t){const e={},o=a(t,["sdkHttpResponse"]);o!=null&&c(e,["sdkHttpResponse"],o);const i=a(t,["candidates"]);if(i!=null){let v=i;Array.isArray(v)&&(v=v.map(g=>ov(g))),c(e,["candidates"],v)}const s=a(t,["modelVersion"]);s!=null&&c(e,["modelVersion"],s);const u=a(t,["promptFeedback"]);u!=null&&c(e,["promptFeedback"],u);const f=a(t,["responseId"]);f!=null&&c(e,["responseId"],f);const p=a(t,["usageMetadata"]);return p!=null&&c(e,["usageMetadata"],p),e}function Ev(t,e){const o={},i=a(e,["name"]);return i!=null&&c(o,["_url","name"],wo(t,i)),o}function Cv(t,e){const o={},i=a(e,["name"]);return i!=null&&c(o,["_url","name"],wo(t,i)),o}function wv(t){const e={};if(a(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=a(t,["enableWidget"]);return o!=null&&c(e,["enableWidget"],o),e}function _v(t){const e={};if(a(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(a(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=a(t,["timeRangeFilter"]);return o!=null&&c(e,["timeRangeFilter"],o),e}function Nv(t){const e={},o=a(t,["aspectRatio"]);o!=null&&c(e,["aspectRatio"],o);const i=a(t,["imageSize"]);if(i!=null&&c(e,["imageSize"],i),a(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(a(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(a(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function Iv(t,e){const o={},i=a(e,["model"]);i!=null&&c(o,["request","model"],Ae(t,i));const s=a(e,["contents"]);if(s!=null){let p=Rt(s);Array.isArray(p)&&(p=p.map(v=>Hp(v))),c(o,["request","contents"],p)}const u=a(e,["metadata"]);u!=null&&c(o,["metadata"],u);const f=a(e,["config"]);return f!=null&&c(o,["request","generationConfig"],Sv(t,f,a(o,["request"],{}))),o}function Av(t){const e={},o=a(t,["response"]);o!=null&&c(e,["response"],Tv(o));const i=a(t,["metadata"]);i!=null&&c(e,["metadata"],i);const s=a(t,["error"]);return s!=null&&c(e,["error"],s),e}function kv(t,e){const o={},i=a(t,["pageSize"]);e!==void 0&&i!=null&&c(e,["_query","pageSize"],i);const s=a(t,["pageToken"]);if(e!==void 0&&s!=null&&c(e,["_query","pageToken"],s),a(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return o}function Rv(t,e){const o={},i=a(t,["pageSize"]);e!==void 0&&i!=null&&c(e,["_query","pageSize"],i);const s=a(t,["pageToken"]);e!==void 0&&s!=null&&c(e,["_query","pageToken"],s);const u=a(t,["filter"]);return e!==void 0&&u!=null&&c(e,["_query","filter"],u),o}function Pv(t){const e={},o=a(t,["config"]);return o!=null&&kv(o,e),e}function Mv(t){const e={},o=a(t,["config"]);return o!=null&&Rv(o,e),e}function Dv(t){const e={},o=a(t,["sdkHttpResponse"]);o!=null&&c(e,["sdkHttpResponse"],o);const i=a(t,["nextPageToken"]);i!=null&&c(e,["nextPageToken"],i);const s=a(t,["operations"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(f=>Ri(f))),c(e,["batchJobs"],u)}return e}function Lv(t){const e={},o=a(t,["sdkHttpResponse"]);o!=null&&c(e,["sdkHttpResponse"],o);const i=a(t,["nextPageToken"]);i!=null&&c(e,["nextPageToken"],i);const s=a(t,["batchPredictionJobs"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(f=>ia(f))),c(e,["batchJobs"],u)}return e}function bv(t){const e={},o=a(t,["mediaResolution"]);o!=null&&c(e,["mediaResolution"],o);const i=a(t,["codeExecutionResult"]);i!=null&&c(e,["codeExecutionResult"],i);const s=a(t,["executableCode"]);s!=null&&c(e,["executableCode"],s);const u=a(t,["fileData"]);u!=null&&c(e,["fileData"],vv(u));const f=a(t,["functionCall"]);f!=null&&c(e,["functionCall"],yv(f));const p=a(t,["functionResponse"]);p!=null&&c(e,["functionResponse"],p);const v=a(t,["inlineData"]);v!=null&&c(e,["inlineData"],ev(v));const g=a(t,["text"]);g!=null&&c(e,["text"],g);const y=a(t,["thought"]);y!=null&&c(e,["thought"],y);const T=a(t,["thoughtSignature"]);T!=null&&c(e,["thoughtSignature"],T);const S=a(t,["videoMetadata"]);return S!=null&&c(e,["videoMetadata"],S),e}function Uv(t){const e={},o=a(t,["category"]);if(o!=null&&c(e,["category"],o),a(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=a(t,["threshold"]);return i!=null&&c(e,["threshold"],i),e}function Fv(t){const e={},o=a(t,["retrievalConfig"]);o!=null&&c(e,["retrievalConfig"],o);const i=a(t,["functionCallingConfig"]);return i!=null&&c(e,["functionCallingConfig"],xv(i)),e}function Gv(t){const e={};if(a(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=a(t,["computerUse"]);o!=null&&c(e,["computerUse"],o);const i=a(t,["fileSearch"]);i!=null&&c(e,["fileSearch"],i);const s=a(t,["codeExecution"]);if(s!=null&&c(e,["codeExecution"],s),a(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=a(t,["functionDeclarations"]);if(u!=null){let y=u;Array.isArray(y)&&(y=y.map(T=>T)),c(e,["functionDeclarations"],y)}const f=a(t,["googleMaps"]);f!=null&&c(e,["googleMaps"],wv(f));const p=a(t,["googleSearch"]);p!=null&&c(e,["googleSearch"],_v(p));const v=a(t,["googleSearchRetrieval"]);v!=null&&c(e,["googleSearchRetrieval"],v);const g=a(t,["urlContext"]);return g!=null&&c(e,["urlContext"],g),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var nn;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(nn||(nn={}));class Bn{constructor(e,o,i,s){this.pageInternal=[],this.paramsInternal={},this.requestInternal=o,this.init(e,i,s)}init(e,o,i){var s,u;this.nameInternal=e,this.pageInternal=o[this.nameInternal]||[],this.sdkHttpResponseInternal=o==null?void 0:o.sdkHttpResponse,this.idxInternal=0;let f={config:{}};!i||Object.keys(i).length===0?f={config:{}}:typeof i=="object"?f=Object.assign({},i):f=i,f.config&&(f.config.pageToken=o.nextPageToken),this.paramsInternal=f,this.pageInternalSize=(u=(s=f.config)===null||s===void 0?void 0:s.pageSize)!==null&&u!==void 0?u:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Vv extends on{constructor(e){super(),this.apiClient=e,this.list=async(o={})=>new Bn(nn.PAGED_ITEM_BATCH_JOBS,i=>this.listInternal(i),await this.listInternal(o),o),this.create=async o=>(this.apiClient.isVertexAI()&&(o.config=this.formatDestination(o.src,o.config)),this.createInternal(o)),this.createEmbeddings=async o=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(o)}}createInlinedGenerateContentRequest(e){const o=Yf(this.apiClient,e),i=o._url,s=j("{model}:batchGenerateContent",i),p=o.batch.inputConfig.requests,v=p.requests,g=[];for(const y of v){const T=Object.assign({},y);if(T.systemInstruction){const S=T.systemInstruction;delete T.systemInstruction;const C=T.request;C.systemInstruction=S,T.request=C}g.push(T)}return p.requests=g,delete o.config,delete o._url,delete o._query,{path:s,body:o}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,o){const i=o?Object.assign({},o):{},s=Date.now().toString();if(i.displayName||(i.displayName=`genaiBatchJob_${s}`),i.dest===void 0){const u=this.getGcsUri(e),f=this.getBigqueryUri(e);if(u)u.endsWith(".jsonl")?i.dest=`${u.slice(0,-6)}/dest`:i.dest=`${u}_dest_${s}`;else if(f)i.dest=`${f}_dest_${s}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return i}async createInternal(e){var o,i,s,u;let f,p="",v={};if(this.apiClient.isVertexAI()){const g=lv(this.apiClient,e);return p=j("batchPredictionJobs",g._url),v=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:p,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),f.then(y=>ia(y))}else{const g=Yf(this.apiClient,e);return p=j("{model}:batchGenerateContent",g._url),v=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:p,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(y=>y.json()),f.then(y=>Ri(y))}}async createEmbeddingsInternal(e){var o,i;let s,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=uv(this.apiClient,e);return u=j("{model}:asyncBatchEmbedContent",p._url),f=p._query,delete p._url,delete p._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),s.then(v=>Ri(v))}}async get(e){var o,i,s,u;let f,p="",v={};if(this.apiClient.isVertexAI()){const g=Cv(this.apiClient,e);return p=j("batchPredictionJobs/{name}",g._url),v=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:p,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),f.then(y=>ia(y))}else{const g=Ev(this.apiClient,e);return p=j("batches/{name}",g._url),v=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:p,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(y=>y.json()),f.then(y=>Ri(y))}}async cancel(e){var o,i,s,u;let f="",p={};if(this.apiClient.isVertexAI()){const v=nv(this.apiClient,e);f=j("batchPredictionJobs/{name}:cancel",v._url),p=v._query,delete v._url,delete v._query,await this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}else{const v=tv(this.apiClient,e);f=j("batches/{name}:cancel",v._url),p=v._query,delete v._url,delete v._query,await this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal})}}async listInternal(e){var o,i,s,u;let f,p="",v={};if(this.apiClient.isVertexAI()){const g=Mv(e);return p=j("batchPredictionJobs",g._url),v=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:p,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:y.headers},S})),f.then(y=>{const T=Lv(y),S=new qf;return Object.assign(S,T),S})}else{const g=Pv(e);return p=j("batches",g._url),v=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:p,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(y=>y.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:y.headers},S})),f.then(y=>{const T=Dv(y),S=new qf;return Object.assign(S,T),S})}}async delete(e){var o,i,s,u;let f,p="",v={};if(this.apiClient.isVertexAI()){const g=dv(this.apiClient,e);return p=j("batchPredictionJobs/{name}",g._url),v=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:p,queryParams:v,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:y.headers},S})),f.then(y=>pv(y))}else{const g=cv(this.apiClient,e);return p=j("batches/{name}",g._url),v=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:p,queryParams:v,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(y=>y.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:y.headers},S})),f.then(y=>fv(y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Hv(t){const e={},o=a(t,["data"]);if(o!=null&&c(e,["data"],o),a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=a(t,["mimeType"]);return i!=null&&c(e,["mimeType"],i),e}function Kf(t){const e={},o=a(t,["parts"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(u=>uy(u))),c(e,["parts"],s)}const i=a(t,["role"]);return i!=null&&c(e,["role"],i),e}function zv(t,e){const o={},i=a(t,["ttl"]);e!==void 0&&i!=null&&c(e,["ttl"],i);const s=a(t,["expireTime"]);e!==void 0&&s!=null&&c(e,["expireTime"],s);const u=a(t,["displayName"]);e!==void 0&&u!=null&&c(e,["displayName"],u);const f=a(t,["contents"]);if(e!==void 0&&f!=null){let y=Rt(f);Array.isArray(y)&&(y=y.map(T=>Kf(T))),c(e,["contents"],y)}const p=a(t,["systemInstruction"]);e!==void 0&&p!=null&&c(e,["systemInstruction"],Kf(at(p)));const v=a(t,["tools"]);if(e!==void 0&&v!=null){let y=v;Array.isArray(y)&&(y=y.map(T=>dy(T))),c(e,["tools"],y)}const g=a(t,["toolConfig"]);if(e!==void 0&&g!=null&&c(e,["toolConfig"],cy(g)),a(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return o}function Bv(t,e){const o={},i=a(t,["ttl"]);e!==void 0&&i!=null&&c(e,["ttl"],i);const s=a(t,["expireTime"]);e!==void 0&&s!=null&&c(e,["expireTime"],s);const u=a(t,["displayName"]);e!==void 0&&u!=null&&c(e,["displayName"],u);const f=a(t,["contents"]);if(e!==void 0&&f!=null){let T=Rt(f);Array.isArray(T)&&(T=T.map(S=>S)),c(e,["contents"],T)}const p=a(t,["systemInstruction"]);e!==void 0&&p!=null&&c(e,["systemInstruction"],at(p));const v=a(t,["tools"]);if(e!==void 0&&v!=null){let T=v;Array.isArray(T)&&(T=T.map(S=>fy(S))),c(e,["tools"],T)}const g=a(t,["toolConfig"]);e!==void 0&&g!=null&&c(e,["toolConfig"],g);const y=a(t,["kmsKeyName"]);return e!==void 0&&y!=null&&c(e,["encryption_spec","kmsKeyName"],y),o}function Ov(t,e){const o={},i=a(e,["model"]);i!=null&&c(o,["model"],Ap(t,i));const s=a(e,["config"]);return s!=null&&zv(s,o),o}function qv(t,e){const o={},i=a(e,["model"]);i!=null&&c(o,["model"],Ap(t,i));const s=a(e,["config"]);return s!=null&&Bv(s,o),o}function $v(t,e){const o={},i=a(e,["name"]);return i!=null&&c(o,["_url","name"],rn(t,i)),o}function Jv(t,e){const o={},i=a(e,["name"]);return i!=null&&c(o,["_url","name"],rn(t,i)),o}function Wv(t){const e={},o=a(t,["sdkHttpResponse"]);return o!=null&&c(e,["sdkHttpResponse"],o),e}function Yv(t){const e={},o=a(t,["sdkHttpResponse"]);return o!=null&&c(e,["sdkHttpResponse"],o),e}function Kv(t){const e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=a(t,["fileUri"]);o!=null&&c(e,["fileUri"],o);const i=a(t,["mimeType"]);return i!=null&&c(e,["mimeType"],i),e}function jv(t){const e={},o=a(t,["id"]);o!=null&&c(e,["id"],o);const i=a(t,["args"]);i!=null&&c(e,["args"],i);const s=a(t,["name"]);if(s!=null&&c(e,["name"],s),a(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(a(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Qv(t){const e={},o=a(t,["allowedFunctionNames"]);o!=null&&c(e,["allowedFunctionNames"],o);const i=a(t,["mode"]);if(i!=null&&c(e,["mode"],i),a(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Xv(t){const e={},o=a(t,["description"]);o!=null&&c(e,["description"],o);const i=a(t,["name"]);i!=null&&c(e,["name"],i);const s=a(t,["parameters"]);s!=null&&c(e,["parameters"],s);const u=a(t,["parametersJsonSchema"]);u!=null&&c(e,["parametersJsonSchema"],u);const f=a(t,["response"]);f!=null&&c(e,["response"],f);const p=a(t,["responseJsonSchema"]);if(p!=null&&c(e,["responseJsonSchema"],p),a(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function Zv(t,e){const o={},i=a(e,["name"]);return i!=null&&c(o,["_url","name"],rn(t,i)),o}function ey(t,e){const o={},i=a(e,["name"]);return i!=null&&c(o,["_url","name"],rn(t,i)),o}function ty(t){const e={};if(a(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=a(t,["enableWidget"]);return o!=null&&c(e,["enableWidget"],o),e}function ny(t){const e={};if(a(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(a(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=a(t,["timeRangeFilter"]);return o!=null&&c(e,["timeRangeFilter"],o),e}function oy(t,e){const o={},i=a(t,["pageSize"]);e!==void 0&&i!=null&&c(e,["_query","pageSize"],i);const s=a(t,["pageToken"]);return e!==void 0&&s!=null&&c(e,["_query","pageToken"],s),o}function ry(t,e){const o={},i=a(t,["pageSize"]);e!==void 0&&i!=null&&c(e,["_query","pageSize"],i);const s=a(t,["pageToken"]);return e!==void 0&&s!=null&&c(e,["_query","pageToken"],s),o}function iy(t){const e={},o=a(t,["config"]);return o!=null&&oy(o,e),e}function sy(t){const e={},o=a(t,["config"]);return o!=null&&ry(o,e),e}function ly(t){const e={},o=a(t,["sdkHttpResponse"]);o!=null&&c(e,["sdkHttpResponse"],o);const i=a(t,["nextPageToken"]);i!=null&&c(e,["nextPageToken"],i);const s=a(t,["cachedContents"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(f=>f)),c(e,["cachedContents"],u)}return e}function ay(t){const e={},o=a(t,["sdkHttpResponse"]);o!=null&&c(e,["sdkHttpResponse"],o);const i=a(t,["nextPageToken"]);i!=null&&c(e,["nextPageToken"],i);const s=a(t,["cachedContents"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(f=>f)),c(e,["cachedContents"],u)}return e}function uy(t){const e={},o=a(t,["mediaResolution"]);o!=null&&c(e,["mediaResolution"],o);const i=a(t,["codeExecutionResult"]);i!=null&&c(e,["codeExecutionResult"],i);const s=a(t,["executableCode"]);s!=null&&c(e,["executableCode"],s);const u=a(t,["fileData"]);u!=null&&c(e,["fileData"],Kv(u));const f=a(t,["functionCall"]);f!=null&&c(e,["functionCall"],jv(f));const p=a(t,["functionResponse"]);p!=null&&c(e,["functionResponse"],p);const v=a(t,["inlineData"]);v!=null&&c(e,["inlineData"],Hv(v));const g=a(t,["text"]);g!=null&&c(e,["text"],g);const y=a(t,["thought"]);y!=null&&c(e,["thought"],y);const T=a(t,["thoughtSignature"]);T!=null&&c(e,["thoughtSignature"],T);const S=a(t,["videoMetadata"]);return S!=null&&c(e,["videoMetadata"],S),e}function cy(t){const e={},o=a(t,["retrievalConfig"]);o!=null&&c(e,["retrievalConfig"],o);const i=a(t,["functionCallingConfig"]);return i!=null&&c(e,["functionCallingConfig"],Qv(i)),e}function dy(t){const e={};if(a(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=a(t,["computerUse"]);o!=null&&c(e,["computerUse"],o);const i=a(t,["fileSearch"]);i!=null&&c(e,["fileSearch"],i);const s=a(t,["codeExecution"]);if(s!=null&&c(e,["codeExecution"],s),a(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=a(t,["functionDeclarations"]);if(u!=null){let y=u;Array.isArray(y)&&(y=y.map(T=>T)),c(e,["functionDeclarations"],y)}const f=a(t,["googleMaps"]);f!=null&&c(e,["googleMaps"],ty(f));const p=a(t,["googleSearch"]);p!=null&&c(e,["googleSearch"],ny(p));const v=a(t,["googleSearchRetrieval"]);v!=null&&c(e,["googleSearchRetrieval"],v);const g=a(t,["urlContext"]);return g!=null&&c(e,["urlContext"],g),e}function fy(t){const e={},o=a(t,["retrieval"]);o!=null&&c(e,["retrieval"],o);const i=a(t,["computerUse"]);if(i!=null&&c(e,["computerUse"],i),a(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=a(t,["codeExecution"]);s!=null&&c(e,["codeExecution"],s);const u=a(t,["enterpriseWebSearch"]);u!=null&&c(e,["enterpriseWebSearch"],u);const f=a(t,["functionDeclarations"]);if(f!=null){let T=f;Array.isArray(T)&&(T=T.map(S=>Xv(S))),c(e,["functionDeclarations"],T)}const p=a(t,["googleMaps"]);p!=null&&c(e,["googleMaps"],p);const v=a(t,["googleSearch"]);v!=null&&c(e,["googleSearch"],v);const g=a(t,["googleSearchRetrieval"]);g!=null&&c(e,["googleSearchRetrieval"],g);const y=a(t,["urlContext"]);return y!=null&&c(e,["urlContext"],y),e}function py(t,e){const o={},i=a(t,["ttl"]);e!==void 0&&i!=null&&c(e,["ttl"],i);const s=a(t,["expireTime"]);return e!==void 0&&s!=null&&c(e,["expireTime"],s),o}function hy(t,e){const o={},i=a(t,["ttl"]);e!==void 0&&i!=null&&c(e,["ttl"],i);const s=a(t,["expireTime"]);return e!==void 0&&s!=null&&c(e,["expireTime"],s),o}function my(t,e){const o={},i=a(e,["name"]);i!=null&&c(o,["_url","name"],rn(t,i));const s=a(e,["config"]);return s!=null&&py(s,o),o}function gy(t,e){const o={},i=a(e,["name"]);i!=null&&c(o,["_url","name"],rn(t,i));const s=a(e,["config"]);return s!=null&&hy(s,o),o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class vy extends on{constructor(e){super(),this.apiClient=e,this.list=async(o={})=>new Bn(nn.PAGED_ITEM_CACHED_CONTENTS,i=>this.listInternal(i),await this.listInternal(o),o)}async create(e){var o,i,s,u;let f,p="",v={};if(this.apiClient.isVertexAI()){const g=qv(this.apiClient,e);return p=j("cachedContents",g._url),v=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:p,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),f.then(y=>y)}else{const g=Ov(this.apiClient,e);return p=j("cachedContents",g._url),v=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:p,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(y=>y.json()),f.then(y=>y)}}async get(e){var o,i,s,u;let f,p="",v={};if(this.apiClient.isVertexAI()){const g=ey(this.apiClient,e);return p=j("{name}",g._url),v=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:p,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),f.then(y=>y)}else{const g=Zv(this.apiClient,e);return p=j("{name}",g._url),v=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:p,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(y=>y.json()),f.then(y=>y)}}async delete(e){var o,i,s,u;let f,p="",v={};if(this.apiClient.isVertexAI()){const g=Jv(this.apiClient,e);return p=j("{name}",g._url),v=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:p,queryParams:v,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:y.headers},S})),f.then(y=>{const T=Yv(y),S=new Bf;return Object.assign(S,T),S})}else{const g=$v(this.apiClient,e);return p=j("{name}",g._url),v=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:p,queryParams:v,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(y=>y.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:y.headers},S})),f.then(y=>{const T=Wv(y),S=new Bf;return Object.assign(S,T),S})}}async update(e){var o,i,s,u;let f,p="",v={};if(this.apiClient.isVertexAI()){const g=gy(this.apiClient,e);return p=j("{name}",g._url),v=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:p,queryParams:v,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),f.then(y=>y)}else{const g=my(this.apiClient,e);return p=j("{name}",g._url),v=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:p,queryParams:v,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(y=>y.json()),f.then(y=>y)}}async listInternal(e){var o,i,s,u;let f,p="",v={};if(this.apiClient.isVertexAI()){const g=sy(e);return p=j("cachedContents",g._url),v=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:p,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:y.headers},S})),f.then(y=>{const T=ay(y),S=new Of;return Object.assign(S,T),S})}else{const g=iy(e);return p=j("cachedContents",g._url),v=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:p,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(y=>y.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:y.headers},S})),f.then(y=>{const T=ly(y),S=new Of;return Object.assign(S,T),S})}}}function Bi(t,e){var o={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(o[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(t);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(t,i[s])&&(o[i[s]]=t[i[s]]);return o}function jf(t){var e=typeof Symbol=="function"&&Symbol.iterator,o=e&&t[e],i=0;if(o)return o.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ve(t){return this instanceof ve?(this.v=t,this):new ve(t)}function Vt(t,e,o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=o.apply(t,e||[]),s,u=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),p("next"),p("throw"),p("return",f),s[Symbol.asyncIterator]=function(){return this},s;function f(C){return function(k){return Promise.resolve(k).then(C,T)}}function p(C,k){i[C]&&(s[C]=function(I){return new Promise(function(R,L){u.push([C,I,R,L])>1||v(C,I)})},k&&(s[C]=k(s[C])))}function v(C,k){try{g(i[C](k))}catch(I){S(u[0][3],I)}}function g(C){C.value instanceof ve?Promise.resolve(C.value.v).then(y,T):S(u[0][2],C)}function y(C){v("next",C)}function T(C){v("throw",C)}function S(C,k){C(k),u.shift(),u.length&&v(u[0][0],u[0][1])}}function Ht(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],o;return e?e.call(t):(t=typeof jf=="function"?jf(t):t[Symbol.iterator](),o={},i("next"),i("throw"),i("return"),o[Symbol.asyncIterator]=function(){return this},o);function i(u){o[u]=t[u]&&function(f){return new Promise(function(p,v){f=t[u](f),s(p,v,f.done,f.value)})}}function s(u,f,p,v){Promise.resolve(v).then(function(g){u({value:g,done:p})},f)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function yy(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const o=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return o===void 0?!1:zp(o)}function zp(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function xy(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function Qf(t){if(t===void 0||t.length===0)return[];const e=[],o=t.length;let i=0;for(;i<o;)if(t[i].role==="user")e.push(t[i]),i++;else{const s=[];let u=!0;for(;i<o&&t[i].role==="model";)s.push(t[i]),u&&!zp(t[i])&&(u=!1),i++;u?e.push(...s):e.pop()}return e}class Sy{constructor(e,o){this.modelsModule=e,this.apiClient=o}create(e){return new Ty(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class Ty{constructor(e,o,i,s={},u=[]){this.apiClient=e,this.modelsModule=o,this.model=i,this.config=s,this.history=u,this.sendPromise=Promise.resolve(),xy(u)}async sendMessage(e){var o;await this.sendPromise;const i=at(e.message),s=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(i),config:(o=e.config)!==null&&o!==void 0?o:this.config});return this.sendPromise=(async()=>{var u,f,p;const v=await s,g=(f=(u=v.candidates)===null||u===void 0?void 0:u[0])===null||f===void 0?void 0:f.content,y=v.automaticFunctionCallingHistory,T=this.getHistory(!0).length;let S=[];y!=null&&(S=(p=y.slice(T))!==null&&p!==void 0?p:[]);const C=g?[g]:[];this.recordHistory(i,C,S)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),s}async sendMessageStream(e){var o;await this.sendPromise;const i=at(e.message),s=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(i),config:(o=e.config)!==null&&o!==void 0?o:this.config});this.sendPromise=s.then(()=>{}).catch(()=>{});const u=await s;return this.processStreamResponse(u,i)}getHistory(e=!1){const o=e?Qf(this.history):this.history;return structuredClone(o)}processStreamResponse(e,o){return Vt(this,arguments,function*(){var s,u,f,p,v,g;const y=[];try{for(var T=!0,S=Ht(e),C;C=yield ve(S.next()),s=C.done,!s;T=!0){p=C.value,T=!1;const k=p;if(yy(k)){const I=(g=(v=k.candidates)===null||v===void 0?void 0:v[0])===null||g===void 0?void 0:g.content;I!==void 0&&y.push(I)}yield yield ve(k)}}catch(k){u={error:k}}finally{try{!T&&!s&&(f=S.return)&&(yield ve(f.call(S)))}finally{if(u)throw u.error}}this.recordHistory(o,y)})}recordHistory(e,o,i){let s=[];o.length>0&&o.every(u=>u.role!==void 0)?s=o:s.push({role:"model",parts:[]}),i&&i.length>0?this.history.push(...Qf(i)):this.history.push(e),this.history.push(...s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class mr extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,mr.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ey(t){const e={},o=a(t,["file"]);return o!=null&&c(e,["file"],o),e}function Cy(t){const e={},o=a(t,["sdkHttpResponse"]);return o!=null&&c(e,["sdkHttpResponse"],o),e}function wy(t){const e={},o=a(t,["name"]);return o!=null&&c(e,["_url","file"],Lp(o)),e}function _y(t){const e={},o=a(t,["sdkHttpResponse"]);return o!=null&&c(e,["sdkHttpResponse"],o),e}function Ny(t){const e={},o=a(t,["name"]);return o!=null&&c(e,["_url","file"],Lp(o)),e}function Iy(t){const e={},o=a(t,["uris"]);return o!=null&&c(e,["uris"],o),e}function Ay(t,e){const o={},i=a(t,["pageSize"]);e!==void 0&&i!=null&&c(e,["_query","pageSize"],i);const s=a(t,["pageToken"]);return e!==void 0&&s!=null&&c(e,["_query","pageToken"],s),o}function ky(t){const e={},o=a(t,["config"]);return o!=null&&Ay(o,e),e}function Ry(t){const e={},o=a(t,["sdkHttpResponse"]);o!=null&&c(e,["sdkHttpResponse"],o);const i=a(t,["nextPageToken"]);i!=null&&c(e,["nextPageToken"],i);const s=a(t,["files"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(f=>f)),c(e,["files"],u)}return e}function Py(t){const e={},o=a(t,["sdkHttpResponse"]);o!=null&&c(e,["sdkHttpResponse"],o);const i=a(t,["files"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(u=>u)),c(e,["files"],s)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class My extends on{constructor(e){super(),this.apiClient=e,this.list=async(o={})=>new Bn(nn.PAGED_ITEM_FILES,i=>this.listInternal(i),await this.listInternal(o),o)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(o=>o)}async download(e){await this.apiClient.downloadFile(e)}async registerFiles(e){throw new Error("registerFiles is only supported in Node.js environments.")}async _registerFiles(e){return this.registerFilesInternal(e)}async listInternal(e){var o,i;let s,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=ky(e);return u=j("files",p._url),f=p._query,delete p._url,delete p._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:v.headers},y})),s.then(v=>{const g=Ry(v),y=new D0;return Object.assign(y,g),y})}}async createInternal(e){var o,i;let s,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=Ey(e);return u=j("upload/v1beta/files",p._url),f=p._query,delete p._url,delete p._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),s.then(v=>{const g=Cy(v),y=new L0;return Object.assign(y,g),y})}}async get(e){var o,i;let s,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=Ny(e);return u=j("files/{file}",p._url),f=p._query,delete p._url,delete p._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),s.then(v=>v)}}async delete(e){var o,i;let s,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=wy(e);return u=j("files/{file}",p._url),f=p._query,delete p._url,delete p._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:v.headers},y})),s.then(v=>{const g=_y(v),y=new b0;return Object.assign(y,g),y})}}async registerFilesInternal(e){var o,i;let s,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=Iy(e);return u=j("files:register",p._url),f=p._query,delete p._url,delete p._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),s.then(v=>{const g=Py(v),y=new U0;return Object.assign(y,g),y})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Pi(t){const e={},o=a(t,["data"]);if(o!=null&&c(e,["data"],o),a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=a(t,["mimeType"]);return i!=null&&c(e,["mimeType"],i),e}function Dy(t){const e={},o=a(t,["parts"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(u=>Ky(u))),c(e,["parts"],s)}const i=a(t,["role"]);return i!=null&&c(e,["role"],i),e}function Ly(t){const e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=a(t,["fileUri"]);o!=null&&c(e,["fileUri"],o);const i=a(t,["mimeType"]);return i!=null&&c(e,["mimeType"],i),e}function by(t){const e={},o=a(t,["id"]);o!=null&&c(e,["id"],o);const i=a(t,["args"]);i!=null&&c(e,["args"],i);const s=a(t,["name"]);if(s!=null&&c(e,["name"],s),a(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(a(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Uy(t){const e={},o=a(t,["description"]);o!=null&&c(e,["description"],o);const i=a(t,["name"]);i!=null&&c(e,["name"],i);const s=a(t,["parameters"]);s!=null&&c(e,["parameters"],s);const u=a(t,["parametersJsonSchema"]);u!=null&&c(e,["parametersJsonSchema"],u);const f=a(t,["response"]);f!=null&&c(e,["response"],f);const p=a(t,["responseJsonSchema"]);if(p!=null&&c(e,["responseJsonSchema"],p),a(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function Fy(t){const e={},o=a(t,["modelSelectionConfig"]);o!=null&&c(e,["modelConfig"],o);const i=a(t,["responseJsonSchema"]);i!=null&&c(e,["responseJsonSchema"],i);const s=a(t,["audioTimestamp"]);s!=null&&c(e,["audioTimestamp"],s);const u=a(t,["candidateCount"]);u!=null&&c(e,["candidateCount"],u);const f=a(t,["enableAffectiveDialog"]);f!=null&&c(e,["enableAffectiveDialog"],f);const p=a(t,["frequencyPenalty"]);p!=null&&c(e,["frequencyPenalty"],p);const v=a(t,["logprobs"]);v!=null&&c(e,["logprobs"],v);const g=a(t,["maxOutputTokens"]);g!=null&&c(e,["maxOutputTokens"],g);const y=a(t,["mediaResolution"]);y!=null&&c(e,["mediaResolution"],y);const T=a(t,["presencePenalty"]);T!=null&&c(e,["presencePenalty"],T);const S=a(t,["responseLogprobs"]);S!=null&&c(e,["responseLogprobs"],S);const C=a(t,["responseMimeType"]);C!=null&&c(e,["responseMimeType"],C);const k=a(t,["responseModalities"]);k!=null&&c(e,["responseModalities"],k);const I=a(t,["responseSchema"]);I!=null&&c(e,["responseSchema"],I);const R=a(t,["routingConfig"]);R!=null&&c(e,["routingConfig"],R);const L=a(t,["seed"]);L!=null&&c(e,["seed"],L);const G=a(t,["speechConfig"]);G!=null&&c(e,["speechConfig"],G);const H=a(t,["stopSequences"]);H!=null&&c(e,["stopSequences"],H);const z=a(t,["temperature"]);z!=null&&c(e,["temperature"],z);const U=a(t,["thinkingConfig"]);U!=null&&c(e,["thinkingConfig"],U);const oe=a(t,["topK"]);oe!=null&&c(e,["topK"],oe);const re=a(t,["topP"]);if(re!=null&&c(e,["topP"],re),a(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function Gy(t){const e={};if(a(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=a(t,["enableWidget"]);return o!=null&&c(e,["enableWidget"],o),e}function Vy(t){const e={};if(a(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(a(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=a(t,["timeRangeFilter"]);return o!=null&&c(e,["timeRangeFilter"],o),e}function Hy(t,e){const o={},i=a(t,["generationConfig"]);e!==void 0&&i!=null&&c(e,["setup","generationConfig"],i);const s=a(t,["responseModalities"]);e!==void 0&&s!=null&&c(e,["setup","generationConfig","responseModalities"],s);const u=a(t,["temperature"]);e!==void 0&&u!=null&&c(e,["setup","generationConfig","temperature"],u);const f=a(t,["topP"]);e!==void 0&&f!=null&&c(e,["setup","generationConfig","topP"],f);const p=a(t,["topK"]);e!==void 0&&p!=null&&c(e,["setup","generationConfig","topK"],p);const v=a(t,["maxOutputTokens"]);e!==void 0&&v!=null&&c(e,["setup","generationConfig","maxOutputTokens"],v);const g=a(t,["mediaResolution"]);e!==void 0&&g!=null&&c(e,["setup","generationConfig","mediaResolution"],g);const y=a(t,["seed"]);e!==void 0&&y!=null&&c(e,["setup","generationConfig","seed"],y);const T=a(t,["speechConfig"]);e!==void 0&&T!=null&&c(e,["setup","generationConfig","speechConfig"],wa(T));const S=a(t,["thinkingConfig"]);e!==void 0&&S!=null&&c(e,["setup","generationConfig","thinkingConfig"],S);const C=a(t,["enableAffectiveDialog"]);e!==void 0&&C!=null&&c(e,["setup","generationConfig","enableAffectiveDialog"],C);const k=a(t,["systemInstruction"]);e!==void 0&&k!=null&&c(e,["setup","systemInstruction"],Dy(at(k)));const I=a(t,["tools"]);if(e!==void 0&&I!=null){let oe=Co(I);Array.isArray(oe)&&(oe=oe.map(re=>Qy(Eo(re)))),c(e,["setup","tools"],oe)}const R=a(t,["sessionResumption"]);e!==void 0&&R!=null&&c(e,["setup","sessionResumption"],jy(R));const L=a(t,["inputAudioTranscription"]);e!==void 0&&L!=null&&c(e,["setup","inputAudioTranscription"],L);const G=a(t,["outputAudioTranscription"]);e!==void 0&&G!=null&&c(e,["setup","outputAudioTranscription"],G);const H=a(t,["realtimeInputConfig"]);e!==void 0&&H!=null&&c(e,["setup","realtimeInputConfig"],H);const z=a(t,["contextWindowCompression"]);e!==void 0&&z!=null&&c(e,["setup","contextWindowCompression"],z);const U=a(t,["proactivity"]);if(e!==void 0&&U!=null&&c(e,["setup","proactivity"],U),a(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return o}function zy(t,e){const o={},i=a(t,["generationConfig"]);e!==void 0&&i!=null&&c(e,["setup","generationConfig"],Fy(i));const s=a(t,["responseModalities"]);e!==void 0&&s!=null&&c(e,["setup","generationConfig","responseModalities"],s);const u=a(t,["temperature"]);e!==void 0&&u!=null&&c(e,["setup","generationConfig","temperature"],u);const f=a(t,["topP"]);e!==void 0&&f!=null&&c(e,["setup","generationConfig","topP"],f);const p=a(t,["topK"]);e!==void 0&&p!=null&&c(e,["setup","generationConfig","topK"],p);const v=a(t,["maxOutputTokens"]);e!==void 0&&v!=null&&c(e,["setup","generationConfig","maxOutputTokens"],v);const g=a(t,["mediaResolution"]);e!==void 0&&g!=null&&c(e,["setup","generationConfig","mediaResolution"],g);const y=a(t,["seed"]);e!==void 0&&y!=null&&c(e,["setup","generationConfig","seed"],y);const T=a(t,["speechConfig"]);e!==void 0&&T!=null&&c(e,["setup","generationConfig","speechConfig"],wa(T));const S=a(t,["thinkingConfig"]);e!==void 0&&S!=null&&c(e,["setup","generationConfig","thinkingConfig"],S);const C=a(t,["enableAffectiveDialog"]);e!==void 0&&C!=null&&c(e,["setup","generationConfig","enableAffectiveDialog"],C);const k=a(t,["systemInstruction"]);e!==void 0&&k!=null&&c(e,["setup","systemInstruction"],at(k));const I=a(t,["tools"]);if(e!==void 0&&I!=null){let re=Co(I);Array.isArray(re)&&(re=re.map(fe=>Xy(Eo(fe)))),c(e,["setup","tools"],re)}const R=a(t,["sessionResumption"]);e!==void 0&&R!=null&&c(e,["setup","sessionResumption"],R);const L=a(t,["inputAudioTranscription"]);e!==void 0&&L!=null&&c(e,["setup","inputAudioTranscription"],L);const G=a(t,["outputAudioTranscription"]);e!==void 0&&G!=null&&c(e,["setup","outputAudioTranscription"],G);const H=a(t,["realtimeInputConfig"]);e!==void 0&&H!=null&&c(e,["setup","realtimeInputConfig"],H);const z=a(t,["contextWindowCompression"]);e!==void 0&&z!=null&&c(e,["setup","contextWindowCompression"],z);const U=a(t,["proactivity"]);e!==void 0&&U!=null&&c(e,["setup","proactivity"],U);const oe=a(t,["explicitVadSignal"]);return e!==void 0&&oe!=null&&c(e,["setup","explicitVadSignal"],oe),o}function By(t,e){const o={},i=a(e,["model"]);i!=null&&c(o,["setup","model"],Ae(t,i));const s=a(e,["config"]);return s!=null&&c(o,["config"],Hy(s,o)),o}function Oy(t,e){const o={},i=a(e,["model"]);i!=null&&c(o,["setup","model"],Ae(t,i));const s=a(e,["config"]);return s!=null&&c(o,["config"],zy(s,o)),o}function qy(t){const e={},o=a(t,["musicGenerationConfig"]);return o!=null&&c(e,["musicGenerationConfig"],o),e}function $y(t){const e={},o=a(t,["weightedPrompts"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(s=>s)),c(e,["weightedPrompts"],i)}return e}function Jy(t){const e={},o=a(t,["media"]);if(o!=null){let g=kp(o);Array.isArray(g)&&(g=g.map(y=>Pi(y))),c(e,["mediaChunks"],g)}const i=a(t,["audio"]);i!=null&&c(e,["audio"],Pi(Pp(i)));const s=a(t,["audioStreamEnd"]);s!=null&&c(e,["audioStreamEnd"],s);const u=a(t,["video"]);u!=null&&c(e,["video"],Pi(Rp(u)));const f=a(t,["text"]);f!=null&&c(e,["text"],f);const p=a(t,["activityStart"]);p!=null&&c(e,["activityStart"],p);const v=a(t,["activityEnd"]);return v!=null&&c(e,["activityEnd"],v),e}function Wy(t){const e={},o=a(t,["media"]);if(o!=null){let g=kp(o);Array.isArray(g)&&(g=g.map(y=>y)),c(e,["mediaChunks"],g)}const i=a(t,["audio"]);i!=null&&c(e,["audio"],Pp(i));const s=a(t,["audioStreamEnd"]);s!=null&&c(e,["audioStreamEnd"],s);const u=a(t,["video"]);u!=null&&c(e,["video"],Rp(u));const f=a(t,["text"]);f!=null&&c(e,["text"],f);const p=a(t,["activityStart"]);p!=null&&c(e,["activityStart"],p);const v=a(t,["activityEnd"]);return v!=null&&c(e,["activityEnd"],v),e}function Yy(t){const e={},o=a(t,["setupComplete"]);o!=null&&c(e,["setupComplete"],o);const i=a(t,["serverContent"]);i!=null&&c(e,["serverContent"],i);const s=a(t,["toolCall"]);s!=null&&c(e,["toolCall"],s);const u=a(t,["toolCallCancellation"]);u!=null&&c(e,["toolCallCancellation"],u);const f=a(t,["usageMetadata"]);f!=null&&c(e,["usageMetadata"],Zy(f));const p=a(t,["goAway"]);p!=null&&c(e,["goAway"],p);const v=a(t,["sessionResumptionUpdate"]);v!=null&&c(e,["sessionResumptionUpdate"],v);const g=a(t,["voiceActivityDetectionSignal"]);g!=null&&c(e,["voiceActivityDetectionSignal"],g);const y=a(t,["voiceActivity"]);return y!=null&&c(e,["voiceActivity"],ex(y)),e}function Ky(t){const e={},o=a(t,["mediaResolution"]);o!=null&&c(e,["mediaResolution"],o);const i=a(t,["codeExecutionResult"]);i!=null&&c(e,["codeExecutionResult"],i);const s=a(t,["executableCode"]);s!=null&&c(e,["executableCode"],s);const u=a(t,["fileData"]);u!=null&&c(e,["fileData"],Ly(u));const f=a(t,["functionCall"]);f!=null&&c(e,["functionCall"],by(f));const p=a(t,["functionResponse"]);p!=null&&c(e,["functionResponse"],p);const v=a(t,["inlineData"]);v!=null&&c(e,["inlineData"],Pi(v));const g=a(t,["text"]);g!=null&&c(e,["text"],g);const y=a(t,["thought"]);y!=null&&c(e,["thought"],y);const T=a(t,["thoughtSignature"]);T!=null&&c(e,["thoughtSignature"],T);const S=a(t,["videoMetadata"]);return S!=null&&c(e,["videoMetadata"],S),e}function jy(t){const e={},o=a(t,["handle"]);if(o!=null&&c(e,["handle"],o),a(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function Qy(t){const e={};if(a(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=a(t,["computerUse"]);o!=null&&c(e,["computerUse"],o);const i=a(t,["fileSearch"]);i!=null&&c(e,["fileSearch"],i);const s=a(t,["codeExecution"]);if(s!=null&&c(e,["codeExecution"],s),a(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=a(t,["functionDeclarations"]);if(u!=null){let y=u;Array.isArray(y)&&(y=y.map(T=>T)),c(e,["functionDeclarations"],y)}const f=a(t,["googleMaps"]);f!=null&&c(e,["googleMaps"],Gy(f));const p=a(t,["googleSearch"]);p!=null&&c(e,["googleSearch"],Vy(p));const v=a(t,["googleSearchRetrieval"]);v!=null&&c(e,["googleSearchRetrieval"],v);const g=a(t,["urlContext"]);return g!=null&&c(e,["urlContext"],g),e}function Xy(t){const e={},o=a(t,["retrieval"]);o!=null&&c(e,["retrieval"],o);const i=a(t,["computerUse"]);if(i!=null&&c(e,["computerUse"],i),a(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=a(t,["codeExecution"]);s!=null&&c(e,["codeExecution"],s);const u=a(t,["enterpriseWebSearch"]);u!=null&&c(e,["enterpriseWebSearch"],u);const f=a(t,["functionDeclarations"]);if(f!=null){let T=f;Array.isArray(T)&&(T=T.map(S=>Uy(S))),c(e,["functionDeclarations"],T)}const p=a(t,["googleMaps"]);p!=null&&c(e,["googleMaps"],p);const v=a(t,["googleSearch"]);v!=null&&c(e,["googleSearch"],v);const g=a(t,["googleSearchRetrieval"]);g!=null&&c(e,["googleSearchRetrieval"],g);const y=a(t,["urlContext"]);return y!=null&&c(e,["urlContext"],y),e}function Zy(t){const e={},o=a(t,["promptTokenCount"]);o!=null&&c(e,["promptTokenCount"],o);const i=a(t,["cachedContentTokenCount"]);i!=null&&c(e,["cachedContentTokenCount"],i);const s=a(t,["candidatesTokenCount"]);s!=null&&c(e,["responseTokenCount"],s);const u=a(t,["toolUsePromptTokenCount"]);u!=null&&c(e,["toolUsePromptTokenCount"],u);const f=a(t,["thoughtsTokenCount"]);f!=null&&c(e,["thoughtsTokenCount"],f);const p=a(t,["totalTokenCount"]);p!=null&&c(e,["totalTokenCount"],p);const v=a(t,["promptTokensDetails"]);if(v!=null){let C=v;Array.isArray(C)&&(C=C.map(k=>k)),c(e,["promptTokensDetails"],C)}const g=a(t,["cacheTokensDetails"]);if(g!=null){let C=g;Array.isArray(C)&&(C=C.map(k=>k)),c(e,["cacheTokensDetails"],C)}const y=a(t,["candidatesTokensDetails"]);if(y!=null){let C=y;Array.isArray(C)&&(C=C.map(k=>k)),c(e,["responseTokensDetails"],C)}const T=a(t,["toolUsePromptTokensDetails"]);if(T!=null){let C=T;Array.isArray(C)&&(C=C.map(k=>k)),c(e,["toolUsePromptTokensDetails"],C)}const S=a(t,["trafficType"]);return S!=null&&c(e,["trafficType"],S),e}function ex(t){const e={},o=a(t,["type"]);return o!=null&&c(e,["voiceActivityType"],o),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function tx(t,e){const o={},i=a(t,["data"]);if(i!=null&&c(o,["data"],i),a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=a(t,["mimeType"]);return s!=null&&c(o,["mimeType"],s),o}function nx(t,e){const o={},i=a(t,["content"]);i!=null&&c(o,["content"],i);const s=a(t,["citationMetadata"]);s!=null&&c(o,["citationMetadata"],ox(s));const u=a(t,["tokenCount"]);u!=null&&c(o,["tokenCount"],u);const f=a(t,["finishReason"]);f!=null&&c(o,["finishReason"],f);const p=a(t,["avgLogprobs"]);p!=null&&c(o,["avgLogprobs"],p);const v=a(t,["groundingMetadata"]);v!=null&&c(o,["groundingMetadata"],v);const g=a(t,["index"]);g!=null&&c(o,["index"],g);const y=a(t,["logprobsResult"]);y!=null&&c(o,["logprobsResult"],y);const T=a(t,["safetyRatings"]);if(T!=null){let C=T;Array.isArray(C)&&(C=C.map(k=>k)),c(o,["safetyRatings"],C)}const S=a(t,["urlContextMetadata"]);return S!=null&&c(o,["urlContextMetadata"],S),o}function ox(t,e){const o={},i=a(t,["citationSources"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(u=>u)),c(o,["citations"],s)}return o}function rx(t,e,o){const i={},s=a(e,["model"]);s!=null&&c(i,["_url","model"],Ae(t,s));const u=a(e,["contents"]);if(u!=null){let f=Rt(u);Array.isArray(f)&&(f=f.map(p=>p)),c(i,["contents"],f)}return i}function ix(t,e){const o={},i=a(t,["sdkHttpResponse"]);i!=null&&c(o,["sdkHttpResponse"],i);const s=a(t,["tokensInfo"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(f=>f)),c(o,["tokensInfo"],u)}return o}function sx(t,e){const o={},i=a(t,["values"]);i!=null&&c(o,["values"],i);const s=a(t,["statistics"]);return s!=null&&c(o,["statistics"],lx(s)),o}function lx(t,e){const o={},i=a(t,["truncated"]);i!=null&&c(o,["truncated"],i);const s=a(t,["token_count"]);return s!=null&&c(o,["tokenCount"],s),o}function $i(t,e){const o={},i=a(t,["parts"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(f=>gS(f))),c(o,["parts"],u)}const s=a(t,["role"]);return s!=null&&c(o,["role"],s),o}function ax(t,e){const o={},i=a(t,["controlType"]);i!=null&&c(o,["controlType"],i);const s=a(t,["enableControlImageComputation"]);return s!=null&&c(o,["computeControl"],s),o}function ux(t,e){const o={};if(a(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(a(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(a(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return o}function cx(t,e,o){const i={},s=a(t,["systemInstruction"]);e!==void 0&&s!=null&&c(e,["systemInstruction"],at(s));const u=a(t,["tools"]);if(e!==void 0&&u!=null){let p=u;Array.isArray(p)&&(p=p.map(v=>$p(v))),c(e,["tools"],p)}const f=a(t,["generationConfig"]);return e!==void 0&&f!=null&&c(e,["generationConfig"],tS(f)),i}function dx(t,e,o){const i={},s=a(e,["model"]);s!=null&&c(i,["_url","model"],Ae(t,s));const u=a(e,["contents"]);if(u!=null){let p=Rt(u);Array.isArray(p)&&(p=p.map(v=>$i(v))),c(i,["contents"],p)}const f=a(e,["config"]);return f!=null&&ux(f),i}function fx(t,e,o){const i={},s=a(e,["model"]);s!=null&&c(i,["_url","model"],Ae(t,s));const u=a(e,["contents"]);if(u!=null){let p=Rt(u);Array.isArray(p)&&(p=p.map(v=>v)),c(i,["contents"],p)}const f=a(e,["config"]);return f!=null&&cx(f,i),i}function px(t,e){const o={},i=a(t,["sdkHttpResponse"]);i!=null&&c(o,["sdkHttpResponse"],i);const s=a(t,["totalTokens"]);s!=null&&c(o,["totalTokens"],s);const u=a(t,["cachedContentTokenCount"]);return u!=null&&c(o,["cachedContentTokenCount"],u),o}function hx(t,e){const o={},i=a(t,["sdkHttpResponse"]);i!=null&&c(o,["sdkHttpResponse"],i);const s=a(t,["totalTokens"]);return s!=null&&c(o,["totalTokens"],s),o}function mx(t,e,o){const i={},s=a(e,["model"]);return s!=null&&c(i,["_url","name"],Ae(t,s)),i}function gx(t,e,o){const i={},s=a(e,["model"]);return s!=null&&c(i,["_url","name"],Ae(t,s)),i}function vx(t,e){const o={},i=a(t,["sdkHttpResponse"]);return i!=null&&c(o,["sdkHttpResponse"],i),o}function yx(t,e){const o={},i=a(t,["sdkHttpResponse"]);return i!=null&&c(o,["sdkHttpResponse"],i),o}function xx(t,e,o){const i={},s=a(t,["outputGcsUri"]);e!==void 0&&s!=null&&c(e,["parameters","storageUri"],s);const u=a(t,["negativePrompt"]);e!==void 0&&u!=null&&c(e,["parameters","negativePrompt"],u);const f=a(t,["numberOfImages"]);e!==void 0&&f!=null&&c(e,["parameters","sampleCount"],f);const p=a(t,["aspectRatio"]);e!==void 0&&p!=null&&c(e,["parameters","aspectRatio"],p);const v=a(t,["guidanceScale"]);e!==void 0&&v!=null&&c(e,["parameters","guidanceScale"],v);const g=a(t,["seed"]);e!==void 0&&g!=null&&c(e,["parameters","seed"],g);const y=a(t,["safetyFilterLevel"]);e!==void 0&&y!=null&&c(e,["parameters","safetySetting"],y);const T=a(t,["personGeneration"]);e!==void 0&&T!=null&&c(e,["parameters","personGeneration"],T);const S=a(t,["includeSafetyAttributes"]);e!==void 0&&S!=null&&c(e,["parameters","includeSafetyAttributes"],S);const C=a(t,["includeRaiReason"]);e!==void 0&&C!=null&&c(e,["parameters","includeRaiReason"],C);const k=a(t,["language"]);e!==void 0&&k!=null&&c(e,["parameters","language"],k);const I=a(t,["outputMimeType"]);e!==void 0&&I!=null&&c(e,["parameters","outputOptions","mimeType"],I);const R=a(t,["outputCompressionQuality"]);e!==void 0&&R!=null&&c(e,["parameters","outputOptions","compressionQuality"],R);const L=a(t,["addWatermark"]);e!==void 0&&L!=null&&c(e,["parameters","addWatermark"],L);const G=a(t,["labels"]);e!==void 0&&G!=null&&c(e,["labels"],G);const H=a(t,["editMode"]);e!==void 0&&H!=null&&c(e,["parameters","editMode"],H);const z=a(t,["baseSteps"]);return e!==void 0&&z!=null&&c(e,["parameters","editConfig","baseSteps"],z),i}function Sx(t,e,o){const i={},s=a(e,["model"]);s!=null&&c(i,["_url","model"],Ae(t,s));const u=a(e,["prompt"]);u!=null&&c(i,["instances[0]","prompt"],u);const f=a(e,["referenceImages"]);if(f!=null){let v=f;Array.isArray(v)&&(v=v.map(g=>ES(g))),c(i,["instances[0]","referenceImages"],v)}const p=a(e,["config"]);return p!=null&&xx(p,i),i}function Tx(t,e){const o={},i=a(t,["sdkHttpResponse"]);i!=null&&c(o,["sdkHttpResponse"],i);const s=a(t,["predictions"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(f=>Ji(f))),c(o,["generatedImages"],u)}return o}function Ex(t,e,o){const i={},s=a(t,["taskType"]);e!==void 0&&s!=null&&c(e,["requests[]","taskType"],s);const u=a(t,["title"]);e!==void 0&&u!=null&&c(e,["requests[]","title"],u);const f=a(t,["outputDimensionality"]);if(e!==void 0&&f!=null&&c(e,["requests[]","outputDimensionality"],f),a(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(a(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return i}function Cx(t,e,o){const i={},s=a(t,["taskType"]);e!==void 0&&s!=null&&c(e,["instances[]","task_type"],s);const u=a(t,["title"]);e!==void 0&&u!=null&&c(e,["instances[]","title"],u);const f=a(t,["outputDimensionality"]);e!==void 0&&f!=null&&c(e,["parameters","outputDimensionality"],f);const p=a(t,["mimeType"]);e!==void 0&&p!=null&&c(e,["instances[]","mimeType"],p);const v=a(t,["autoTruncate"]);return e!==void 0&&v!=null&&c(e,["parameters","autoTruncate"],v),i}function wx(t,e,o){const i={},s=a(e,["model"]);s!=null&&c(i,["_url","model"],Ae(t,s));const u=a(e,["contents"]);if(u!=null){let v=Ta(t,u);Array.isArray(v)&&(v=v.map(g=>g)),c(i,["requests[]","content"],v)}const f=a(e,["config"]);f!=null&&Ex(f,i);const p=a(e,["model"]);return p!==void 0&&c(i,["requests[]","model"],Ae(t,p)),i}function _x(t,e,o){const i={},s=a(e,["model"]);s!=null&&c(i,["_url","model"],Ae(t,s));const u=a(e,["contents"]);if(u!=null){let p=Ta(t,u);Array.isArray(p)&&(p=p.map(v=>v)),c(i,["instances[]","content"],p)}const f=a(e,["config"]);return f!=null&&Cx(f,i),i}function Nx(t,e){const o={},i=a(t,["sdkHttpResponse"]);i!=null&&c(o,["sdkHttpResponse"],i);const s=a(t,["embeddings"]);if(s!=null){let f=s;Array.isArray(f)&&(f=f.map(p=>p)),c(o,["embeddings"],f)}const u=a(t,["metadata"]);return u!=null&&c(o,["metadata"],u),o}function Ix(t,e){const o={},i=a(t,["sdkHttpResponse"]);i!=null&&c(o,["sdkHttpResponse"],i);const s=a(t,["predictions[]","embeddings"]);if(s!=null){let f=s;Array.isArray(f)&&(f=f.map(p=>sx(p))),c(o,["embeddings"],f)}const u=a(t,["metadata"]);return u!=null&&c(o,["metadata"],u),o}function Ax(t,e){const o={},i=a(t,["endpoint"]);i!=null&&c(o,["name"],i);const s=a(t,["deployedModelId"]);return s!=null&&c(o,["deployedModelId"],s),o}function kx(t,e){const o={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=a(t,["fileUri"]);i!=null&&c(o,["fileUri"],i);const s=a(t,["mimeType"]);return s!=null&&c(o,["mimeType"],s),o}function Rx(t,e){const o={},i=a(t,["id"]);i!=null&&c(o,["id"],i);const s=a(t,["args"]);s!=null&&c(o,["args"],s);const u=a(t,["name"]);if(u!=null&&c(o,["name"],u),a(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(a(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return o}function Px(t,e){const o={},i=a(t,["allowedFunctionNames"]);i!=null&&c(o,["allowedFunctionNames"],i);const s=a(t,["mode"]);if(s!=null&&c(o,["mode"],s),a(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return o}function Mx(t,e){const o={},i=a(t,["description"]);i!=null&&c(o,["description"],i);const s=a(t,["name"]);s!=null&&c(o,["name"],s);const u=a(t,["parameters"]);u!=null&&c(o,["parameters"],u);const f=a(t,["parametersJsonSchema"]);f!=null&&c(o,["parametersJsonSchema"],f);const p=a(t,["response"]);p!=null&&c(o,["response"],p);const v=a(t,["responseJsonSchema"]);if(v!=null&&c(o,["responseJsonSchema"],v),a(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return o}function Dx(t,e,o,i){const s={},u=a(e,["systemInstruction"]);o!==void 0&&u!=null&&c(o,["systemInstruction"],$i(at(u)));const f=a(e,["temperature"]);f!=null&&c(s,["temperature"],f);const p=a(e,["topP"]);p!=null&&c(s,["topP"],p);const v=a(e,["topK"]);v!=null&&c(s,["topK"],v);const g=a(e,["candidateCount"]);g!=null&&c(s,["candidateCount"],g);const y=a(e,["maxOutputTokens"]);y!=null&&c(s,["maxOutputTokens"],y);const T=a(e,["stopSequences"]);T!=null&&c(s,["stopSequences"],T);const S=a(e,["responseLogprobs"]);S!=null&&c(s,["responseLogprobs"],S);const C=a(e,["logprobs"]);C!=null&&c(s,["logprobs"],C);const k=a(e,["presencePenalty"]);k!=null&&c(s,["presencePenalty"],k);const I=a(e,["frequencyPenalty"]);I!=null&&c(s,["frequencyPenalty"],I);const R=a(e,["seed"]);R!=null&&c(s,["seed"],R);const L=a(e,["responseMimeType"]);L!=null&&c(s,["responseMimeType"],L);const G=a(e,["responseSchema"]);G!=null&&c(s,["responseSchema"],Ea(G));const H=a(e,["responseJsonSchema"]);if(H!=null&&c(s,["responseJsonSchema"],H),a(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(a(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const z=a(e,["safetySettings"]);if(o!==void 0&&z!=null){let ke=z;Array.isArray(ke)&&(ke=ke.map(Be=>CS(Be))),c(o,["safetySettings"],ke)}const U=a(e,["tools"]);if(o!==void 0&&U!=null){let ke=Co(U);Array.isArray(ke)&&(ke=ke.map(Be=>RS(Eo(Be)))),c(o,["tools"],ke)}const oe=a(e,["toolConfig"]);if(o!==void 0&&oe!=null&&c(o,["toolConfig"],kS(oe)),a(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const re=a(e,["cachedContent"]);o!==void 0&&re!=null&&c(o,["cachedContent"],rn(t,re));const fe=a(e,["responseModalities"]);fe!=null&&c(s,["responseModalities"],fe);const ee=a(e,["mediaResolution"]);ee!=null&&c(s,["mediaResolution"],ee);const Q=a(e,["speechConfig"]);if(Q!=null&&c(s,["speechConfig"],Ca(Q)),a(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const me=a(e,["thinkingConfig"]);me!=null&&c(s,["thinkingConfig"],me);const Se=a(e,["imageConfig"]);Se!=null&&c(s,["imageConfig"],sS(Se));const Ee=a(e,["enableEnhancedCivicAnswers"]);if(Ee!=null&&c(s,["enableEnhancedCivicAnswers"],Ee),a(e,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return s}function Lx(t,e,o,i){const s={},u=a(e,["systemInstruction"]);o!==void 0&&u!=null&&c(o,["systemInstruction"],at(u));const f=a(e,["temperature"]);f!=null&&c(s,["temperature"],f);const p=a(e,["topP"]);p!=null&&c(s,["topP"],p);const v=a(e,["topK"]);v!=null&&c(s,["topK"],v);const g=a(e,["candidateCount"]);g!=null&&c(s,["candidateCount"],g);const y=a(e,["maxOutputTokens"]);y!=null&&c(s,["maxOutputTokens"],y);const T=a(e,["stopSequences"]);T!=null&&c(s,["stopSequences"],T);const S=a(e,["responseLogprobs"]);S!=null&&c(s,["responseLogprobs"],S);const C=a(e,["logprobs"]);C!=null&&c(s,["logprobs"],C);const k=a(e,["presencePenalty"]);k!=null&&c(s,["presencePenalty"],k);const I=a(e,["frequencyPenalty"]);I!=null&&c(s,["frequencyPenalty"],I);const R=a(e,["seed"]);R!=null&&c(s,["seed"],R);const L=a(e,["responseMimeType"]);L!=null&&c(s,["responseMimeType"],L);const G=a(e,["responseSchema"]);G!=null&&c(s,["responseSchema"],Ea(G));const H=a(e,["responseJsonSchema"]);H!=null&&c(s,["responseJsonSchema"],H);const z=a(e,["routingConfig"]);z!=null&&c(s,["routingConfig"],z);const U=a(e,["modelSelectionConfig"]);U!=null&&c(s,["modelConfig"],U);const oe=a(e,["safetySettings"]);if(o!==void 0&&oe!=null){let J=oe;Array.isArray(J)&&(J=J.map(O=>O)),c(o,["safetySettings"],J)}const re=a(e,["tools"]);if(o!==void 0&&re!=null){let J=Co(re);Array.isArray(J)&&(J=J.map(O=>$p(Eo(O)))),c(o,["tools"],J)}const fe=a(e,["toolConfig"]);o!==void 0&&fe!=null&&c(o,["toolConfig"],fe);const ee=a(e,["labels"]);o!==void 0&&ee!=null&&c(o,["labels"],ee);const Q=a(e,["cachedContent"]);o!==void 0&&Q!=null&&c(o,["cachedContent"],rn(t,Q));const me=a(e,["responseModalities"]);me!=null&&c(s,["responseModalities"],me);const Se=a(e,["mediaResolution"]);Se!=null&&c(s,["mediaResolution"],Se);const Ee=a(e,["speechConfig"]);Ee!=null&&c(s,["speechConfig"],Ca(Ee));const ke=a(e,["audioTimestamp"]);ke!=null&&c(s,["audioTimestamp"],ke);const Be=a(e,["thinkingConfig"]);Be!=null&&c(s,["thinkingConfig"],Be);const Ue=a(e,["imageConfig"]);if(Ue!=null&&c(s,["imageConfig"],lS(Ue)),a(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");const Ne=a(e,["modelArmorConfig"]);return o!==void 0&&Ne!=null&&c(o,["modelArmorConfig"],Ne),s}function Xf(t,e,o){const i={},s=a(e,["model"]);s!=null&&c(i,["_url","model"],Ae(t,s));const u=a(e,["contents"]);if(u!=null){let p=Rt(u);Array.isArray(p)&&(p=p.map(v=>$i(v))),c(i,["contents"],p)}const f=a(e,["config"]);return f!=null&&c(i,["generationConfig"],Dx(t,f,i)),i}function Zf(t,e,o){const i={},s=a(e,["model"]);s!=null&&c(i,["_url","model"],Ae(t,s));const u=a(e,["contents"]);if(u!=null){let p=Rt(u);Array.isArray(p)&&(p=p.map(v=>v)),c(i,["contents"],p)}const f=a(e,["config"]);return f!=null&&c(i,["generationConfig"],Lx(t,f,i)),i}function ep(t,e){const o={},i=a(t,["sdkHttpResponse"]);i!=null&&c(o,["sdkHttpResponse"],i);const s=a(t,["candidates"]);if(s!=null){let g=s;Array.isArray(g)&&(g=g.map(y=>nx(y))),c(o,["candidates"],g)}const u=a(t,["modelVersion"]);u!=null&&c(o,["modelVersion"],u);const f=a(t,["promptFeedback"]);f!=null&&c(o,["promptFeedback"],f);const p=a(t,["responseId"]);p!=null&&c(o,["responseId"],p);const v=a(t,["usageMetadata"]);return v!=null&&c(o,["usageMetadata"],v),o}function tp(t,e){const o={},i=a(t,["sdkHttpResponse"]);i!=null&&c(o,["sdkHttpResponse"],i);const s=a(t,["candidates"]);if(s!=null){let y=s;Array.isArray(y)&&(y=y.map(T=>T)),c(o,["candidates"],y)}const u=a(t,["createTime"]);u!=null&&c(o,["createTime"],u);const f=a(t,["modelVersion"]);f!=null&&c(o,["modelVersion"],f);const p=a(t,["promptFeedback"]);p!=null&&c(o,["promptFeedback"],p);const v=a(t,["responseId"]);v!=null&&c(o,["responseId"],v);const g=a(t,["usageMetadata"]);return g!=null&&c(o,["usageMetadata"],g),o}function bx(t,e,o){const i={};if(a(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(a(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const s=a(t,["numberOfImages"]);e!==void 0&&s!=null&&c(e,["parameters","sampleCount"],s);const u=a(t,["aspectRatio"]);e!==void 0&&u!=null&&c(e,["parameters","aspectRatio"],u);const f=a(t,["guidanceScale"]);if(e!==void 0&&f!=null&&c(e,["parameters","guidanceScale"],f),a(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const p=a(t,["safetyFilterLevel"]);e!==void 0&&p!=null&&c(e,["parameters","safetySetting"],p);const v=a(t,["personGeneration"]);e!==void 0&&v!=null&&c(e,["parameters","personGeneration"],v);const g=a(t,["includeSafetyAttributes"]);e!==void 0&&g!=null&&c(e,["parameters","includeSafetyAttributes"],g);const y=a(t,["includeRaiReason"]);e!==void 0&&y!=null&&c(e,["parameters","includeRaiReason"],y);const T=a(t,["language"]);e!==void 0&&T!=null&&c(e,["parameters","language"],T);const S=a(t,["outputMimeType"]);e!==void 0&&S!=null&&c(e,["parameters","outputOptions","mimeType"],S);const C=a(t,["outputCompressionQuality"]);if(e!==void 0&&C!=null&&c(e,["parameters","outputOptions","compressionQuality"],C),a(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(a(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const k=a(t,["imageSize"]);if(e!==void 0&&k!=null&&c(e,["parameters","sampleImageSize"],k),a(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return i}function Ux(t,e,o){const i={},s=a(t,["outputGcsUri"]);e!==void 0&&s!=null&&c(e,["parameters","storageUri"],s);const u=a(t,["negativePrompt"]);e!==void 0&&u!=null&&c(e,["parameters","negativePrompt"],u);const f=a(t,["numberOfImages"]);e!==void 0&&f!=null&&c(e,["parameters","sampleCount"],f);const p=a(t,["aspectRatio"]);e!==void 0&&p!=null&&c(e,["parameters","aspectRatio"],p);const v=a(t,["guidanceScale"]);e!==void 0&&v!=null&&c(e,["parameters","guidanceScale"],v);const g=a(t,["seed"]);e!==void 0&&g!=null&&c(e,["parameters","seed"],g);const y=a(t,["safetyFilterLevel"]);e!==void 0&&y!=null&&c(e,["parameters","safetySetting"],y);const T=a(t,["personGeneration"]);e!==void 0&&T!=null&&c(e,["parameters","personGeneration"],T);const S=a(t,["includeSafetyAttributes"]);e!==void 0&&S!=null&&c(e,["parameters","includeSafetyAttributes"],S);const C=a(t,["includeRaiReason"]);e!==void 0&&C!=null&&c(e,["parameters","includeRaiReason"],C);const k=a(t,["language"]);e!==void 0&&k!=null&&c(e,["parameters","language"],k);const I=a(t,["outputMimeType"]);e!==void 0&&I!=null&&c(e,["parameters","outputOptions","mimeType"],I);const R=a(t,["outputCompressionQuality"]);e!==void 0&&R!=null&&c(e,["parameters","outputOptions","compressionQuality"],R);const L=a(t,["addWatermark"]);e!==void 0&&L!=null&&c(e,["parameters","addWatermark"],L);const G=a(t,["labels"]);e!==void 0&&G!=null&&c(e,["labels"],G);const H=a(t,["imageSize"]);e!==void 0&&H!=null&&c(e,["parameters","sampleImageSize"],H);const z=a(t,["enhancePrompt"]);return e!==void 0&&z!=null&&c(e,["parameters","enhancePrompt"],z),i}function Fx(t,e,o){const i={},s=a(e,["model"]);s!=null&&c(i,["_url","model"],Ae(t,s));const u=a(e,["prompt"]);u!=null&&c(i,["instances[0]","prompt"],u);const f=a(e,["config"]);return f!=null&&bx(f,i),i}function Gx(t,e,o){const i={},s=a(e,["model"]);s!=null&&c(i,["_url","model"],Ae(t,s));const u=a(e,["prompt"]);u!=null&&c(i,["instances[0]","prompt"],u);const f=a(e,["config"]);return f!=null&&Ux(f,i),i}function Vx(t,e){const o={},i=a(t,["sdkHttpResponse"]);i!=null&&c(o,["sdkHttpResponse"],i);const s=a(t,["predictions"]);if(s!=null){let f=s;Array.isArray(f)&&(f=f.map(p=>Qx(p))),c(o,["generatedImages"],f)}const u=a(t,["positivePromptSafetyAttributes"]);return u!=null&&c(o,["positivePromptSafetyAttributes"],Op(u)),o}function Hx(t,e){const o={},i=a(t,["sdkHttpResponse"]);i!=null&&c(o,["sdkHttpResponse"],i);const s=a(t,["predictions"]);if(s!=null){let f=s;Array.isArray(f)&&(f=f.map(p=>Ji(p))),c(o,["generatedImages"],f)}const u=a(t,["positivePromptSafetyAttributes"]);return u!=null&&c(o,["positivePromptSafetyAttributes"],qp(u)),o}function zx(t,e,o){const i={},s=a(t,["numberOfVideos"]);if(e!==void 0&&s!=null&&c(e,["parameters","sampleCount"],s),a(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(a(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const u=a(t,["durationSeconds"]);if(e!==void 0&&u!=null&&c(e,["parameters","durationSeconds"],u),a(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const f=a(t,["aspectRatio"]);e!==void 0&&f!=null&&c(e,["parameters","aspectRatio"],f);const p=a(t,["resolution"]);e!==void 0&&p!=null&&c(e,["parameters","resolution"],p);const v=a(t,["personGeneration"]);if(e!==void 0&&v!=null&&c(e,["parameters","personGeneration"],v),a(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const g=a(t,["negativePrompt"]);e!==void 0&&g!=null&&c(e,["parameters","negativePrompt"],g);const y=a(t,["enhancePrompt"]);if(e!==void 0&&y!=null&&c(e,["parameters","enhancePrompt"],y),a(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const T=a(t,["lastFrame"]);e!==void 0&&T!=null&&c(e,["instances[0]","lastFrame"],Wi(T));const S=a(t,["referenceImages"]);if(e!==void 0&&S!=null){let C=S;Array.isArray(C)&&(C=C.map(k=>OS(k))),c(e,["instances[0]","referenceImages"],C)}if(a(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(a(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return i}function Bx(t,e,o){const i={},s=a(t,["numberOfVideos"]);e!==void 0&&s!=null&&c(e,["parameters","sampleCount"],s);const u=a(t,["outputGcsUri"]);e!==void 0&&u!=null&&c(e,["parameters","storageUri"],u);const f=a(t,["fps"]);e!==void 0&&f!=null&&c(e,["parameters","fps"],f);const p=a(t,["durationSeconds"]);e!==void 0&&p!=null&&c(e,["parameters","durationSeconds"],p);const v=a(t,["seed"]);e!==void 0&&v!=null&&c(e,["parameters","seed"],v);const g=a(t,["aspectRatio"]);e!==void 0&&g!=null&&c(e,["parameters","aspectRatio"],g);const y=a(t,["resolution"]);e!==void 0&&y!=null&&c(e,["parameters","resolution"],y);const T=a(t,["personGeneration"]);e!==void 0&&T!=null&&c(e,["parameters","personGeneration"],T);const S=a(t,["pubsubTopic"]);e!==void 0&&S!=null&&c(e,["parameters","pubsubTopic"],S);const C=a(t,["negativePrompt"]);e!==void 0&&C!=null&&c(e,["parameters","negativePrompt"],C);const k=a(t,["enhancePrompt"]);e!==void 0&&k!=null&&c(e,["parameters","enhancePrompt"],k);const I=a(t,["generateAudio"]);e!==void 0&&I!=null&&c(e,["parameters","generateAudio"],I);const R=a(t,["lastFrame"]);e!==void 0&&R!=null&&c(e,["instances[0]","lastFrame"],zt(R));const L=a(t,["referenceImages"]);if(e!==void 0&&L!=null){let z=L;Array.isArray(z)&&(z=z.map(U=>qS(U))),c(e,["instances[0]","referenceImages"],z)}const G=a(t,["mask"]);e!==void 0&&G!=null&&c(e,["instances[0]","mask"],BS(G));const H=a(t,["compressionQuality"]);return e!==void 0&&H!=null&&c(e,["parameters","compressionQuality"],H),i}function Ox(t,e){const o={},i=a(t,["name"]);i!=null&&c(o,["name"],i);const s=a(t,["metadata"]);s!=null&&c(o,["metadata"],s);const u=a(t,["done"]);u!=null&&c(o,["done"],u);const f=a(t,["error"]);f!=null&&c(o,["error"],f);const p=a(t,["response","generateVideoResponse"]);return p!=null&&c(o,["response"],Wx(p)),o}function qx(t,e){const o={},i=a(t,["name"]);i!=null&&c(o,["name"],i);const s=a(t,["metadata"]);s!=null&&c(o,["metadata"],s);const u=a(t,["done"]);u!=null&&c(o,["done"],u);const f=a(t,["error"]);f!=null&&c(o,["error"],f);const p=a(t,["response"]);return p!=null&&c(o,["response"],Yx(p)),o}function $x(t,e,o){const i={},s=a(e,["model"]);s!=null&&c(i,["_url","model"],Ae(t,s));const u=a(e,["prompt"]);u!=null&&c(i,["instances[0]","prompt"],u);const f=a(e,["image"]);f!=null&&c(i,["instances[0]","image"],Wi(f));const p=a(e,["video"]);p!=null&&c(i,["instances[0]","video"],Jp(p));const v=a(e,["source"]);v!=null&&Kx(v,i);const g=a(e,["config"]);return g!=null&&zx(g,i),i}function Jx(t,e,o){const i={},s=a(e,["model"]);s!=null&&c(i,["_url","model"],Ae(t,s));const u=a(e,["prompt"]);u!=null&&c(i,["instances[0]","prompt"],u);const f=a(e,["image"]);f!=null&&c(i,["instances[0]","image"],zt(f));const p=a(e,["video"]);p!=null&&c(i,["instances[0]","video"],Wp(p));const v=a(e,["source"]);v!=null&&jx(v,i);const g=a(e,["config"]);return g!=null&&Bx(g,i),i}function Wx(t,e){const o={},i=a(t,["generatedSamples"]);if(i!=null){let f=i;Array.isArray(f)&&(f=f.map(p=>Zx(p))),c(o,["generatedVideos"],f)}const s=a(t,["raiMediaFilteredCount"]);s!=null&&c(o,["raiMediaFilteredCount"],s);const u=a(t,["raiMediaFilteredReasons"]);return u!=null&&c(o,["raiMediaFilteredReasons"],u),o}function Yx(t,e){const o={},i=a(t,["videos"]);if(i!=null){let f=i;Array.isArray(f)&&(f=f.map(p=>eS(p))),c(o,["generatedVideos"],f)}const s=a(t,["raiMediaFilteredCount"]);s!=null&&c(o,["raiMediaFilteredCount"],s);const u=a(t,["raiMediaFilteredReasons"]);return u!=null&&c(o,["raiMediaFilteredReasons"],u),o}function Kx(t,e,o){const i={},s=a(t,["prompt"]);e!==void 0&&s!=null&&c(e,["instances[0]","prompt"],s);const u=a(t,["image"]);e!==void 0&&u!=null&&c(e,["instances[0]","image"],Wi(u));const f=a(t,["video"]);return e!==void 0&&f!=null&&c(e,["instances[0]","video"],Jp(f)),i}function jx(t,e,o){const i={},s=a(t,["prompt"]);e!==void 0&&s!=null&&c(e,["instances[0]","prompt"],s);const u=a(t,["image"]);e!==void 0&&u!=null&&c(e,["instances[0]","image"],zt(u));const f=a(t,["video"]);return e!==void 0&&f!=null&&c(e,["instances[0]","video"],Wp(f)),i}function Qx(t,e){const o={},i=a(t,["_self"]);i!=null&&c(o,["image"],aS(i));const s=a(t,["raiFilteredReason"]);s!=null&&c(o,["raiFilteredReason"],s);const u=a(t,["_self"]);return u!=null&&c(o,["safetyAttributes"],Op(u)),o}function Ji(t,e){const o={},i=a(t,["_self"]);i!=null&&c(o,["image"],Bp(i));const s=a(t,["raiFilteredReason"]);s!=null&&c(o,["raiFilteredReason"],s);const u=a(t,["_self"]);u!=null&&c(o,["safetyAttributes"],qp(u));const f=a(t,["prompt"]);return f!=null&&c(o,["enhancedPrompt"],f),o}function Xx(t,e){const o={},i=a(t,["_self"]);i!=null&&c(o,["mask"],Bp(i));const s=a(t,["labels"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(f=>f)),c(o,["labels"],u)}return o}function Zx(t,e){const o={},i=a(t,["video"]);return i!=null&&c(o,["video"],HS(i)),o}function eS(t,e){const o={},i=a(t,["_self"]);return i!=null&&c(o,["video"],zS(i)),o}function tS(t,e){const o={},i=a(t,["modelSelectionConfig"]);i!=null&&c(o,["modelConfig"],i);const s=a(t,["responseJsonSchema"]);s!=null&&c(o,["responseJsonSchema"],s);const u=a(t,["audioTimestamp"]);u!=null&&c(o,["audioTimestamp"],u);const f=a(t,["candidateCount"]);f!=null&&c(o,["candidateCount"],f);const p=a(t,["enableAffectiveDialog"]);p!=null&&c(o,["enableAffectiveDialog"],p);const v=a(t,["frequencyPenalty"]);v!=null&&c(o,["frequencyPenalty"],v);const g=a(t,["logprobs"]);g!=null&&c(o,["logprobs"],g);const y=a(t,["maxOutputTokens"]);y!=null&&c(o,["maxOutputTokens"],y);const T=a(t,["mediaResolution"]);T!=null&&c(o,["mediaResolution"],T);const S=a(t,["presencePenalty"]);S!=null&&c(o,["presencePenalty"],S);const C=a(t,["responseLogprobs"]);C!=null&&c(o,["responseLogprobs"],C);const k=a(t,["responseMimeType"]);k!=null&&c(o,["responseMimeType"],k);const I=a(t,["responseModalities"]);I!=null&&c(o,["responseModalities"],I);const R=a(t,["responseSchema"]);R!=null&&c(o,["responseSchema"],R);const L=a(t,["routingConfig"]);L!=null&&c(o,["routingConfig"],L);const G=a(t,["seed"]);G!=null&&c(o,["seed"],G);const H=a(t,["speechConfig"]);H!=null&&c(o,["speechConfig"],H);const z=a(t,["stopSequences"]);z!=null&&c(o,["stopSequences"],z);const U=a(t,["temperature"]);U!=null&&c(o,["temperature"],U);const oe=a(t,["thinkingConfig"]);oe!=null&&c(o,["thinkingConfig"],oe);const re=a(t,["topK"]);re!=null&&c(o,["topK"],re);const fe=a(t,["topP"]);if(fe!=null&&c(o,["topP"],fe),a(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return o}function nS(t,e,o){const i={},s=a(e,["model"]);return s!=null&&c(i,["_url","name"],Ae(t,s)),i}function oS(t,e,o){const i={},s=a(e,["model"]);return s!=null&&c(i,["_url","name"],Ae(t,s)),i}function rS(t,e){const o={};if(a(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=a(t,["enableWidget"]);return i!=null&&c(o,["enableWidget"],i),o}function iS(t,e){const o={};if(a(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(a(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=a(t,["timeRangeFilter"]);return i!=null&&c(o,["timeRangeFilter"],i),o}function sS(t,e){const o={},i=a(t,["aspectRatio"]);i!=null&&c(o,["aspectRatio"],i);const s=a(t,["imageSize"]);if(s!=null&&c(o,["imageSize"],s),a(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(a(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(a(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return o}function lS(t,e){const o={},i=a(t,["aspectRatio"]);i!=null&&c(o,["aspectRatio"],i);const s=a(t,["imageSize"]);s!=null&&c(o,["imageSize"],s);const u=a(t,["personGeneration"]);u!=null&&c(o,["personGeneration"],u);const f=a(t,["outputMimeType"]);f!=null&&c(o,["imageOutputOptions","mimeType"],f);const p=a(t,["outputCompressionQuality"]);return p!=null&&c(o,["imageOutputOptions","compressionQuality"],p),o}function aS(t,e){const o={},i=a(t,["bytesBase64Encoded"]);i!=null&&c(o,["imageBytes"],_n(i));const s=a(t,["mimeType"]);return s!=null&&c(o,["mimeType"],s),o}function Bp(t,e){const o={},i=a(t,["gcsUri"]);i!=null&&c(o,["gcsUri"],i);const s=a(t,["bytesBase64Encoded"]);s!=null&&c(o,["imageBytes"],_n(s));const u=a(t,["mimeType"]);return u!=null&&c(o,["mimeType"],u),o}function Wi(t,e){const o={};if(a(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const i=a(t,["imageBytes"]);i!=null&&c(o,["bytesBase64Encoded"],_n(i));const s=a(t,["mimeType"]);return s!=null&&c(o,["mimeType"],s),o}function zt(t,e){const o={},i=a(t,["gcsUri"]);i!=null&&c(o,["gcsUri"],i);const s=a(t,["imageBytes"]);s!=null&&c(o,["bytesBase64Encoded"],_n(s));const u=a(t,["mimeType"]);return u!=null&&c(o,["mimeType"],u),o}function uS(t,e,o,i){const s={},u=a(e,["pageSize"]);o!==void 0&&u!=null&&c(o,["_query","pageSize"],u);const f=a(e,["pageToken"]);o!==void 0&&f!=null&&c(o,["_query","pageToken"],f);const p=a(e,["filter"]);o!==void 0&&p!=null&&c(o,["_query","filter"],p);const v=a(e,["queryBase"]);return o!==void 0&&v!=null&&c(o,["_url","models_url"],bp(t,v)),s}function cS(t,e,o,i){const s={},u=a(e,["pageSize"]);o!==void 0&&u!=null&&c(o,["_query","pageSize"],u);const f=a(e,["pageToken"]);o!==void 0&&f!=null&&c(o,["_query","pageToken"],f);const p=a(e,["filter"]);o!==void 0&&p!=null&&c(o,["_query","filter"],p);const v=a(e,["queryBase"]);return o!==void 0&&v!=null&&c(o,["_url","models_url"],bp(t,v)),s}function dS(t,e,o){const i={},s=a(e,["config"]);return s!=null&&uS(t,s,i),i}function fS(t,e,o){const i={},s=a(e,["config"]);return s!=null&&cS(t,s,i),i}function pS(t,e){const o={},i=a(t,["sdkHttpResponse"]);i!=null&&c(o,["sdkHttpResponse"],i);const s=a(t,["nextPageToken"]);s!=null&&c(o,["nextPageToken"],s);const u=a(t,["_self"]);if(u!=null){let f=Up(u);Array.isArray(f)&&(f=f.map(p=>sa(p))),c(o,["models"],f)}return o}function hS(t,e){const o={},i=a(t,["sdkHttpResponse"]);i!=null&&c(o,["sdkHttpResponse"],i);const s=a(t,["nextPageToken"]);s!=null&&c(o,["nextPageToken"],s);const u=a(t,["_self"]);if(u!=null){let f=Up(u);Array.isArray(f)&&(f=f.map(p=>la(p))),c(o,["models"],f)}return o}function mS(t,e){const o={},i=a(t,["maskMode"]);i!=null&&c(o,["maskMode"],i);const s=a(t,["segmentationClasses"]);s!=null&&c(o,["maskClasses"],s);const u=a(t,["maskDilation"]);return u!=null&&c(o,["dilation"],u),o}function sa(t,e){const o={},i=a(t,["name"]);i!=null&&c(o,["name"],i);const s=a(t,["displayName"]);s!=null&&c(o,["displayName"],s);const u=a(t,["description"]);u!=null&&c(o,["description"],u);const f=a(t,["version"]);f!=null&&c(o,["version"],f);const p=a(t,["_self"]);p!=null&&c(o,["tunedModelInfo"],PS(p));const v=a(t,["inputTokenLimit"]);v!=null&&c(o,["inputTokenLimit"],v);const g=a(t,["outputTokenLimit"]);g!=null&&c(o,["outputTokenLimit"],g);const y=a(t,["supportedGenerationMethods"]);y!=null&&c(o,["supportedActions"],y);const T=a(t,["temperature"]);T!=null&&c(o,["temperature"],T);const S=a(t,["maxTemperature"]);S!=null&&c(o,["maxTemperature"],S);const C=a(t,["topP"]);C!=null&&c(o,["topP"],C);const k=a(t,["topK"]);k!=null&&c(o,["topK"],k);const I=a(t,["thinking"]);return I!=null&&c(o,["thinking"],I),o}function la(t,e){const o={},i=a(t,["name"]);i!=null&&c(o,["name"],i);const s=a(t,["displayName"]);s!=null&&c(o,["displayName"],s);const u=a(t,["description"]);u!=null&&c(o,["description"],u);const f=a(t,["versionId"]);f!=null&&c(o,["version"],f);const p=a(t,["deployedModels"]);if(p!=null){let S=p;Array.isArray(S)&&(S=S.map(C=>Ax(C))),c(o,["endpoints"],S)}const v=a(t,["labels"]);v!=null&&c(o,["labels"],v);const g=a(t,["_self"]);g!=null&&c(o,["tunedModelInfo"],MS(g));const y=a(t,["defaultCheckpointId"]);y!=null&&c(o,["defaultCheckpointId"],y);const T=a(t,["checkpoints"]);if(T!=null){let S=T;Array.isArray(S)&&(S=S.map(C=>C)),c(o,["checkpoints"],S)}return o}function gS(t,e){const o={},i=a(t,["mediaResolution"]);i!=null&&c(o,["mediaResolution"],i);const s=a(t,["codeExecutionResult"]);s!=null&&c(o,["codeExecutionResult"],s);const u=a(t,["executableCode"]);u!=null&&c(o,["executableCode"],u);const f=a(t,["fileData"]);f!=null&&c(o,["fileData"],kx(f));const p=a(t,["functionCall"]);p!=null&&c(o,["functionCall"],Rx(p));const v=a(t,["functionResponse"]);v!=null&&c(o,["functionResponse"],v);const g=a(t,["inlineData"]);g!=null&&c(o,["inlineData"],tx(g));const y=a(t,["text"]);y!=null&&c(o,["text"],y);const T=a(t,["thought"]);T!=null&&c(o,["thought"],T);const S=a(t,["thoughtSignature"]);S!=null&&c(o,["thoughtSignature"],S);const C=a(t,["videoMetadata"]);return C!=null&&c(o,["videoMetadata"],C),o}function vS(t,e){const o={},i=a(t,["productImage"]);return i!=null&&c(o,["image"],zt(i)),o}function yS(t,e,o){const i={},s=a(t,["numberOfImages"]);e!==void 0&&s!=null&&c(e,["parameters","sampleCount"],s);const u=a(t,["baseSteps"]);e!==void 0&&u!=null&&c(e,["parameters","baseSteps"],u);const f=a(t,["outputGcsUri"]);e!==void 0&&f!=null&&c(e,["parameters","storageUri"],f);const p=a(t,["seed"]);e!==void 0&&p!=null&&c(e,["parameters","seed"],p);const v=a(t,["safetyFilterLevel"]);e!==void 0&&v!=null&&c(e,["parameters","safetySetting"],v);const g=a(t,["personGeneration"]);e!==void 0&&g!=null&&c(e,["parameters","personGeneration"],g);const y=a(t,["addWatermark"]);e!==void 0&&y!=null&&c(e,["parameters","addWatermark"],y);const T=a(t,["outputMimeType"]);e!==void 0&&T!=null&&c(e,["parameters","outputOptions","mimeType"],T);const S=a(t,["outputCompressionQuality"]);e!==void 0&&S!=null&&c(e,["parameters","outputOptions","compressionQuality"],S);const C=a(t,["enhancePrompt"]);e!==void 0&&C!=null&&c(e,["parameters","enhancePrompt"],C);const k=a(t,["labels"]);return e!==void 0&&k!=null&&c(e,["labels"],k),i}function xS(t,e,o){const i={},s=a(e,["model"]);s!=null&&c(i,["_url","model"],Ae(t,s));const u=a(e,["source"]);u!=null&&TS(u,i);const f=a(e,["config"]);return f!=null&&yS(f,i),i}function SS(t,e){const o={},i=a(t,["predictions"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(u=>Ji(u))),c(o,["generatedImages"],s)}return o}function TS(t,e,o){const i={},s=a(t,["prompt"]);e!==void 0&&s!=null&&c(e,["instances[0]","prompt"],s);const u=a(t,["personImage"]);e!==void 0&&u!=null&&c(e,["instances[0]","personImage","image"],zt(u));const f=a(t,["productImages"]);if(e!==void 0&&f!=null){let p=f;Array.isArray(p)&&(p=p.map(v=>vS(v))),c(e,["instances[0]","productImages"],p)}return i}function ES(t,e){const o={},i=a(t,["referenceImage"]);i!=null&&c(o,["referenceImage"],zt(i));const s=a(t,["referenceId"]);s!=null&&c(o,["referenceId"],s);const u=a(t,["referenceType"]);u!=null&&c(o,["referenceType"],u);const f=a(t,["maskImageConfig"]);f!=null&&c(o,["maskImageConfig"],mS(f));const p=a(t,["controlImageConfig"]);p!=null&&c(o,["controlImageConfig"],ax(p));const v=a(t,["styleImageConfig"]);v!=null&&c(o,["styleImageConfig"],v);const g=a(t,["subjectImageConfig"]);return g!=null&&c(o,["subjectImageConfig"],g),o}function Op(t,e){const o={},i=a(t,["safetyAttributes","categories"]);i!=null&&c(o,["categories"],i);const s=a(t,["safetyAttributes","scores"]);s!=null&&c(o,["scores"],s);const u=a(t,["contentType"]);return u!=null&&c(o,["contentType"],u),o}function qp(t,e){const o={},i=a(t,["safetyAttributes","categories"]);i!=null&&c(o,["categories"],i);const s=a(t,["safetyAttributes","scores"]);s!=null&&c(o,["scores"],s);const u=a(t,["contentType"]);return u!=null&&c(o,["contentType"],u),o}function CS(t,e){const o={},i=a(t,["category"]);if(i!=null&&c(o,["category"],i),a(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const s=a(t,["threshold"]);return s!=null&&c(o,["threshold"],s),o}function wS(t,e){const o={},i=a(t,["image"]);return i!=null&&c(o,["image"],zt(i)),o}function _S(t,e,o){const i={},s=a(t,["mode"]);e!==void 0&&s!=null&&c(e,["parameters","mode"],s);const u=a(t,["maxPredictions"]);e!==void 0&&u!=null&&c(e,["parameters","maxPredictions"],u);const f=a(t,["confidenceThreshold"]);e!==void 0&&f!=null&&c(e,["parameters","confidenceThreshold"],f);const p=a(t,["maskDilation"]);e!==void 0&&p!=null&&c(e,["parameters","maskDilation"],p);const v=a(t,["binaryColorThreshold"]);e!==void 0&&v!=null&&c(e,["parameters","binaryColorThreshold"],v);const g=a(t,["labels"]);return e!==void 0&&g!=null&&c(e,["labels"],g),i}function NS(t,e,o){const i={},s=a(e,["model"]);s!=null&&c(i,["_url","model"],Ae(t,s));const u=a(e,["source"]);u!=null&&AS(u,i);const f=a(e,["config"]);return f!=null&&_S(f,i),i}function IS(t,e){const o={},i=a(t,["predictions"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(u=>Xx(u))),c(o,["generatedMasks"],s)}return o}function AS(t,e,o){const i={},s=a(t,["prompt"]);e!==void 0&&s!=null&&c(e,["instances[0]","prompt"],s);const u=a(t,["image"]);e!==void 0&&u!=null&&c(e,["instances[0]","image"],zt(u));const f=a(t,["scribbleImage"]);return e!==void 0&&f!=null&&c(e,["instances[0]","scribble"],wS(f)),i}function kS(t,e){const o={},i=a(t,["retrievalConfig"]);i!=null&&c(o,["retrievalConfig"],i);const s=a(t,["functionCallingConfig"]);return s!=null&&c(o,["functionCallingConfig"],Px(s)),o}function RS(t,e){const o={};if(a(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=a(t,["computerUse"]);i!=null&&c(o,["computerUse"],i);const s=a(t,["fileSearch"]);s!=null&&c(o,["fileSearch"],s);const u=a(t,["codeExecution"]);if(u!=null&&c(o,["codeExecution"],u),a(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const f=a(t,["functionDeclarations"]);if(f!=null){let T=f;Array.isArray(T)&&(T=T.map(S=>S)),c(o,["functionDeclarations"],T)}const p=a(t,["googleMaps"]);p!=null&&c(o,["googleMaps"],rS(p));const v=a(t,["googleSearch"]);v!=null&&c(o,["googleSearch"],iS(v));const g=a(t,["googleSearchRetrieval"]);g!=null&&c(o,["googleSearchRetrieval"],g);const y=a(t,["urlContext"]);return y!=null&&c(o,["urlContext"],y),o}function $p(t,e){const o={},i=a(t,["retrieval"]);i!=null&&c(o,["retrieval"],i);const s=a(t,["computerUse"]);if(s!=null&&c(o,["computerUse"],s),a(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const u=a(t,["codeExecution"]);u!=null&&c(o,["codeExecution"],u);const f=a(t,["enterpriseWebSearch"]);f!=null&&c(o,["enterpriseWebSearch"],f);const p=a(t,["functionDeclarations"]);if(p!=null){let S=p;Array.isArray(S)&&(S=S.map(C=>Mx(C))),c(o,["functionDeclarations"],S)}const v=a(t,["googleMaps"]);v!=null&&c(o,["googleMaps"],v);const g=a(t,["googleSearch"]);g!=null&&c(o,["googleSearch"],g);const y=a(t,["googleSearchRetrieval"]);y!=null&&c(o,["googleSearchRetrieval"],y);const T=a(t,["urlContext"]);return T!=null&&c(o,["urlContext"],T),o}function PS(t,e){const o={},i=a(t,["baseModel"]);i!=null&&c(o,["baseModel"],i);const s=a(t,["createTime"]);s!=null&&c(o,["createTime"],s);const u=a(t,["updateTime"]);return u!=null&&c(o,["updateTime"],u),o}function MS(t,e){const o={},i=a(t,["labels","google-vertex-llm-tuning-base-model-id"]);i!=null&&c(o,["baseModel"],i);const s=a(t,["createTime"]);s!=null&&c(o,["createTime"],s);const u=a(t,["updateTime"]);return u!=null&&c(o,["updateTime"],u),o}function DS(t,e,o){const i={},s=a(t,["displayName"]);e!==void 0&&s!=null&&c(e,["displayName"],s);const u=a(t,["description"]);e!==void 0&&u!=null&&c(e,["description"],u);const f=a(t,["defaultCheckpointId"]);return e!==void 0&&f!=null&&c(e,["defaultCheckpointId"],f),i}function LS(t,e,o){const i={},s=a(t,["displayName"]);e!==void 0&&s!=null&&c(e,["displayName"],s);const u=a(t,["description"]);e!==void 0&&u!=null&&c(e,["description"],u);const f=a(t,["defaultCheckpointId"]);return e!==void 0&&f!=null&&c(e,["defaultCheckpointId"],f),i}function bS(t,e,o){const i={},s=a(e,["model"]);s!=null&&c(i,["_url","name"],Ae(t,s));const u=a(e,["config"]);return u!=null&&DS(u,i),i}function US(t,e,o){const i={},s=a(e,["model"]);s!=null&&c(i,["_url","model"],Ae(t,s));const u=a(e,["config"]);return u!=null&&LS(u,i),i}function FS(t,e,o){const i={},s=a(t,["outputGcsUri"]);e!==void 0&&s!=null&&c(e,["parameters","storageUri"],s);const u=a(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&c(e,["parameters","safetySetting"],u);const f=a(t,["personGeneration"]);e!==void 0&&f!=null&&c(e,["parameters","personGeneration"],f);const p=a(t,["includeRaiReason"]);e!==void 0&&p!=null&&c(e,["parameters","includeRaiReason"],p);const v=a(t,["outputMimeType"]);e!==void 0&&v!=null&&c(e,["parameters","outputOptions","mimeType"],v);const g=a(t,["outputCompressionQuality"]);e!==void 0&&g!=null&&c(e,["parameters","outputOptions","compressionQuality"],g);const y=a(t,["enhanceInputImage"]);e!==void 0&&y!=null&&c(e,["parameters","upscaleConfig","enhanceInputImage"],y);const T=a(t,["imagePreservationFactor"]);e!==void 0&&T!=null&&c(e,["parameters","upscaleConfig","imagePreservationFactor"],T);const S=a(t,["labels"]);e!==void 0&&S!=null&&c(e,["labels"],S);const C=a(t,["numberOfImages"]);e!==void 0&&C!=null&&c(e,["parameters","sampleCount"],C);const k=a(t,["mode"]);return e!==void 0&&k!=null&&c(e,["parameters","mode"],k),i}function GS(t,e,o){const i={},s=a(e,["model"]);s!=null&&c(i,["_url","model"],Ae(t,s));const u=a(e,["image"]);u!=null&&c(i,["instances[0]","image"],zt(u));const f=a(e,["upscaleFactor"]);f!=null&&c(i,["parameters","upscaleConfig","upscaleFactor"],f);const p=a(e,["config"]);return p!=null&&FS(p,i),i}function VS(t,e){const o={},i=a(t,["sdkHttpResponse"]);i!=null&&c(o,["sdkHttpResponse"],i);const s=a(t,["predictions"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(f=>Ji(f))),c(o,["generatedImages"],u)}return o}function HS(t,e){const o={},i=a(t,["uri"]);i!=null&&c(o,["uri"],i);const s=a(t,["encodedVideo"]);s!=null&&c(o,["videoBytes"],_n(s));const u=a(t,["encoding"]);return u!=null&&c(o,["mimeType"],u),o}function zS(t,e){const o={},i=a(t,["gcsUri"]);i!=null&&c(o,["uri"],i);const s=a(t,["bytesBase64Encoded"]);s!=null&&c(o,["videoBytes"],_n(s));const u=a(t,["mimeType"]);return u!=null&&c(o,["mimeType"],u),o}function BS(t,e){const o={},i=a(t,["image"]);i!=null&&c(o,["_self"],zt(i));const s=a(t,["maskMode"]);return s!=null&&c(o,["maskMode"],s),o}function OS(t,e){const o={},i=a(t,["image"]);i!=null&&c(o,["image"],Wi(i));const s=a(t,["referenceType"]);return s!=null&&c(o,["referenceType"],s),o}function qS(t,e){const o={},i=a(t,["image"]);i!=null&&c(o,["image"],zt(i));const s=a(t,["referenceType"]);return s!=null&&c(o,["referenceType"],s),o}function Jp(t,e){const o={},i=a(t,["uri"]);i!=null&&c(o,["uri"],i);const s=a(t,["videoBytes"]);s!=null&&c(o,["encodedVideo"],_n(s));const u=a(t,["mimeType"]);return u!=null&&c(o,["encoding"],u),o}function Wp(t,e){const o={},i=a(t,["uri"]);i!=null&&c(o,["gcsUri"],i);const s=a(t,["videoBytes"]);s!=null&&c(o,["bytesBase64Encoded"],_n(s));const u=a(t,["mimeType"]);return u!=null&&c(o,["mimeType"],u),o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function $S(t,e){const o={},i=a(t,["displayName"]);return e!==void 0&&i!=null&&c(e,["displayName"],i),o}function JS(t){const e={},o=a(t,["config"]);return o!=null&&$S(o,e),e}function WS(t,e){const o={},i=a(t,["force"]);return e!==void 0&&i!=null&&c(e,["_query","force"],i),o}function YS(t){const e={},o=a(t,["name"]);o!=null&&c(e,["_url","name"],o);const i=a(t,["config"]);return i!=null&&WS(i,e),e}function KS(t){const e={},o=a(t,["name"]);return o!=null&&c(e,["_url","name"],o),e}function jS(t,e){const o={},i=a(t,["customMetadata"]);if(e!==void 0&&i!=null){let u=i;Array.isArray(u)&&(u=u.map(f=>f)),c(e,["customMetadata"],u)}const s=a(t,["chunkingConfig"]);return e!==void 0&&s!=null&&c(e,["chunkingConfig"],s),o}function QS(t){const e={},o=a(t,["name"]);o!=null&&c(e,["name"],o);const i=a(t,["metadata"]);i!=null&&c(e,["metadata"],i);const s=a(t,["done"]);s!=null&&c(e,["done"],s);const u=a(t,["error"]);u!=null&&c(e,["error"],u);const f=a(t,["response"]);return f!=null&&c(e,["response"],ZS(f)),e}function XS(t){const e={},o=a(t,["fileSearchStoreName"]);o!=null&&c(e,["_url","file_search_store_name"],o);const i=a(t,["fileName"]);i!=null&&c(e,["fileName"],i);const s=a(t,["config"]);return s!=null&&jS(s,e),e}function ZS(t){const e={},o=a(t,["sdkHttpResponse"]);o!=null&&c(e,["sdkHttpResponse"],o);const i=a(t,["parent"]);i!=null&&c(e,["parent"],i);const s=a(t,["documentName"]);return s!=null&&c(e,["documentName"],s),e}function eT(t,e){const o={},i=a(t,["pageSize"]);e!==void 0&&i!=null&&c(e,["_query","pageSize"],i);const s=a(t,["pageToken"]);return e!==void 0&&s!=null&&c(e,["_query","pageToken"],s),o}function tT(t){const e={},o=a(t,["config"]);return o!=null&&eT(o,e),e}function nT(t){const e={},o=a(t,["sdkHttpResponse"]);o!=null&&c(e,["sdkHttpResponse"],o);const i=a(t,["nextPageToken"]);i!=null&&c(e,["nextPageToken"],i);const s=a(t,["fileSearchStores"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(f=>f)),c(e,["fileSearchStores"],u)}return e}function Yp(t,e){const o={},i=a(t,["mimeType"]);e!==void 0&&i!=null&&c(e,["mimeType"],i);const s=a(t,["displayName"]);e!==void 0&&s!=null&&c(e,["displayName"],s);const u=a(t,["customMetadata"]);if(e!==void 0&&u!=null){let p=u;Array.isArray(p)&&(p=p.map(v=>v)),c(e,["customMetadata"],p)}const f=a(t,["chunkingConfig"]);return e!==void 0&&f!=null&&c(e,["chunkingConfig"],f),o}function oT(t){const e={},o=a(t,["fileSearchStoreName"]);o!=null&&c(e,["_url","file_search_store_name"],o);const i=a(t,["config"]);return i!=null&&Yp(i,e),e}function rT(t){const e={},o=a(t,["sdkHttpResponse"]);return o!=null&&c(e,["sdkHttpResponse"],o),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const iT="Content-Type",sT="X-Server-Timeout",lT="User-Agent",aa="x-goog-api-client",aT="1.40.0",uT=`google-genai-sdk/${aT}`,cT="v1beta1",dT="v1beta";class fT{constructor(e){var o,i,s;this.clientOptions=Object.assign({},e),this.customBaseUrl=(o=e.httpOptions)===null||o===void 0?void 0:o.baseUrl,this.clientOptions.vertexai&&(this.clientOptions.project&&this.clientOptions.location?this.clientOptions.apiKey=void 0:this.clientOptions.apiKey&&(this.clientOptions.project=void 0,this.clientOptions.location=void 0));const u={};if(this.clientOptions.vertexai){if(!this.clientOptions.location&&!this.clientOptions.apiKey&&!this.customBaseUrl&&(this.clientOptions.location="global"),!(this.clientOptions.project&&this.clientOptions.location||this.clientOptions.apiKey)&&!this.customBaseUrl)throw new Error("Authentication is not set up. Please provide either a project and location, or an API key, or a custom base URL.");const p=e.project&&e.location||!!e.apiKey;this.customBaseUrl&&!p?(u.baseUrl=this.customBaseUrl,this.clientOptions.project=void 0,this.clientOptions.location=void 0):this.clientOptions.apiKey||this.clientOptions.location==="global"?u.baseUrl="https://aiplatform.googleapis.com/":this.clientOptions.project&&this.clientOptions.location&&(u.baseUrl=`https://${this.clientOptions.location}-aiplatform.googleapis.com/`),u.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:cT}else{if(!this.clientOptions.apiKey)throw new mr({message:"API key must be set when using the Gemini API.",status:403});u.apiVersion=(s=this.clientOptions.apiVersion)!==null&&s!==void 0?s:dT,u.baseUrl="https://generativelanguage.googleapis.com/"}u.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=u,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(u,e.httpOptions))}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getCustomBaseUrl(){return this.customBaseUrl}async getAuthHeaders(){const e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const i=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&i.push(e.apiVersion),i.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),o=new URL(e);return o.protocol=o.protocol=="http:"?"ws":"wss",o.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,o,i){const s=[this.getRequestUrlInternal(o)];return i&&s.push(this.getBaseResourcePath()),e!==""&&s.push(e),new URL(`${s.join("/")}`)}shouldPrependVertexProjectPath(e,o){return!(o.baseUrl&&o.baseUrlResourceScope===na.COLLECTION||this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let o=this.clientOptions.httpOptions;e.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e,o),s=this.constructUrl(e.path,o,i);if(e.queryParams)for(const[f,p]of Object.entries(e.queryParams))s.searchParams.append(f,String(p));let u={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else u.body=e.body;return u=await this.includeExtraHttpOptionsToRequestInit(u,o,s.toString(),e.abortSignal),this.unaryApiCall(s,u,e.httpMethod)}patchHttpOptions(e,o){const i=JSON.parse(JSON.stringify(e));for(const[s,u]of Object.entries(o))typeof u=="object"?i[s]=Object.assign(Object.assign({},i[s]),u):u!==void 0&&(i[s]=u);return i}async requestStream(e){let o=this.clientOptions.httpOptions;e.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e,o),s=this.constructUrl(e.path,o,i);(!s.searchParams.has("alt")||s.searchParams.get("alt")!=="sse")&&s.searchParams.set("alt","sse");let u={};return u.body=e.body,u=await this.includeExtraHttpOptionsToRequestInit(u,o,s.toString(),e.abortSignal),this.streamApiCall(s,u,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,o,i,s){if(o&&o.timeout||s){const u=new AbortController,f=u.signal;if(o.timeout&&(o==null?void 0:o.timeout)>0){const p=setTimeout(()=>u.abort(),o.timeout);p&&typeof p.unref=="function"&&p.unref()}s&&s.addEventListener("abort",()=>{u.abort()}),e.signal=f}return o&&o.extraBody!==null&&pT(e,o.extraBody),e.headers=await this.getHeadersInternal(o,i),e}async unaryApiCall(e,o,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},o),{method:i})).then(async s=>(await np(s),new oa(s))).catch(s=>{throw s instanceof Error?s:new Error(JSON.stringify(s))})}async streamApiCall(e,o,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},o),{method:i})).then(async s=>(await np(s),this.processStreamResponse(s))).catch(s=>{throw s instanceof Error?s:new Error(JSON.stringify(s))})}processStreamResponse(e){return Vt(this,arguments,function*(){var i;const s=(i=e==null?void 0:e.body)===null||i===void 0?void 0:i.getReader(),u=new TextDecoder("utf-8");if(!s)throw new Error("Response body is empty");try{let f="";const p="data:",v=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:g,value:y}=yield ve(s.read());if(g){if(f.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const T=u.decode(y,{stream:!0});try{const k=JSON.parse(T);if("error"in k){const I=JSON.parse(JSON.stringify(k.error)),R=I.status,L=I.code,G=`got status: ${R}. ${JSON.stringify(k)}`;if(L>=400&&L<600)throw new mr({message:G,status:L})}}catch(k){if(k.name==="ApiError")throw k}f+=T;let S=-1,C=0;for(;;){S=-1,C=0;for(const R of v){const L=f.indexOf(R);L!==-1&&(S===-1||L<S)&&(S=L,C=R.length)}if(S===-1)break;const k=f.substring(0,S);f=f.substring(S+C);const I=k.trim();if(I.startsWith(p)){const R=I.substring(p.length).trim();try{const L=new Response(R,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield ve(new oa(L))}catch(L){throw new Error(`exception parsing stream chunk ${R}. ${L}`)}}}}}finally{s.releaseLock()}})}async apiCall(e,o){return fetch(e,o).catch(i=>{throw new Error(`exception ${i} sending request`)})}getDefaultHeaders(){const e={},o=uT+" "+this.clientOptions.userAgentExtra;return e[lT]=o,e[aa]=o,e[iT]="application/json",e}async getHeadersInternal(e,o){const i=new Headers;if(e&&e.headers){for(const[s,u]of Object.entries(e.headers))i.append(s,u);e.timeout&&e.timeout>0&&i.append(sT,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(i,o),i}getFileName(e){var o;let i="";return typeof e=="string"&&(i=e.replace(/[/\\]+$/,""),i=(o=i.split(/[/\\]/).pop())!==null&&o!==void 0?o:""),i}async uploadFile(e,o){var i;const s={};o!=null&&(s.mimeType=o.mimeType,s.name=o.name,s.displayName=o.displayName),s.name&&!s.name.startsWith("files/")&&(s.name=`files/${s.name}`);const u=this.clientOptions.uploader,f=await u.stat(e);s.sizeBytes=String(f.size);const p=(i=o==null?void 0:o.mimeType)!==null&&i!==void 0?i:f.type;if(p===void 0||p==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");s.mimeType=p;const v={file:s},g=this.getFileName(e),y=j("upload/v1beta/files",v._url),T=await this.fetchUploadUrl(y,s.sizeBytes,s.mimeType,g,v,o==null?void 0:o.httpOptions);return u.upload(e,T,this)}async uploadFileToFileSearchStore(e,o,i){var s;const u=this.clientOptions.uploader,f=await u.stat(o),p=String(f.size),v=(s=i==null?void 0:i.mimeType)!==null&&s!==void 0?s:f.type;if(v===void 0||v==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const g=`upload/v1beta/${e}:uploadToFileSearchStore`,y=this.getFileName(o),T={};i!=null&&Yp(i,T);const S=await this.fetchUploadUrl(g,p,v,y,T,i==null?void 0:i.httpOptions);return u.uploadToFileSearchStore(o,S,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,o,i,s,u,f){var p;let v={};f?v=f:v={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${o}`,"X-Goog-Upload-Header-Content-Type":`${i}`},s?{"X-Goog-Upload-File-Name":s}:{})};const g=await this.request({path:e,body:JSON.stringify(u),httpMethod:"POST",httpOptions:v});if(!g||!(g!=null&&g.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const y=(p=g==null?void 0:g.headers)===null||p===void 0?void 0:p["x-goog-upload-url"];if(y===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return y}}async function np(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const o=t.status;let i;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?i=await t.json():i={error:{message:await t.text(),code:t.status,status:t.statusText}};const s=JSON.stringify(i);throw o>=400&&o<600?new mr({message:s,status:o}):new Error(s)}}function pT(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let o={};if(typeof t.body=="string"&&t.body.length>0)try{const u=JSON.parse(t.body);if(typeof u=="object"&&u!==null&&!Array.isArray(u))o=u;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function i(u,f){const p=Object.assign({},u);for(const v in f)if(Object.prototype.hasOwnProperty.call(f,v)){const g=f[v],y=p[v];g&&typeof g=="object"&&!Array.isArray(g)&&y&&typeof y=="object"&&!Array.isArray(y)?p[v]=i(y,g):(y&&g&&typeof y!=typeof g&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${v}". Original type: ${typeof y}, New type: ${typeof g}. Overwriting.`),p[v]=g)}return p}const s=i(o,e);t.body=JSON.stringify(s)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const hT="mcp_used/unknown";let mT=!1;function Kp(t){for(const e of t)if(gT(e)||typeof e=="object"&&"inputSchema"in e)return!0;return mT}function jp(t){var e;const o=(e=t[aa])!==null&&e!==void 0?e:"";t[aa]=(o+` ${hT}`).trimStart()}function gT(t){return t!==null&&typeof t=="object"&&t instanceof _a}function vT(t){return Vt(this,arguments,function*(o,i=100){let s,u=0;for(;u<i;){const f=yield ve(o.listTools({cursor:s}));for(const p of f.tools)yield yield ve(p),u++;if(!f.nextCursor)break;s=f.nextCursor}})}class _a{constructor(e=[],o){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=o}static create(e,o){return new _a(e,o)}async initialize(){var e,o,i,s;if(this.mcpTools.length>0)return;const u={},f=[];for(const y of this.mcpClients)try{for(var p=!0,v=(o=void 0,Ht(vT(y))),g;g=await v.next(),e=g.done,!e;p=!0){s=g.value,p=!1;const T=s;f.push(T);const S=T.name;if(u[S])throw new Error(`Duplicate function name ${S} found in MCP tools. Please ensure function names are unique.`);u[S]=y}}catch(T){o={error:T}}finally{try{!p&&!e&&(i=v.return)&&await i.call(v)}finally{if(o)throw o.error}}this.mcpTools=f,this.functionNameToMcpClient=u}async tool(){return await this.initialize(),J0(this.mcpTools,this.config)}async callTool(e){await this.initialize();const o=[];for(const i of e)if(i.name in this.functionNameToMcpClient){const s=this.functionNameToMcpClient[i.name];let u;this.config.timeout&&(u={timeout:this.config.timeout});const f=await s.callTool({name:i.name,arguments:i.args},void 0,u);o.push({functionResponse:{name:i.name,response:f.isError?{error:f}:f}})}return o}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function yT(t,e,o){const i=new G0;let s;o.data instanceof Blob?s=JSON.parse(await o.data.text()):s=JSON.parse(o.data),Object.assign(i,s),e(i)}class xT{constructor(e,o,i){this.apiClient=e,this.auth=o,this.webSocketFactory=i}async connect(e){var o,i;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const s=this.apiClient.getWebsocketBaseUrl(),u=this.apiClient.getApiVersion(),f=ET(this.apiClient.getDefaultHeaders()),p=this.apiClient.getApiKey(),v=`${s}/ws/google.ai.generativelanguage.${u}.GenerativeService.BidiGenerateMusic?key=${p}`;let g=()=>{};const y=new Promise(H=>{g=H}),T=e.callbacks,S=function(){g({})},C=this.apiClient,k={onopen:S,onmessage:H=>{yT(C,T.onmessage,H)},onerror:(o=T==null?void 0:T.onerror)!==null&&o!==void 0?o:function(H){},onclose:(i=T==null?void 0:T.onclose)!==null&&i!==void 0?i:function(H){}},I=this.webSocketFactory.create(v,TT(f),k);I.connect(),await y;const G={setup:{model:Ae(this.apiClient,e.model)}};return I.send(JSON.stringify(G)),new ST(I,this.apiClient)}}class ST{constructor(e,o){this.conn=e,this.apiClient=o}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const o=$y(e);this.conn.send(JSON.stringify({clientContent:o}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const o=qy(e);this.conn.send(JSON.stringify(o))}sendPlaybackControl(e){const o={playbackControl:e};this.conn.send(JSON.stringify(o))}play(){this.sendPlaybackControl(vo.PLAY)}pause(){this.sendPlaybackControl(vo.PAUSE)}stop(){this.sendPlaybackControl(vo.STOP)}resetContext(){this.sendPlaybackControl(vo.RESET_CONTEXT)}close(){this.conn.close()}}function TT(t){const e={};return t.forEach((o,i)=>{e[i]=o}),e}function ET(t){const e=new Headers;for(const[o,i]of Object.entries(t))e.append(o,i);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const CT="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function wT(t,e,o){const i=new F0;let s;o.data instanceof Blob?s=await o.data.text():o.data instanceof ArrayBuffer?s=new TextDecoder().decode(o.data):s=o.data;const u=JSON.parse(s);if(t.isVertexAI()){const f=Yy(u);Object.assign(i,f)}else Object.assign(i,u);e(i)}class _T{constructor(e,o,i){this.apiClient=e,this.auth=o,this.webSocketFactory=i,this.music=new xT(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var o,i,s,u,f,p;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const v=this.apiClient.getWebsocketBaseUrl(),g=this.apiClient.getApiVersion();let y;const T=this.apiClient.getHeaders();e.config&&e.config.tools&&Kp(e.config.tools)&&jp(T);const S=kT(T);if(this.apiClient.isVertexAI()){const ee=this.apiClient.getProject(),Q=this.apiClient.getLocation(),me=this.apiClient.getApiKey(),Se=!!ee&&!!Q||!!me;this.apiClient.getCustomBaseUrl()&&!Se?y=v:(y=`${v}/ws/google.cloud.aiplatform.${g}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(S,y))}else{const ee=this.apiClient.getApiKey();let Q="BidiGenerateContent",me="key";ee!=null&&ee.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),g!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),Q="BidiGenerateContentConstrained",me="access_token"),y=`${v}/ws/google.ai.generativelanguage.${g}.GenerativeService.${Q}?${me}=${ee}`}let C=()=>{};const k=new Promise(ee=>{C=ee}),I=e.callbacks,R=function(){var ee;(ee=I==null?void 0:I.onopen)===null||ee===void 0||ee.call(I),C({})},L=this.apiClient,G={onopen:R,onmessage:ee=>{wT(L,I.onmessage,ee)},onerror:(o=I==null?void 0:I.onerror)!==null&&o!==void 0?o:function(ee){},onclose:(i=I==null?void 0:I.onclose)!==null&&i!==void 0?i:function(ee){}},H=this.webSocketFactory.create(y,AT(S),G);H.connect(),await k;let z=Ae(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&z.startsWith("publishers/")){const ee=this.apiClient.getProject(),Q=this.apiClient.getLocation();ee&&Q&&(z=`projects/${ee}/locations/${Q}/`+z)}let U={};this.apiClient.isVertexAI()&&((s=e.config)===null||s===void 0?void 0:s.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Vi.AUDIO]}:e.config.responseModalities=[Vi.AUDIO]),!((u=e.config)===null||u===void 0)&&u.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const oe=(p=(f=e.config)===null||f===void 0?void 0:f.tools)!==null&&p!==void 0?p:[],re=[];for(const ee of oe)if(this.isCallableTool(ee)){const Q=ee;re.push(await Q.tool())}else re.push(ee);re.length>0&&(e.config.tools=re);const fe={model:z,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?U=Oy(this.apiClient,fe):U=By(this.apiClient,fe),delete U.config,H.send(JSON.stringify(U)),new IT(H,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const NT={turnComplete:!0};class IT{constructor(e,o){this.conn=e,this.apiClient=o}tLiveClientContent(e,o){if(o.turns!==null&&o.turns!==void 0){let i=[];try{i=Rt(o.turns),e.isVertexAI()||(i=i.map(s=>$i(s)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof o.turns}'`)}return{clientContent:{turns:i,turnComplete:o.turnComplete}}}return{clientContent:{turnComplete:o.turnComplete}}}tLiveClienttToolResponse(e,o){let i=[];if(o.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(o.functionResponses)?i=o.functionResponses:i=[o.functionResponses],i.length===0)throw new Error("functionResponses is required.");for(const u of i){if(typeof u!="object"||u===null||!("name"in u)||!("response"in u))throw new Error(`Could not parse function response, type '${typeof u}'.`);if(!e.isVertexAI()&&!("id"in u))throw new Error(CT)}return{toolResponse:{functionResponses:i}}}sendClientContent(e){e=Object.assign(Object.assign({},NT),e);const o=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(o))}sendRealtimeInput(e){let o={};this.apiClient.isVertexAI()?o={realtimeInput:Wy(e)}:o={realtimeInput:Jy(e)},this.conn.send(JSON.stringify(o))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const o=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(o))}close(){this.conn.close()}}function AT(t){const e={};return t.forEach((o,i)=>{e[i]=o}),e}function kT(t){const e=new Headers;for(const[o,i]of Object.entries(t))e.append(o,i);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const op=10;function rp(t){var e,o,i;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let s=!1;for(const f of(o=t==null?void 0:t.tools)!==null&&o!==void 0?o:[])if(So(f)){s=!0;break}if(!s)return!0;const u=(i=t==null?void 0:t.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls;return u&&(u<0||!Number.isInteger(u))||u==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",u),!0):!1}function So(t){return"callTool"in t&&typeof t.callTool=="function"}function RT(t){var e,o,i;return(i=(o=(e=t.config)===null||e===void 0?void 0:e.tools)===null||o===void 0?void 0:o.some(s=>So(s)))!==null&&i!==void 0?i:!1}function ip(t){var e;const o=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((i,s)=>{if(So(i))return;const u=i;u.functionDeclarations&&u.functionDeclarations.length>0&&o.push(s)}),o}function sp(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class PT extends on{constructor(e){super(),this.apiClient=e,this.generateContent=async o=>{var i,s,u,f,p;const v=await this.processParamsMaybeAddMcpUsage(o);if(this.maybeMoveToResponseJsonSchem(o),!RT(o)||rp(o.config))return await this.generateContentInternal(v);const g=ip(o);if(g.length>0){const I=g.map(R=>`tools[${R}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${I}.`)}let y,T;const S=Rt(v.contents),C=(u=(s=(i=v.config)===null||i===void 0?void 0:i.automaticFunctionCalling)===null||s===void 0?void 0:s.maximumRemoteCalls)!==null&&u!==void 0?u:op;let k=0;for(;k<C&&(y=await this.generateContentInternal(v),!(!y.functionCalls||y.functionCalls.length===0));){const I=y.candidates[0].content,R=[];for(const L of(p=(f=o.config)===null||f===void 0?void 0:f.tools)!==null&&p!==void 0?p:[])if(So(L)){const H=await L.callTool(y.functionCalls);R.push(...H)}k++,T={role:"user",parts:R},v.contents=Rt(v.contents),v.contents.push(I),v.contents.push(T),sp(v.config)&&(S.push(I),S.push(T))}return sp(v.config)&&(y.automaticFunctionCallingHistory=S),y},this.generateContentStream=async o=>{var i,s,u,f,p;if(this.maybeMoveToResponseJsonSchem(o),rp(o.config)){const T=await this.processParamsMaybeAddMcpUsage(o);return await this.generateContentStreamInternal(T)}const v=ip(o);if(v.length>0){const T=v.map(S=>`tools[${S}]`).join(", ");throw new Error(`Incompatible tools found at ${T}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const g=(u=(s=(i=o==null?void 0:o.config)===null||i===void 0?void 0:i.toolConfig)===null||s===void 0?void 0:s.functionCallingConfig)===null||u===void 0?void 0:u.streamFunctionCallArguments,y=(p=(f=o==null?void 0:o.config)===null||f===void 0?void 0:f.automaticFunctionCalling)===null||p===void 0?void 0:p.disable;if(g&&!y)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(o)},this.generateImages=async o=>await this.generateImagesInternal(o).then(i=>{var s;let u;const f=[];if(i!=null&&i.generatedImages)for(const v of i.generatedImages)v&&(v!=null&&v.safetyAttributes)&&((s=v==null?void 0:v.safetyAttributes)===null||s===void 0?void 0:s.contentType)==="Positive Prompt"?u=v==null?void 0:v.safetyAttributes:f.push(v);let p;return u?p={generatedImages:f,positivePromptSafetyAttributes:u,sdkHttpResponse:i.sdkHttpResponse}:p={generatedImages:f,sdkHttpResponse:i.sdkHttpResponse},p}),this.list=async o=>{var i;const f={config:Object.assign(Object.assign({},{queryBase:!0}),o==null?void 0:o.config)};if(this.apiClient.isVertexAI()&&!f.config.queryBase){if(!((i=f.config)===null||i===void 0)&&i.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");f.config.filter="labels.tune-type:*"}return new Bn(nn.PAGED_ITEM_MODELS,p=>this.listInternal(p),await this.listInternal(f),f)},this.editImage=async o=>{const i={model:o.model,prompt:o.prompt,referenceImages:[],config:o.config};return o.referenceImages&&o.referenceImages&&(i.referenceImages=o.referenceImages.map(s=>s.toReferenceImageAPI())),await this.editImageInternal(i)},this.upscaleImage=async o=>{let i={numberOfImages:1,mode:"upscale"};o.config&&(i=Object.assign(Object.assign({},i),o.config));const s={model:o.model,image:o.image,upscaleFactor:o.upscaleFactor,config:i};return await this.upscaleImageInternal(s)},this.generateVideos=async o=>{var i,s,u,f,p,v;if((o.prompt||o.image||o.video)&&o.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((i=o.video)===null||i===void 0)&&i.uri&&(!((s=o.video)===null||s===void 0)&&s.videoBytes)?o.video={uri:o.video.uri,mimeType:o.video.mimeType}:!((f=(u=o.source)===null||u===void 0?void 0:u.video)===null||f===void 0)&&f.uri&&(!((v=(p=o.source)===null||p===void 0?void 0:p.video)===null||v===void 0)&&v.videoBytes)&&(o.source.video={uri:o.source.video.uri,mimeType:o.source.video.mimeType})),await this.generateVideosInternal(o)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var o,i,s;const u=(o=e.config)===null||o===void 0?void 0:o.tools;if(!u)return e;const f=await Promise.all(u.map(async v=>So(v)?await v.tool():v)),p={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:f})};if(p.config.tools=f,e.config&&e.config.tools&&Kp(e.config.tools)){const v=(s=(i=e.config.httpOptions)===null||i===void 0?void 0:i.headers)!==null&&s!==void 0?s:{};let g=Object.assign({},v);Object.keys(g).length===0&&(g=this.apiClient.getDefaultHeaders()),jp(g),p.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:g})}return p}async initAfcToolsMap(e){var o,i,s;const u=new Map;for(const f of(i=(o=e.config)===null||o===void 0?void 0:o.tools)!==null&&i!==void 0?i:[])if(So(f)){const p=f,v=await p.tool();for(const g of(s=v.functionDeclarations)!==null&&s!==void 0?s:[]){if(!g.name)throw new Error("Function declaration name is required.");if(u.has(g.name))throw new Error(`Duplicate tool declaration name: ${g.name}`);u.set(g.name,p)}}return u}async processAfcStream(e){var o,i,s;const u=(s=(i=(o=e.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&s!==void 0?s:op;let f=!1,p=0;const v=await this.initAfcToolsMap(e);return(function(g,y,T){return Vt(this,arguments,function*(){for(var S,C,k,I,R,L;p<u;){f&&(p++,f=!1);const U=yield ve(g.processParamsMaybeAddMcpUsage(T)),oe=yield ve(g.generateContentStreamInternal(U)),re=[],fe=[];try{for(var G=!0,H=(C=void 0,Ht(oe)),z;z=yield ve(H.next()),S=z.done,!S;G=!0){I=z.value,G=!1;const ee=I;if(yield yield ve(ee),ee.candidates&&(!((R=ee.candidates[0])===null||R===void 0)&&R.content)){fe.push(ee.candidates[0].content);for(const Q of(L=ee.candidates[0].content.parts)!==null&&L!==void 0?L:[])if(p<u&&Q.functionCall){if(!Q.functionCall.name)throw new Error("Function call name was not returned by the model.");if(y.has(Q.functionCall.name)){const me=yield ve(y.get(Q.functionCall.name).callTool([Q.functionCall]));re.push(...me)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${y.keys()}, mising tool: ${Q.functionCall.name}`)}}}}catch(ee){C={error:ee}}finally{try{!G&&!S&&(k=H.return)&&(yield ve(k.call(H)))}finally{if(C)throw C.error}}if(re.length>0){f=!0;const ee=new fr;ee.candidates=[{content:{role:"user",parts:re}}],yield yield ve(ee);const Q=[];Q.push(...fe),Q.push({role:"user",parts:re});const me=Rt(T.contents).concat(Q);T.contents=me}else break}})})(this,v,e)}async generateContentInternal(e){var o,i,s,u;let f,p="",v={};if(this.apiClient.isVertexAI()){const g=Zf(this.apiClient,e);return p=j("{model}:generateContent",g._url),v=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:p,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:y.headers},S})),f.then(y=>{const T=tp(y),S=new fr;return Object.assign(S,T),S})}else{const g=Xf(this.apiClient,e);return p=j("{model}:generateContent",g._url),v=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:p,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(y=>y.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:y.headers},S})),f.then(y=>{const T=ep(y),S=new fr;return Object.assign(S,T),S})}}async generateContentStreamInternal(e){var o,i,s,u;let f,p="",v={};if(this.apiClient.isVertexAI()){const g=Zf(this.apiClient,e);return p=j("{model}:streamGenerateContent?alt=sse",g._url),v=g._query,delete g._url,delete g._query,f=this.apiClient.requestStream({path:p,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}),f.then(function(T){return Vt(this,arguments,function*(){var S,C,k,I;try{for(var R=!0,L=Ht(T),G;G=yield ve(L.next()),S=G.done,!S;R=!0){I=G.value,R=!1;const H=I,z=tp(yield ve(H.json()),e);z.sdkHttpResponse={headers:H.headers};const U=new fr;Object.assign(U,z),yield yield ve(U)}}catch(H){C={error:H}}finally{try{!R&&!S&&(k=L.return)&&(yield ve(k.call(L)))}finally{if(C)throw C.error}}})})}else{const g=Xf(this.apiClient,e);return p=j("{model}:streamGenerateContent?alt=sse",g._url),v=g._query,delete g._url,delete g._query,f=this.apiClient.requestStream({path:p,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}),f.then(function(T){return Vt(this,arguments,function*(){var S,C,k,I;try{for(var R=!0,L=Ht(T),G;G=yield ve(L.next()),S=G.done,!S;R=!0){I=G.value,R=!1;const H=I,z=ep(yield ve(H.json()),e);z.sdkHttpResponse={headers:H.headers};const U=new fr;Object.assign(U,z),yield yield ve(U)}}catch(H){C={error:H}}finally{try{!R&&!S&&(k=L.return)&&(yield ve(k.call(L)))}finally{if(C)throw C.error}}})})}}async embedContent(e){var o,i,s,u;let f,p="",v={};if(this.apiClient.isVertexAI()){const g=_x(this.apiClient,e);return p=j("{model}:predict",g._url),v=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:p,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:y.headers},S})),f.then(y=>{const T=Ix(y),S=new bf;return Object.assign(S,T),S})}else{const g=wx(this.apiClient,e);return p=j("{model}:batchEmbedContents",g._url),v=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:p,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(y=>y.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:y.headers},S})),f.then(y=>{const T=Nx(y),S=new bf;return Object.assign(S,T),S})}}async generateImagesInternal(e){var o,i,s,u;let f,p="",v={};if(this.apiClient.isVertexAI()){const g=Gx(this.apiClient,e);return p=j("{model}:predict",g._url),v=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:p,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:y.headers},S})),f.then(y=>{const T=Hx(y),S=new Uf;return Object.assign(S,T),S})}else{const g=Fx(this.apiClient,e);return p=j("{model}:predict",g._url),v=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:p,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(y=>y.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:y.headers},S})),f.then(y=>{const T=Vx(y),S=new Uf;return Object.assign(S,T),S})}}async editImageInternal(e){var o,i;let s,u="",f={};if(this.apiClient.isVertexAI()){const p=Sx(this.apiClient,e);return u=j("{model}:predict",p._url),f=p._query,delete p._url,delete p._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:v.headers},y})),s.then(v=>{const g=Tx(v),y=new _0;return Object.assign(y,g),y})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var o,i;let s,u="",f={};if(this.apiClient.isVertexAI()){const p=GS(this.apiClient,e);return u=j("{model}:predict",p._url),f=p._query,delete p._url,delete p._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:v.headers},y})),s.then(v=>{const g=VS(v),y=new N0;return Object.assign(y,g),y})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var o,i;let s,u="",f={};if(this.apiClient.isVertexAI()){const p=xS(this.apiClient,e);return u=j("{model}:predict",p._url),f=p._query,delete p._url,delete p._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),s.then(v=>{const g=SS(v),y=new I0;return Object.assign(y,g),y})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var o,i;let s,u="",f={};if(this.apiClient.isVertexAI()){const p=NS(this.apiClient,e);return u=j("{model}:predict",p._url),f=p._query,delete p._url,delete p._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),s.then(v=>{const g=IS(v),y=new A0;return Object.assign(y,g),y})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var o,i,s,u;let f,p="",v={};if(this.apiClient.isVertexAI()){const g=oS(this.apiClient,e);return p=j("{name}",g._url),v=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:p,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),f.then(y=>la(y))}else{const g=nS(this.apiClient,e);return p=j("{name}",g._url),v=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:p,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(y=>y.json()),f.then(y=>sa(y))}}async listInternal(e){var o,i,s,u;let f,p="",v={};if(this.apiClient.isVertexAI()){const g=fS(this.apiClient,e);return p=j("{models_url}",g._url),v=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:p,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:y.headers},S})),f.then(y=>{const T=hS(y),S=new Ff;return Object.assign(S,T),S})}else{const g=dS(this.apiClient,e);return p=j("{models_url}",g._url),v=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:p,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(y=>y.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:y.headers},S})),f.then(y=>{const T=pS(y),S=new Ff;return Object.assign(S,T),S})}}async update(e){var o,i,s,u;let f,p="",v={};if(this.apiClient.isVertexAI()){const g=US(this.apiClient,e);return p=j("{model}",g._url),v=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:p,queryParams:v,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),f.then(y=>la(y))}else{const g=bS(this.apiClient,e);return p=j("{name}",g._url),v=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:p,queryParams:v,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(y=>y.json()),f.then(y=>sa(y))}}async delete(e){var o,i,s,u;let f,p="",v={};if(this.apiClient.isVertexAI()){const g=gx(this.apiClient,e);return p=j("{name}",g._url),v=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:p,queryParams:v,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:y.headers},S})),f.then(y=>{const T=yx(y),S=new Gf;return Object.assign(S,T),S})}else{const g=mx(this.apiClient,e);return p=j("{name}",g._url),v=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:p,queryParams:v,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(y=>y.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:y.headers},S})),f.then(y=>{const T=vx(y),S=new Gf;return Object.assign(S,T),S})}}async countTokens(e){var o,i,s,u;let f,p="",v={};if(this.apiClient.isVertexAI()){const g=fx(this.apiClient,e);return p=j("{model}:countTokens",g._url),v=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:p,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:y.headers},S})),f.then(y=>{const T=hx(y),S=new Vf;return Object.assign(S,T),S})}else{const g=dx(this.apiClient,e);return p=j("{model}:countTokens",g._url),v=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:p,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(y=>y.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:y.headers},S})),f.then(y=>{const T=px(y),S=new Vf;return Object.assign(S,T),S})}}async computeTokens(e){var o,i;let s,u="",f={};if(this.apiClient.isVertexAI()){const p=rx(this.apiClient,e);return u=j("{model}:computeTokens",p._url),f=p._query,delete p._url,delete p._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:v.headers},y})),s.then(v=>{const g=ix(v),y=new k0;return Object.assign(y,g),y})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var o,i,s,u;let f,p="",v={};if(this.apiClient.isVertexAI()){const g=Jx(this.apiClient,e);return p=j("{model}:predictLongRunning",g._url),v=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:p,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),f.then(y=>{const T=qx(y),S=new Hi;return Object.assign(S,T),S})}else{const g=$x(this.apiClient,e);return p=j("{model}:predictLongRunning",g._url),v=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:p,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(y=>y.json()),f.then(y=>{const T=Ox(y),S=new Hi;return Object.assign(S,T),S})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class MT extends on{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const o=e.operation,i=e.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const s=o.name.split("/operations/")[0];let u;i&&"httpOptions"in i&&(u=i.httpOptions);const f=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:s,config:{httpOptions:u}});return o._fromAPIResponse({apiResponse:f,_isVertexAI:!0})}else{const s=await this.getVideosOperationInternal({operationName:o.name,config:i});return o._fromAPIResponse({apiResponse:s,_isVertexAI:!1})}}async get(e){const o=e.operation,i=e.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const s=o.name.split("/operations/")[0];let u;i&&"httpOptions"in i&&(u=i.httpOptions);const f=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:s,config:{httpOptions:u}});return o._fromAPIResponse({apiResponse:f,_isVertexAI:!0})}else{const s=await this.getVideosOperationInternal({operationName:o.name,config:i});return o._fromAPIResponse({apiResponse:s,_isVertexAI:!1})}}async getVideosOperationInternal(e){var o,i,s,u;let f,p="",v={};if(this.apiClient.isVertexAI()){const g=x0(e);return p=j("{operationName}",g._url),v=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:p,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),f}else{const g=y0(e);return p=j("{operationName}",g._url),v=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:p,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(y=>y.json()),f}}async fetchPredictVideosOperationInternal(e){var o,i;let s,u="",f={};if(this.apiClient.isVertexAI()){const p=d0(e);return u=j("{resourceName}:fetchPredictOperation",p._url),f=p._query,delete p._url,delete p._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),s}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function DT(t){const e={},o=a(t,["data"]);if(o!=null&&c(e,["data"],o),a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=a(t,["mimeType"]);return i!=null&&c(e,["mimeType"],i),e}function LT(t){const e={},o=a(t,["parts"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(u=>OT(u))),c(e,["parts"],s)}const i=a(t,["role"]);return i!=null&&c(e,["role"],i),e}function bT(t,e,o){const i={},s=a(e,["expireTime"]);o!==void 0&&s!=null&&c(o,["expireTime"],s);const u=a(e,["newSessionExpireTime"]);o!==void 0&&u!=null&&c(o,["newSessionExpireTime"],u);const f=a(e,["uses"]);o!==void 0&&f!=null&&c(o,["uses"],f);const p=a(e,["liveConnectConstraints"]);o!==void 0&&p!=null&&c(o,["bidiGenerateContentSetup"],BT(t,p));const v=a(e,["lockAdditionalFields"]);return o!==void 0&&v!=null&&c(o,["fieldMask"],v),i}function UT(t,e){const o={},i=a(e,["config"]);return i!=null&&c(o,["config"],bT(t,i,o)),o}function FT(t){const e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=a(t,["fileUri"]);o!=null&&c(e,["fileUri"],o);const i=a(t,["mimeType"]);return i!=null&&c(e,["mimeType"],i),e}function GT(t){const e={},o=a(t,["id"]);o!=null&&c(e,["id"],o);const i=a(t,["args"]);i!=null&&c(e,["args"],i);const s=a(t,["name"]);if(s!=null&&c(e,["name"],s),a(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(a(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function VT(t){const e={};if(a(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=a(t,["enableWidget"]);return o!=null&&c(e,["enableWidget"],o),e}function HT(t){const e={};if(a(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(a(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=a(t,["timeRangeFilter"]);return o!=null&&c(e,["timeRangeFilter"],o),e}function zT(t,e){const o={},i=a(t,["generationConfig"]);e!==void 0&&i!=null&&c(e,["setup","generationConfig"],i);const s=a(t,["responseModalities"]);e!==void 0&&s!=null&&c(e,["setup","generationConfig","responseModalities"],s);const u=a(t,["temperature"]);e!==void 0&&u!=null&&c(e,["setup","generationConfig","temperature"],u);const f=a(t,["topP"]);e!==void 0&&f!=null&&c(e,["setup","generationConfig","topP"],f);const p=a(t,["topK"]);e!==void 0&&p!=null&&c(e,["setup","generationConfig","topK"],p);const v=a(t,["maxOutputTokens"]);e!==void 0&&v!=null&&c(e,["setup","generationConfig","maxOutputTokens"],v);const g=a(t,["mediaResolution"]);e!==void 0&&g!=null&&c(e,["setup","generationConfig","mediaResolution"],g);const y=a(t,["seed"]);e!==void 0&&y!=null&&c(e,["setup","generationConfig","seed"],y);const T=a(t,["speechConfig"]);e!==void 0&&T!=null&&c(e,["setup","generationConfig","speechConfig"],wa(T));const S=a(t,["thinkingConfig"]);e!==void 0&&S!=null&&c(e,["setup","generationConfig","thinkingConfig"],S);const C=a(t,["enableAffectiveDialog"]);e!==void 0&&C!=null&&c(e,["setup","generationConfig","enableAffectiveDialog"],C);const k=a(t,["systemInstruction"]);e!==void 0&&k!=null&&c(e,["setup","systemInstruction"],LT(at(k)));const I=a(t,["tools"]);if(e!==void 0&&I!=null){let oe=Co(I);Array.isArray(oe)&&(oe=oe.map(re=>$T(Eo(re)))),c(e,["setup","tools"],oe)}const R=a(t,["sessionResumption"]);e!==void 0&&R!=null&&c(e,["setup","sessionResumption"],qT(R));const L=a(t,["inputAudioTranscription"]);e!==void 0&&L!=null&&c(e,["setup","inputAudioTranscription"],L);const G=a(t,["outputAudioTranscription"]);e!==void 0&&G!=null&&c(e,["setup","outputAudioTranscription"],G);const H=a(t,["realtimeInputConfig"]);e!==void 0&&H!=null&&c(e,["setup","realtimeInputConfig"],H);const z=a(t,["contextWindowCompression"]);e!==void 0&&z!=null&&c(e,["setup","contextWindowCompression"],z);const U=a(t,["proactivity"]);if(e!==void 0&&U!=null&&c(e,["setup","proactivity"],U),a(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return o}function BT(t,e){const o={},i=a(e,["model"]);i!=null&&c(o,["setup","model"],Ae(t,i));const s=a(e,["config"]);return s!=null&&c(o,["config"],zT(s,o)),o}function OT(t){const e={},o=a(t,["mediaResolution"]);o!=null&&c(e,["mediaResolution"],o);const i=a(t,["codeExecutionResult"]);i!=null&&c(e,["codeExecutionResult"],i);const s=a(t,["executableCode"]);s!=null&&c(e,["executableCode"],s);const u=a(t,["fileData"]);u!=null&&c(e,["fileData"],FT(u));const f=a(t,["functionCall"]);f!=null&&c(e,["functionCall"],GT(f));const p=a(t,["functionResponse"]);p!=null&&c(e,["functionResponse"],p);const v=a(t,["inlineData"]);v!=null&&c(e,["inlineData"],DT(v));const g=a(t,["text"]);g!=null&&c(e,["text"],g);const y=a(t,["thought"]);y!=null&&c(e,["thought"],y);const T=a(t,["thoughtSignature"]);T!=null&&c(e,["thoughtSignature"],T);const S=a(t,["videoMetadata"]);return S!=null&&c(e,["videoMetadata"],S),e}function qT(t){const e={},o=a(t,["handle"]);if(o!=null&&c(e,["handle"],o),a(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function $T(t){const e={};if(a(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=a(t,["computerUse"]);o!=null&&c(e,["computerUse"],o);const i=a(t,["fileSearch"]);i!=null&&c(e,["fileSearch"],i);const s=a(t,["codeExecution"]);if(s!=null&&c(e,["codeExecution"],s),a(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=a(t,["functionDeclarations"]);if(u!=null){let y=u;Array.isArray(y)&&(y=y.map(T=>T)),c(e,["functionDeclarations"],y)}const f=a(t,["googleMaps"]);f!=null&&c(e,["googleMaps"],VT(f));const p=a(t,["googleSearch"]);p!=null&&c(e,["googleSearch"],HT(p));const v=a(t,["googleSearchRetrieval"]);v!=null&&c(e,["googleSearchRetrieval"],v);const g=a(t,["urlContext"]);return g!=null&&c(e,["urlContext"],g),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function JT(t){const e=[];for(const o in t)if(Object.prototype.hasOwnProperty.call(t,o)){const i=t[o];if(typeof i=="object"&&i!=null&&Object.keys(i).length>0){const s=Object.keys(i).map(u=>`${o}.${u}`);e.push(...s)}else e.push(o)}return e.join(",")}function WT(t,e){let o=null;const i=t.bidiGenerateContentSetup;if(typeof i=="object"&&i!==null&&"setup"in i){const u=i.setup;typeof u=="object"&&u!==null?(t.bidiGenerateContentSetup=u,o=u):delete t.bidiGenerateContentSetup}else i!==void 0&&delete t.bidiGenerateContentSetup;const s=t.fieldMask;if(o){const u=JT(o);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)u?t.fieldMask=u:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&s!==null&&Array.isArray(s)&&s.length>0){const f=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let p=[];s.length>0&&(p=s.map(g=>f.includes(g)?`generationConfig.${g}`:g));const v=[];u&&v.push(u),p.length>0&&v.push(...p),v.length>0?t.fieldMask=v.join(","):delete t.fieldMask}else delete t.fieldMask}else s!==null&&Array.isArray(s)&&s.length>0?t.fieldMask=s.join(","):delete t.fieldMask;return t}class YT extends on{constructor(e){super(),this.apiClient=e}async create(e){var o,i;let s,u="",f={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const p=UT(this.apiClient,e);u=j("auth_tokens",p._url),f=p._query,delete p.config,delete p._url,delete p._query;const v=WT(p,e.config);return s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),s.then(g=>g)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function KT(t,e){const o={},i=a(t,["force"]);return e!==void 0&&i!=null&&c(e,["_query","force"],i),o}function jT(t){const e={},o=a(t,["name"]);o!=null&&c(e,["_url","name"],o);const i=a(t,["config"]);return i!=null&&KT(i,e),e}function QT(t){const e={},o=a(t,["name"]);return o!=null&&c(e,["_url","name"],o),e}function XT(t,e){const o={},i=a(t,["pageSize"]);e!==void 0&&i!=null&&c(e,["_query","pageSize"],i);const s=a(t,["pageToken"]);return e!==void 0&&s!=null&&c(e,["_query","pageToken"],s),o}function ZT(t){const e={},o=a(t,["parent"]);o!=null&&c(e,["_url","parent"],o);const i=a(t,["config"]);return i!=null&&XT(i,e),e}function eE(t){const e={},o=a(t,["sdkHttpResponse"]);o!=null&&c(e,["sdkHttpResponse"],o);const i=a(t,["nextPageToken"]);i!=null&&c(e,["nextPageToken"],i);const s=a(t,["documents"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(f=>f)),c(e,["documents"],u)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class tE extends on{constructor(e){super(),this.apiClient=e,this.list=async o=>new Bn(nn.PAGED_ITEM_DOCUMENTS,i=>this.listInternal({parent:o.parent,config:i.config}),await this.listInternal(o),o)}async get(e){var o,i;let s,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=QT(e);return u=j("{name}",p._url),f=p._query,delete p._url,delete p._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),s.then(v=>v)}}async delete(e){var o,i;let s="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=jT(e);s=j("{name}",f._url),u=f._query,delete f._url,delete f._query,await this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}}async listInternal(e){var o,i;let s,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=ZT(e);return u=j("{parent}/documents",p._url),f=p._query,delete p._url,delete p._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),s.then(v=>{const g=eE(v),y=new R0;return Object.assign(y,g),y})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class nE extends on{constructor(e,o=new tE(e)){super(),this.apiClient=e,this.documents=o,this.list=async(i={})=>new Bn(nn.PAGED_ITEM_FILE_SEARCH_STORES,s=>this.listInternal(s),await this.listInternal(i),i)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var o,i;let s,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=JS(e);return u=j("fileSearchStores",p._url),f=p._query,delete p._url,delete p._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),s.then(v=>v)}}async get(e){var o,i;let s,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=KS(e);return u=j("{name}",p._url),f=p._query,delete p._url,delete p._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),s.then(v=>v)}}async delete(e){var o,i;let s="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=YS(e);s=j("{name}",f._url),u=f._query,delete f._url,delete f._query,await this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}}async listInternal(e){var o,i;let s,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=tT(e);return u=j("fileSearchStores",p._url),f=p._query,delete p._url,delete p._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),s.then(v=>{const g=nT(v),y=new P0;return Object.assign(y,g),y})}}async uploadToFileSearchStoreInternal(e){var o,i;let s,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=oT(e);return u=j("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",p._url),f=p._query,delete p._url,delete p._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),s.then(v=>{const g=rT(v),y=new M0;return Object.assign(y,g),y})}}async importFile(e){var o,i;let s,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=XS(e);return u=j("{file_search_store_name}:importFile",p._url),f=p._query,delete p._url,delete p._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json()),s.then(v=>{const g=QS(v),y=new xa;return Object.assign(y,g),y})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Qp=function(){const{crypto:t}=globalThis;if(t!=null&&t.randomUUID)return Qp=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),o=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,i=>(+i^o()&15>>+i/4).toString(16))};const oE=()=>Qp();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ua(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const ca=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Pt extends Error{}class ft extends Pt{constructor(e,o,i,s){super(`${ft.makeMessage(e,o,i)}`),this.status=e,this.headers=s,this.error=o}static makeMessage(e,o,i){const s=o!=null&&o.message?typeof o.message=="string"?o.message:JSON.stringify(o.message):o?JSON.stringify(o):i;return e&&s?`${e} ${s}`:e?`${e} status code (no body)`:s||"(no status code or body)"}static generate(e,o,i,s){if(!e||!s)return new Yi({message:i,cause:ca(o)});const u=o;return e===400?new Zp(e,u,i,s):e===401?new eh(e,u,i,s):e===403?new th(e,u,i,s):e===404?new nh(e,u,i,s):e===409?new oh(e,u,i,s):e===422?new rh(e,u,i,s):e===429?new ih(e,u,i,s):e>=500?new sh(e,u,i,s):new ft(e,u,i,s)}}class da extends ft{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class Yi extends ft{constructor({message:e,cause:o}){super(void 0,void 0,e||"Connection error.",void 0),o&&(this.cause=o)}}class Xp extends Yi{constructor({message:e}={}){super({message:e??"Request timed out."})}}class Zp extends ft{}class eh extends ft{}class th extends ft{}class nh extends ft{}class oh extends ft{}class rh extends ft{}class ih extends ft{}class sh extends ft{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const rE=/^[a-z][a-z0-9+.-]*:/i,iE=t=>rE.test(t);let fa=t=>(fa=Array.isArray,fa(t));const sE=fa;let lE=sE;const lp=lE;function aE(t){if(!t)return!0;for(const e in t)return!1;return!0}function uE(t,e){return Object.prototype.hasOwnProperty.call(t,e)}const cE=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new Pt(`${t} must be an integer`);if(e<0)throw new Pt(`${t} must be a positive integer`);return e},dE=t=>{try{return JSON.parse(t)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const fE=t=>new Promise(e=>setTimeout(e,t));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const go="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function pE(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const hE=()=>{var t,e,o,i,s;const u=pE();if(u==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":go,"X-Stainless-OS":up(Deno.build.os),"X-Stainless-Arch":ap(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(t=Deno.version)===null||t===void 0?void 0:t.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":go,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(u==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":go,"X-Stainless-OS":up((o=globalThis.process.platform)!==null&&o!==void 0?o:"unknown"),"X-Stainless-Arch":ap((i=globalThis.process.arch)!==null&&i!==void 0?i:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(s=globalThis.process.version)!==null&&s!==void 0?s:"unknown"};const f=mE();return f?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":go,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${f.browser}`,"X-Stainless-Runtime-Version":f.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":go,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function mE(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:o}of t){const i=o.exec(navigator.userAgent);if(i){const s=i[1]||0,u=i[2]||0,f=i[3]||0;return{browser:e,version:`${s}.${u}.${f}`}}}return null}const ap=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",up=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let _i;const gE=()=>_i??(_i=hE());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function vE(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function lh(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function yE(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return lh({start(){},async pull(o){const{done:i,value:s}=await e.next();i?o.close():o.enqueue(s)},async cancel(){var o;await((o=e.return)===null||o===void 0?void 0:o.call(e))}})}function ah(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const o=await e.read();return o!=null&&o.done&&e.releaseLock(),o}catch(o){throw e.releaseLock(),o}},async return(){const o=e.cancel();return e.releaseLock(),await o,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function xE(t){var e,o;if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await((o=(e=t[Symbol.asyncIterator]()).return)===null||o===void 0?void 0:o.call(e));return}const i=t.getReader(),s=i.cancel();i.releaseLock(),await s}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const SE=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const uh=()=>{var t;if(typeof File>"u"){const{process:e}=globalThis,o=typeof((t=e==null?void 0:e.versions)===null||t===void 0?void 0:t.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(o?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function Kl(t,e,o){return uh(),new File(t,e??"unknown_file",o)}function TE(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const EE=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ch=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",CE=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&ch(t),wE=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function _E(t,e,o){if(uh(),t=await t,CE(t))return t instanceof File?t:Kl([await t.arrayBuffer()],t.name);if(wE(t)){const s=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),Kl(await pa(s),e,o)}const i=await pa(t);if(e||(e=TE(t)),!(o!=null&&o.type)){const s=i.find(u=>typeof u=="object"&&"type"in u&&u.type);typeof s=="string"&&(o=Object.assign(Object.assign({},o),{type:s}))}return Kl(i,e,o)}async function pa(t){var e,o,i,s,u;let f=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)f.push(t);else if(ch(t))f.push(t instanceof Blob?t:await t.arrayBuffer());else if(EE(t))try{for(var p=!0,v=Ht(t),g;g=await v.next(),e=g.done,!e;p=!0){s=g.value,p=!1;const y=s;f.push(...await pa(y))}}catch(y){o={error:y}}finally{try{!p&&!e&&(i=v.return)&&await i.call(v)}finally{if(o)throw o.error}}else{const y=(u=t==null?void 0:t.constructor)===null||u===void 0?void 0:u.name;throw new Error(`Unexpected data type: ${typeof t}${y?`; constructor: ${y}`:""}${NE(t)}`)}return f}function NE(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(o=>`"${o}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class dh{constructor(e){this._client=e}}dh._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function fh(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const cp=Object.freeze(Object.create(null)),IE=(t=fh)=>(function(o,...i){if(o.length===1)return o[0];let s=!1;const u=[],f=o.reduce((y,T,S)=>{var C,k,I;/[?#]/.test(T)&&(s=!0);const R=i[S];let L=(s?encodeURIComponent:t)(""+R);return S!==i.length&&(R==null||typeof R=="object"&&R.toString===((I=Object.getPrototypeOf((k=Object.getPrototypeOf((C=R.hasOwnProperty)!==null&&C!==void 0?C:cp))!==null&&k!==void 0?k:cp))===null||I===void 0?void 0:I.toString))&&(L=R+"",u.push({start:y.length+T.length,length:L.length,error:`Value of type ${Object.prototype.toString.call(R).slice(8,-1)} is not a valid path parameter`})),y+T+(S===i.length?"":L)},""),p=f.split(/[?#]/,1)[0],v=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let g;for(;(g=v.exec(p))!==null;)u.push({start:g.index,length:g[0].length,error:`Value "${g[0]}" can't be safely passed as a path parameter`});if(u.sort((y,T)=>y.start-T.start),u.length>0){let y=0;const T=u.reduce((S,C)=>{const k=" ".repeat(C.start-y),I="^".repeat(C.length);return y=C.start+C.length,S+k+I},"");throw new Pt(`Path parameters result in path with invalid segments:
${u.map(S=>S.error).join(`
`)}
${f}
${T}`)}return f}),Ni=IE(fh);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ph extends dh{create(e,o){var i;const{api_version:s=this._client.apiVersion}=e,u=Bi(e,["api_version"]);if("model"in u&&"agent_config"in u)throw new Pt("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in u&&"generation_config"in u)throw new Pt("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(Ni`/${s}/interactions`,Object.assign(Object.assign({body:u},o),{stream:(i=e.stream)!==null&&i!==void 0?i:!1}))}delete(e,o={},i){const{api_version:s=this._client.apiVersion}=o??{};return this._client.delete(Ni`/${s}/interactions/${e}`,i)}cancel(e,o={},i){const{api_version:s=this._client.apiVersion}=o??{};return this._client.post(Ni`/${s}/interactions/${e}/cancel`,i)}get(e,o={},i){var s;const u=o??{},{api_version:f=this._client.apiVersion}=u,p=Bi(u,["api_version"]);return this._client.get(Ni`/${f}/interactions/${e}`,Object.assign(Object.assign({query:p},i),{stream:(s=o==null?void 0:o.stream)!==null&&s!==void 0?s:!1}))}}ph._key=Object.freeze(["interactions"]);class hh extends ph{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function AE(t){let e=0;for(const s of t)e+=s.length;const o=new Uint8Array(e);let i=0;for(const s of t)o.set(s,i),i+=s.length;return o}let Ii;function Na(t){let e;return(Ii??(e=new globalThis.TextEncoder,Ii=e.encode.bind(e)))(t)}let Ai;function dp(t){let e;return(Ai??(e=new globalThis.TextDecoder,Ai=e.decode.bind(e)))(t)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ki{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const o=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?Na(e):e;this.buffer=AE([this.buffer,o]);const i=[];let s;for(;(s=kE(this.buffer,this.carriageReturnIndex))!=null;){if(s.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=s.index;continue}if(this.carriageReturnIndex!=null&&(s.index!==this.carriageReturnIndex+1||s.carriage)){i.push(dp(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const u=this.carriageReturnIndex!==null?s.preceding-1:s.preceding,f=dp(this.buffer.subarray(0,u));i.push(f),this.buffer=this.buffer.subarray(s.index),this.carriageReturnIndex=null}return i}flush(){return this.buffer.length?this.decode(`
`):[]}}Ki.NEWLINE_CHARS=new Set([`
`,"\r"]);Ki.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function kE(t,e){for(let s=e??0;s<t.length;s++){if(t[s]===10)return{preceding:s,index:s+1,carriage:!1};if(t[s]===13)return{preceding:s,index:s+1,carriage:!0}}return null}function RE(t){for(let i=0;i<t.length-1;i++){if(t[i]===10&&t[i+1]===10||t[i]===13&&t[i+1]===13)return i+2;if(t[i]===13&&t[i+1]===10&&i+3<t.length&&t[i+2]===13&&t[i+3]===10)return i+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Oi={off:0,error:200,warn:300,info:400,debug:500},fp=(t,e,o)=>{if(t){if(uE(Oi,t))return t;dt(o).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(Oi))}`)}};function hr(){}function ki(t,e,o){return!e||Oi[t]>Oi[o]?hr:e[t].bind(e)}const PE={error:hr,warn:hr,info:hr,debug:hr};let pp=new WeakMap;function dt(t){var e;const o=t.logger,i=(e=t.logLevel)!==null&&e!==void 0?e:"off";if(!o)return PE;const s=pp.get(o);if(s&&s[0]===i)return s[1];const u={error:ki("error",o,i),warn:ki("warn",o,i),info:ki("info",o,i),debug:ki("debug",o,i)};return pp.set(o,[i,u]),u}const Vn=t=>(t.options&&(t.options=Object.assign({},t.options),delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,o])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":o]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class yo{constructor(e,o,i){this.iterator=e,this.controller=o,this.client=i}static fromSSEResponse(e,o,i){let s=!1;const u=i?dt(i):console;function f(){return Vt(this,arguments,function*(){var v,g,y,T;if(s)throw new Pt("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");s=!0;let S=!1;try{try{for(var C=!0,k=Ht(ME(e,o)),I;I=yield ve(k.next()),v=I.done,!v;C=!0){T=I.value,C=!1;const R=T;if(!S)if(R.data.startsWith("[DONE]")){S=!0;continue}else try{yield yield ve(JSON.parse(R.data))}catch(L){throw u.error("Could not parse message into JSON:",R.data),u.error("From chunk:",R.raw),L}}}catch(R){g={error:R}}finally{try{!C&&!v&&(y=k.return)&&(yield ve(y.call(k)))}finally{if(g)throw g.error}}S=!0}catch(R){if(ua(R))return yield ve(void 0);throw R}finally{S||o.abort()}})}return new yo(f,o,i)}static fromReadableStream(e,o,i){let s=!1;function u(){return Vt(this,arguments,function*(){var v,g,y,T;const S=new Ki,C=ah(e);try{for(var k=!0,I=Ht(C),R;R=yield ve(I.next()),v=R.done,!v;k=!0){T=R.value,k=!1;const L=T;for(const G of S.decode(L))yield yield ve(G)}}catch(L){g={error:L}}finally{try{!k&&!v&&(y=I.return)&&(yield ve(y.call(I)))}finally{if(g)throw g.error}}for(const L of S.flush())yield yield ve(L)})}function f(){return Vt(this,arguments,function*(){var v,g,y,T;if(s)throw new Pt("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");s=!0;let S=!1;try{try{for(var C=!0,k=Ht(u()),I;I=yield ve(k.next()),v=I.done,!v;C=!0){T=I.value,C=!1;const R=T;S||R&&(yield yield ve(JSON.parse(R)))}}catch(R){g={error:R}}finally{try{!C&&!v&&(y=k.return)&&(yield ve(y.call(k)))}finally{if(g)throw g.error}}S=!0}catch(R){if(ua(R))return yield ve(void 0);throw R}finally{S||o.abort()}})}return new yo(f,o,i)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],o=[],i=this.iterator(),s=u=>({next:()=>{if(u.length===0){const f=i.next();e.push(f),o.push(f)}return u.shift()}});return[new yo(()=>s(e),this.controller,this.client),new yo(()=>s(o),this.controller,this.client)]}toReadableStream(){const e=this;let o;return lh({async start(){o=e[Symbol.asyncIterator]()},async pull(i){try{const{value:s,done:u}=await o.next();if(u)return i.close();const f=Na(JSON.stringify(s)+`
`);i.enqueue(f)}catch(s){i.error(s)}},async cancel(){var i;await((i=o.return)===null||i===void 0?void 0:i.call(o))}})}}function ME(t,e){return Vt(this,arguments,function*(){var i,s,u,f;if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Pt("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Pt("Attempted to iterate over a response with no body");const p=new LE,v=new Ki,g=ah(t.body);try{for(var y=!0,T=Ht(DE(g)),S;S=yield ve(T.next()),i=S.done,!i;y=!0){f=S.value,y=!1;const C=f;for(const k of v.decode(C)){const I=p.decode(k);I&&(yield yield ve(I))}}}catch(C){s={error:C}}finally{try{!y&&!i&&(u=T.return)&&(yield ve(u.call(T)))}finally{if(s)throw s.error}}for(const C of v.flush()){const k=p.decode(C);k&&(yield yield ve(k))}})}function DE(t){return Vt(this,arguments,function*(){var o,i,s,u;let f=new Uint8Array;try{for(var p=!0,v=Ht(t),g;g=yield ve(v.next()),o=g.done,!o;p=!0){u=g.value,p=!1;const y=u;if(y==null)continue;const T=y instanceof ArrayBuffer?new Uint8Array(y):typeof y=="string"?Na(y):y;let S=new Uint8Array(f.length+T.length);S.set(f),S.set(T,f.length),f=S;let C;for(;(C=RE(f))!==-1;)yield yield ve(f.slice(0,C)),f=f.slice(C)}}catch(y){i={error:y}}finally{try{!p&&!o&&(s=v.return)&&(yield ve(s.call(v)))}finally{if(i)throw i.error}}f.length>0&&(yield yield ve(f))})}class LE{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const u={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],u}if(this.chunks.push(e),e.startsWith(":"))return null;let[o,i,s]=bE(e,":");return s.startsWith(" ")&&(s=s.substring(1)),o==="event"?this.event=s:o==="data"&&this.data.push(s),null}}function bE(t,e){const o=t.indexOf(e);return o!==-1?[t.substring(0,o),e,t.substring(o+e.length)]:[t,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function UE(t,e){const{response:o,requestLogID:i,retryOfRequestLogID:s,startTime:u}=e,f=await(async()=>{var p;if(e.options.stream)return dt(t).debug("response",o.status,o.url,o.headers,o.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(o,e.controller,t):yo.fromSSEResponse(o,e.controller,t);if(o.status===204)return null;if(e.options.__binaryResponse)return o;const v=o.headers.get("content-type"),g=(p=v==null?void 0:v.split(";")[0])===null||p===void 0?void 0:p.trim();return(g==null?void 0:g.includes("application/json"))||(g==null?void 0:g.endsWith("+json"))?o.headers.get("content-length")==="0"?void 0:await o.json():await o.text()})();return dt(t).debug(`[${i}] response parsed`,Vn({retryOfRequestLogID:s,url:o.url,status:o.status,body:f,durationMs:Date.now()-u})),f}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ia extends Promise{constructor(e,o,i=UE){super(s=>{s(null)}),this.responsePromise=o,this.parseResponse=i,this.client=e}_thenUnwrap(e){return new Ia(this.client,this.responsePromise,async(o,i)=>e(await this.parseResponse(o,i),i))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,o]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:o}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,o){return this.parse().then(e,o)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const mh=Symbol("brand.privateNullableHeaders");function*FE(t){if(!t)return;if(mh in t){const{values:i,nulls:s}=t;yield*i.entries();for(const u of s)yield[u,null];return}let e=!1,o;t instanceof Headers?o=t.entries():lp(t)?o=t:(e=!0,o=Object.entries(t??{}));for(let i of o){const s=i[0];if(typeof s!="string")throw new TypeError("expected header name to be a string");const u=lp(i[1])?i[1]:[i[1]];let f=!1;for(const p of u)p!==void 0&&(e&&!f&&(f=!0,yield[s,null]),yield[s,p])}}const pr=t=>{const e=new Headers,o=new Set;for(const i of t){const s=new Set;for(const[u,f]of FE(i)){const p=u.toLowerCase();s.has(p)||(e.delete(u),s.add(p)),f===null?(e.delete(u),o.add(p)):(e.append(u,f),o.delete(p))}}return{[mh]:!0,values:e,nulls:o}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const jl=t=>{var e,o,i,s,u,f;if(typeof globalThis.process<"u")return(i=(o=(e=i0)===null||e===void 0?void 0:e[t])===null||o===void 0?void 0:o.trim())!==null&&i!==void 0?i:void 0;if(typeof globalThis.Deno<"u")return(f=(u=(s=globalThis.Deno.env)===null||s===void 0?void 0:s.get)===null||u===void 0?void 0:u.call(s,t))===null||f===void 0?void 0:f.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var gh;class ji{constructor(e){var o,i,s,u,f,p,v,{baseURL:g=jl("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:y=(o=jl("GEMINI_API_KEY"))!==null&&o!==void 0?o:null,apiVersion:T="v1beta"}=e,S=Bi(e,["baseURL","apiKey","apiVersion"]);const C=Object.assign(Object.assign({apiKey:y,apiVersion:T},S),{baseURL:g||"https://generativelanguage.googleapis.com"});this.baseURL=C.baseURL,this.timeout=(i=C.timeout)!==null&&i!==void 0?i:ji.DEFAULT_TIMEOUT,this.logger=(s=C.logger)!==null&&s!==void 0?s:console;const k="warn";this.logLevel=k,this.logLevel=(f=(u=fp(C.logLevel,"ClientOptions.logLevel",this))!==null&&u!==void 0?u:fp(jl("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&f!==void 0?f:k,this.fetchOptions=C.fetchOptions,this.maxRetries=(p=C.maxRetries)!==null&&p!==void 0?p:2,this.fetch=(v=C.fetch)!==null&&v!==void 0?v:vE(),this.encoder=SE,this._options=C,this.apiKey=y,this.apiVersion=T,this.clientAdapter=C.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:o}){if(!(e.has("authorization")||e.has("x-goog-api-key"))&&!(this.apiKey&&e.get("x-goog-api-key"))&&!o.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const o=pr([e.headers]);if(!(o.values.has("authorization")||o.values.has("x-goog-api-key"))){if(this.apiKey)return pr([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return pr([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(e){return Object.entries(e).filter(([o,i])=>typeof i<"u").map(([o,i])=>{if(typeof i=="string"||typeof i=="number"||typeof i=="boolean")return`${encodeURIComponent(o)}=${encodeURIComponent(i)}`;if(i===null)return`${encodeURIComponent(o)}=`;throw new Pt(`Cannot stringify type ${typeof i}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${go}`}defaultIdempotencyKey(){return`stainless-node-retry-${oE()}`}makeStatusError(e,o,i,s){return ft.generate(e,o,i,s)}buildURL(e,o,i){const s=!this.baseURLOverridden()&&i||this.baseURL,u=iE(e)?new URL(e):new URL(s+(s.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),f=this.defaultQuery();return aE(f)||(o=Object.assign(Object.assign({},f),o)),typeof o=="object"&&o&&!Array.isArray(o)&&(u.search=this.stringifyQuery(o)),u.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const o=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${o}`}}async prepareRequest(e,{url:o,options:i}){}get(e,o){return this.methodRequest("get",e,o)}post(e,o){return this.methodRequest("post",e,o)}patch(e,o){return this.methodRequest("patch",e,o)}put(e,o){return this.methodRequest("put",e,o)}delete(e,o){return this.methodRequest("delete",e,o)}methodRequest(e,o,i){return this.request(Promise.resolve(i).then(s=>Object.assign({method:e,path:o},s)))}request(e,o=null){return new Ia(this,this.makeRequest(e,o,void 0))}async makeRequest(e,o,i){var s,u,f;const p=await e,v=(s=p.maxRetries)!==null&&s!==void 0?s:this.maxRetries;o==null&&(o=v),await this.prepareOptions(p);const{req:g,url:y,timeout:T}=await this.buildRequest(p,{retryCount:v-o});await this.prepareRequest(g,{url:y,options:p});const S="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),C=i===void 0?"":`, retryOf: ${i}`,k=Date.now();if(dt(this).debug(`[${S}] sending request`,Vn({retryOfRequestLogID:i,method:p.method,url:y,options:p,headers:g.headers})),!((u=p.signal)===null||u===void 0)&&u.aborted)throw new da;const I=new AbortController,R=await this.fetchWithTimeout(y,g,T,I).catch(ca),L=Date.now();if(R instanceof globalThis.Error){const H=`retrying, ${o} attempts remaining`;if(!((f=p.signal)===null||f===void 0)&&f.aborted)throw new da;const z=ua(R)||/timed? ?out/i.test(String(R)+("cause"in R?String(R.cause):""));if(o)return dt(this).info(`[${S}] connection ${z?"timed out":"failed"} - ${H}`),dt(this).debug(`[${S}] connection ${z?"timed out":"failed"} (${H})`,Vn({retryOfRequestLogID:i,url:y,durationMs:L-k,message:R.message})),this.retryRequest(p,o,i??S);throw dt(this).info(`[${S}] connection ${z?"timed out":"failed"} - error; no more retries left`),dt(this).debug(`[${S}] connection ${z?"timed out":"failed"} (error; no more retries left)`,Vn({retryOfRequestLogID:i,url:y,durationMs:L-k,message:R.message})),z?new Xp:new Yi({cause:R})}const G=`[${S}${C}] ${g.method} ${y} ${R.ok?"succeeded":"failed"} with status ${R.status} in ${L-k}ms`;if(!R.ok){const H=await this.shouldRetry(R);if(o&&H){const ee=`retrying, ${o} attempts remaining`;return await xE(R.body),dt(this).info(`${G} - ${ee}`),dt(this).debug(`[${S}] response error (${ee})`,Vn({retryOfRequestLogID:i,url:R.url,status:R.status,headers:R.headers,durationMs:L-k})),this.retryRequest(p,o,i??S,R.headers)}const z=H?"error; no more retries left":"error; not retryable";dt(this).info(`${G} - ${z}`);const U=await R.text().catch(ee=>ca(ee).message),oe=dE(U),re=oe?void 0:U;throw dt(this).debug(`[${S}] response error (${z})`,Vn({retryOfRequestLogID:i,url:R.url,status:R.status,headers:R.headers,message:re,durationMs:Date.now()-k})),this.makeStatusError(R.status,oe,re,R.headers)}return dt(this).info(G),dt(this).debug(`[${S}] response start`,Vn({retryOfRequestLogID:i,url:R.url,status:R.status,headers:R.headers,durationMs:L-k})),{response:R,options:p,controller:I,requestLogID:S,retryOfRequestLogID:i,startTime:k}}async fetchWithTimeout(e,o,i,s){const u=o||{},{signal:f,method:p}=u,v=Bi(u,["signal","method"]),g=s.abort.bind(s);f&&f.addEventListener("abort",g,{once:!0});const y=setTimeout(g,i),T=globalThis.ReadableStream&&v.body instanceof globalThis.ReadableStream||typeof v.body=="object"&&v.body!==null&&Symbol.asyncIterator in v.body,S=Object.assign(Object.assign(Object.assign({signal:s.signal},T?{duplex:"half"}:{}),{method:"GET"}),v);p&&(S.method=p.toUpperCase());try{return await this.fetch.call(void 0,e,S)}finally{clearTimeout(y)}}async shouldRetry(e){const o=e.headers.get("x-should-retry");return o==="true"?!0:o==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,o,i,s){var u;let f;const p=s==null?void 0:s.get("retry-after-ms");if(p){const g=parseFloat(p);Number.isNaN(g)||(f=g)}const v=s==null?void 0:s.get("retry-after");if(v&&!f){const g=parseFloat(v);Number.isNaN(g)?f=Date.parse(v)-Date.now():f=g*1e3}if(!(f&&0<=f&&f<60*1e3)){const g=(u=e.maxRetries)!==null&&u!==void 0?u:this.maxRetries;f=this.calculateDefaultRetryTimeoutMillis(o,g)}return await fE(f),this.makeRequest(e,o-1,i)}calculateDefaultRetryTimeoutMillis(e,o){const u=o-e,f=Math.min(.5*Math.pow(2,u),8),p=1-Math.random()*.25;return f*p*1e3}async buildRequest(e,{retryCount:o=0}={}){var i,s,u;const f=Object.assign({},e),{method:p,path:v,query:g,defaultBaseURL:y}=f,T=this.buildURL(v,g,y);"timeout"in f&&cE("timeout",f.timeout),f.timeout=(i=f.timeout)!==null&&i!==void 0?i:this.timeout;const{bodyHeaders:S,body:C}=this.buildBody({options:f}),k=await this.buildHeaders({options:e,method:p,bodyHeaders:S,retryCount:o});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:p,headers:k},f.signal&&{signal:f.signal}),globalThis.ReadableStream&&C instanceof globalThis.ReadableStream&&{duplex:"half"}),C&&{body:C}),(s=this.fetchOptions)!==null&&s!==void 0?s:{}),(u=f.fetchOptions)!==null&&u!==void 0?u:{}),url:T,timeout:f.timeout}}async buildHeaders({options:e,method:o,bodyHeaders:i,retryCount:s}){let u={};this.idempotencyHeader&&o!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),u[this.idempotencyHeader]=e.idempotencyKey);const f=await this.authHeaders(e);let p=pr([u,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(s)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),gE()),this._options.defaultHeaders,i,e.headers,f]);return this.validateHeaders(p),p.values}buildBody({options:{body:e,headers:o}}){if(!e)return{bodyHeaders:void 0,body:void 0};const i=pr([o]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&i.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:yE(e)}:this.encoder({body:e,headers:i})}}ji.DEFAULT_TIMEOUT=6e4;class Ze extends ji{constructor(){super(...arguments),this.interactions=new hh(this)}}gh=Ze;Ze.GeminiNextGenAPIClient=gh;Ze.GeminiNextGenAPIClientError=Pt;Ze.APIError=ft;Ze.APIConnectionError=Yi;Ze.APIConnectionTimeoutError=Xp;Ze.APIUserAbortError=da;Ze.NotFoundError=nh;Ze.ConflictError=oh;Ze.RateLimitError=ih;Ze.BadRequestError=Zp;Ze.AuthenticationError=eh;Ze.InternalServerError=sh;Ze.PermissionDeniedError=th;Ze.UnprocessableEntityError=rh;Ze.toFile=_E;Ze.Interactions=hh;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function GE(t,e){const o={},i=a(t,["name"]);return i!=null&&c(o,["_url","name"],i),o}function VE(t,e){const o={},i=a(t,["name"]);return i!=null&&c(o,["_url","name"],i),o}function HE(t,e){const o={},i=a(t,["sdkHttpResponse"]);return i!=null&&c(o,["sdkHttpResponse"],i),o}function zE(t,e){const o={},i=a(t,["sdkHttpResponse"]);return i!=null&&c(o,["sdkHttpResponse"],i),o}function BE(t,e,o){const i={};if(a(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const s=a(t,["tunedModelDisplayName"]);if(e!==void 0&&s!=null&&c(e,["displayName"],s),a(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const u=a(t,["epochCount"]);e!==void 0&&u!=null&&c(e,["tuningTask","hyperparameters","epochCount"],u);const f=a(t,["learningRateMultiplier"]);if(f!=null&&c(i,["tuningTask","hyperparameters","learningRateMultiplier"],f),a(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(a(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(a(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");if(a(t,["tuningMode"])!==void 0)throw new Error("tuningMode parameter is not supported in Gemini API.");if(a(t,["customBaseModel"])!==void 0)throw new Error("customBaseModel parameter is not supported in Gemini API.");const p=a(t,["batchSize"]);e!==void 0&&p!=null&&c(e,["tuningTask","hyperparameters","batchSize"],p);const v=a(t,["learningRate"]);if(e!==void 0&&v!=null&&c(e,["tuningTask","hyperparameters","learningRate"],v),a(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(a(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");if(a(t,["baseTeacherModel"])!==void 0)throw new Error("baseTeacherModel parameter is not supported in Gemini API.");if(a(t,["tunedTeacherModelSource"])!==void 0)throw new Error("tunedTeacherModelSource parameter is not supported in Gemini API.");if(a(t,["sftLossWeightMultiplier"])!==void 0)throw new Error("sftLossWeightMultiplier parameter is not supported in Gemini API.");if(a(t,["outputUri"])!==void 0)throw new Error("outputUri parameter is not supported in Gemini API.");return i}function OE(t,e,o){const i={};let s=a(o,["config","method"]);if(s===void 0&&(s="SUPERVISED_FINE_TUNING"),s==="SUPERVISED_FINE_TUNING"){const U=a(t,["validationDataset"]);e!==void 0&&U!=null&&c(e,["supervisedTuningSpec"],Ql(U))}else if(s==="PREFERENCE_TUNING"){const U=a(t,["validationDataset"]);e!==void 0&&U!=null&&c(e,["preferenceOptimizationSpec"],Ql(U))}else if(s==="DISTILLATION"){const U=a(t,["validationDataset"]);e!==void 0&&U!=null&&c(e,["distillationSpec"],Ql(U))}const u=a(t,["tunedModelDisplayName"]);e!==void 0&&u!=null&&c(e,["tunedModelDisplayName"],u);const f=a(t,["description"]);e!==void 0&&f!=null&&c(e,["description"],f);let p=a(o,["config","method"]);if(p===void 0&&(p="SUPERVISED_FINE_TUNING"),p==="SUPERVISED_FINE_TUNING"){const U=a(t,["epochCount"]);e!==void 0&&U!=null&&c(e,["supervisedTuningSpec","hyperParameters","epochCount"],U)}else if(p==="PREFERENCE_TUNING"){const U=a(t,["epochCount"]);e!==void 0&&U!=null&&c(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],U)}else if(p==="DISTILLATION"){const U=a(t,["epochCount"]);e!==void 0&&U!=null&&c(e,["distillationSpec","hyperParameters","epochCount"],U)}let v=a(o,["config","method"]);if(v===void 0&&(v="SUPERVISED_FINE_TUNING"),v==="SUPERVISED_FINE_TUNING"){const U=a(t,["learningRateMultiplier"]);e!==void 0&&U!=null&&c(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],U)}else if(v==="PREFERENCE_TUNING"){const U=a(t,["learningRateMultiplier"]);e!==void 0&&U!=null&&c(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],U)}else if(v==="DISTILLATION"){const U=a(t,["learningRateMultiplier"]);e!==void 0&&U!=null&&c(e,["distillationSpec","hyperParameters","learningRateMultiplier"],U)}let g=a(o,["config","method"]);if(g===void 0&&(g="SUPERVISED_FINE_TUNING"),g==="SUPERVISED_FINE_TUNING"){const U=a(t,["exportLastCheckpointOnly"]);e!==void 0&&U!=null&&c(e,["supervisedTuningSpec","exportLastCheckpointOnly"],U)}else if(g==="PREFERENCE_TUNING"){const U=a(t,["exportLastCheckpointOnly"]);e!==void 0&&U!=null&&c(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],U)}else if(g==="DISTILLATION"){const U=a(t,["exportLastCheckpointOnly"]);e!==void 0&&U!=null&&c(e,["distillationSpec","exportLastCheckpointOnly"],U)}let y=a(o,["config","method"]);if(y===void 0&&(y="SUPERVISED_FINE_TUNING"),y==="SUPERVISED_FINE_TUNING"){const U=a(t,["adapterSize"]);e!==void 0&&U!=null&&c(e,["supervisedTuningSpec","hyperParameters","adapterSize"],U)}else if(y==="PREFERENCE_TUNING"){const U=a(t,["adapterSize"]);e!==void 0&&U!=null&&c(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],U)}else if(y==="DISTILLATION"){const U=a(t,["adapterSize"]);e!==void 0&&U!=null&&c(e,["distillationSpec","hyperParameters","adapterSize"],U)}let T=a(o,["config","method"]);if(T===void 0&&(T="SUPERVISED_FINE_TUNING"),T==="SUPERVISED_FINE_TUNING"){const U=a(t,["tuningMode"]);e!==void 0&&U!=null&&c(e,["supervisedTuningSpec","tuningMode"],U)}const S=a(t,["customBaseModel"]);e!==void 0&&S!=null&&c(e,["customBaseModel"],S);let C=a(o,["config","method"]);if(C===void 0&&(C="SUPERVISED_FINE_TUNING"),C==="SUPERVISED_FINE_TUNING"){const U=a(t,["batchSize"]);e!==void 0&&U!=null&&c(e,["supervisedTuningSpec","hyperParameters","batchSize"],U)}let k=a(o,["config","method"]);if(k===void 0&&(k="SUPERVISED_FINE_TUNING"),k==="SUPERVISED_FINE_TUNING"){const U=a(t,["learningRate"]);e!==void 0&&U!=null&&c(e,["supervisedTuningSpec","hyperParameters","learningRate"],U)}const I=a(t,["labels"]);e!==void 0&&I!=null&&c(e,["labels"],I);const R=a(t,["beta"]);e!==void 0&&R!=null&&c(e,["preferenceOptimizationSpec","hyperParameters","beta"],R);const L=a(t,["baseTeacherModel"]);e!==void 0&&L!=null&&c(e,["distillationSpec","baseTeacherModel"],L);const G=a(t,["tunedTeacherModelSource"]);e!==void 0&&G!=null&&c(e,["distillationSpec","tunedTeacherModelSource"],G);const H=a(t,["sftLossWeightMultiplier"]);e!==void 0&&H!=null&&c(e,["distillationSpec","hyperParameters","sftLossWeightMultiplier"],H);const z=a(t,["outputUri"]);return e!==void 0&&z!=null&&c(e,["outputUri"],z),i}function qE(t,e){const o={},i=a(t,["baseModel"]);i!=null&&c(o,["baseModel"],i);const s=a(t,["preTunedModel"]);s!=null&&c(o,["preTunedModel"],s);const u=a(t,["trainingDataset"]);u!=null&&tC(u);const f=a(t,["config"]);return f!=null&&BE(f,o),o}function $E(t,e){const o={},i=a(t,["baseModel"]);i!=null&&c(o,["baseModel"],i);const s=a(t,["preTunedModel"]);s!=null&&c(o,["preTunedModel"],s);const u=a(t,["trainingDataset"]);u!=null&&nC(u,o,e);const f=a(t,["config"]);return f!=null&&OE(f,o,e),o}function JE(t,e){const o={},i=a(t,["name"]);return i!=null&&c(o,["_url","name"],i),o}function WE(t,e){const o={},i=a(t,["name"]);return i!=null&&c(o,["_url","name"],i),o}function YE(t,e,o){const i={},s=a(t,["pageSize"]);e!==void 0&&s!=null&&c(e,["_query","pageSize"],s);const u=a(t,["pageToken"]);e!==void 0&&u!=null&&c(e,["_query","pageToken"],u);const f=a(t,["filter"]);return e!==void 0&&f!=null&&c(e,["_query","filter"],f),i}function KE(t,e,o){const i={},s=a(t,["pageSize"]);e!==void 0&&s!=null&&c(e,["_query","pageSize"],s);const u=a(t,["pageToken"]);e!==void 0&&u!=null&&c(e,["_query","pageToken"],u);const f=a(t,["filter"]);return e!==void 0&&f!=null&&c(e,["_query","filter"],f),i}function jE(t,e){const o={},i=a(t,["config"]);return i!=null&&YE(i,o),o}function QE(t,e){const o={},i=a(t,["config"]);return i!=null&&KE(i,o),o}function XE(t,e){const o={},i=a(t,["sdkHttpResponse"]);i!=null&&c(o,["sdkHttpResponse"],i);const s=a(t,["nextPageToken"]);s!=null&&c(o,["nextPageToken"],s);const u=a(t,["tunedModels"]);if(u!=null){let f=u;Array.isArray(f)&&(f=f.map(p=>vh(p))),c(o,["tuningJobs"],f)}return o}function ZE(t,e){const o={},i=a(t,["sdkHttpResponse"]);i!=null&&c(o,["sdkHttpResponse"],i);const s=a(t,["nextPageToken"]);s!=null&&c(o,["nextPageToken"],s);const u=a(t,["tuningJobs"]);if(u!=null){let f=u;Array.isArray(f)&&(f=f.map(p=>ha(p))),c(o,["tuningJobs"],f)}return o}function eC(t,e){const o={},i=a(t,["name"]);i!=null&&c(o,["model"],i);const s=a(t,["name"]);return s!=null&&c(o,["endpoint"],s),o}function tC(t,e){const o={};if(a(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(a(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const i=a(t,["examples"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(u=>u)),c(o,["examples","examples"],s)}return o}function nC(t,e,o){const i={};let s=a(o,["config","method"]);if(s===void 0&&(s="SUPERVISED_FINE_TUNING"),s==="SUPERVISED_FINE_TUNING"){const f=a(t,["gcsUri"]);e!==void 0&&f!=null&&c(e,["supervisedTuningSpec","trainingDatasetUri"],f)}else if(s==="PREFERENCE_TUNING"){const f=a(t,["gcsUri"]);e!==void 0&&f!=null&&c(e,["preferenceOptimizationSpec","trainingDatasetUri"],f)}else if(s==="DISTILLATION"){const f=a(t,["gcsUri"]);e!==void 0&&f!=null&&c(e,["distillationSpec","promptDatasetUri"],f)}let u=a(o,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const f=a(t,["vertexDatasetResource"]);e!==void 0&&f!=null&&c(e,["supervisedTuningSpec","trainingDatasetUri"],f)}else if(u==="PREFERENCE_TUNING"){const f=a(t,["vertexDatasetResource"]);e!==void 0&&f!=null&&c(e,["preferenceOptimizationSpec","trainingDatasetUri"],f)}else if(u==="DISTILLATION"){const f=a(t,["vertexDatasetResource"]);e!==void 0&&f!=null&&c(e,["distillationSpec","promptDatasetUri"],f)}if(a(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return i}function vh(t,e){const o={},i=a(t,["sdkHttpResponse"]);i!=null&&c(o,["sdkHttpResponse"],i);const s=a(t,["name"]);s!=null&&c(o,["name"],s);const u=a(t,["state"]);u!=null&&c(o,["state"],Dp(u));const f=a(t,["createTime"]);f!=null&&c(o,["createTime"],f);const p=a(t,["tuningTask","startTime"]);p!=null&&c(o,["startTime"],p);const v=a(t,["tuningTask","completeTime"]);v!=null&&c(o,["endTime"],v);const g=a(t,["updateTime"]);g!=null&&c(o,["updateTime"],g);const y=a(t,["description"]);y!=null&&c(o,["description"],y);const T=a(t,["baseModel"]);T!=null&&c(o,["baseModel"],T);const S=a(t,["_self"]);return S!=null&&c(o,["tunedModel"],eC(S)),o}function ha(t,e){const o={},i=a(t,["sdkHttpResponse"]);i!=null&&c(o,["sdkHttpResponse"],i);const s=a(t,["name"]);s!=null&&c(o,["name"],s);const u=a(t,["state"]);u!=null&&c(o,["state"],Dp(u));const f=a(t,["createTime"]);f!=null&&c(o,["createTime"],f);const p=a(t,["startTime"]);p!=null&&c(o,["startTime"],p);const v=a(t,["endTime"]);v!=null&&c(o,["endTime"],v);const g=a(t,["updateTime"]);g!=null&&c(o,["updateTime"],g);const y=a(t,["error"]);y!=null&&c(o,["error"],y);const T=a(t,["description"]);T!=null&&c(o,["description"],T);const S=a(t,["baseModel"]);S!=null&&c(o,["baseModel"],S);const C=a(t,["tunedModel"]);C!=null&&c(o,["tunedModel"],C);const k=a(t,["preTunedModel"]);k!=null&&c(o,["preTunedModel"],k);const I=a(t,["supervisedTuningSpec"]);I!=null&&c(o,["supervisedTuningSpec"],I);const R=a(t,["preferenceOptimizationSpec"]);R!=null&&c(o,["preferenceOptimizationSpec"],R);const L=a(t,["distillationSpec"]);L!=null&&c(o,["distillationSpec"],L);const G=a(t,["tuningDataStats"]);G!=null&&c(o,["tuningDataStats"],G);const H=a(t,["encryptionSpec"]);H!=null&&c(o,["encryptionSpec"],H);const z=a(t,["partnerModelTuningSpec"]);z!=null&&c(o,["partnerModelTuningSpec"],z);const U=a(t,["customBaseModel"]);U!=null&&c(o,["customBaseModel"],U);const oe=a(t,["experiment"]);oe!=null&&c(o,["experiment"],oe);const re=a(t,["labels"]);re!=null&&c(o,["labels"],re);const fe=a(t,["outputUri"]);fe!=null&&c(o,["outputUri"],fe);const ee=a(t,["pipelineJob"]);ee!=null&&c(o,["pipelineJob"],ee);const Q=a(t,["serviceAccount"]);Q!=null&&c(o,["serviceAccount"],Q);const me=a(t,["tunedModelDisplayName"]);me!=null&&c(o,["tunedModelDisplayName"],me);const Se=a(t,["veoTuningSpec"]);return Se!=null&&c(o,["veoTuningSpec"],Se),o}function oC(t,e){const o={},i=a(t,["sdkHttpResponse"]);i!=null&&c(o,["sdkHttpResponse"],i);const s=a(t,["name"]);s!=null&&c(o,["name"],s);const u=a(t,["metadata"]);u!=null&&c(o,["metadata"],u);const f=a(t,["done"]);f!=null&&c(o,["done"],f);const p=a(t,["error"]);return p!=null&&c(o,["error"],p),o}function Ql(t,e){const o={},i=a(t,["gcsUri"]);i!=null&&c(o,["validationDatasetUri"],i);const s=a(t,["vertexDatasetResource"]);return s!=null&&c(o,["validationDatasetUri"],s),o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class rC extends on{constructor(e){super(),this.apiClient=e,this.list=async(o={})=>new Bn(nn.PAGED_ITEM_TUNING_JOBS,i=>this.listInternal(i),await this.listInternal(o),o),this.get=async o=>await this.getInternal(o),this.tune=async o=>{var i;if(this.apiClient.isVertexAI())if(o.baseModel.startsWith("projects/")){const s={tunedModelName:o.baseModel};!((i=o.config)===null||i===void 0)&&i.preTunedModelCheckpointId&&(s.checkpointId=o.config.preTunedModelCheckpointId);const u=Object.assign(Object.assign({},o),{preTunedModel:s});return u.baseModel=void 0,await this.tuneInternal(u)}else{const s=Object.assign({},o);return await this.tuneInternal(s)}else{const s=Object.assign({},o),u=await this.tuneMldevInternal(s);let f="";return u.metadata!==void 0&&u.metadata.tunedModel!==void 0?f=u.metadata.tunedModel:u.name!==void 0&&u.name.includes("/operations/")&&(f=u.name.split("/operations/")[0]),{name:f,state:ta.JOB_STATE_QUEUED}}}}async getInternal(e){var o,i,s,u;let f,p="",v={};if(this.apiClient.isVertexAI()){const g=WE(e);return p=j("{name}",g._url),v=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:p,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:y.headers},S})),f.then(y=>ha(y))}else{const g=JE(e);return p=j("{name}",g._url),v=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:p,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(y=>y.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:y.headers},S})),f.then(y=>vh(y))}}async listInternal(e){var o,i,s,u;let f,p="",v={};if(this.apiClient.isVertexAI()){const g=QE(e);return p=j("tuningJobs",g._url),v=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:p,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:y.headers},S})),f.then(y=>{const T=ZE(y),S=new Hf;return Object.assign(S,T),S})}else{const g=jE(e);return p=j("tunedModels",g._url),v=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:p,queryParams:v,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(y=>y.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:y.headers},S})),f.then(y=>{const T=XE(y),S=new Hf;return Object.assign(S,T),S})}}async cancel(e){var o,i,s,u;let f,p="",v={};if(this.apiClient.isVertexAI()){const g=VE(e);return p=j("{name}:cancel",g._url),v=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:p,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:y.headers},S})),f.then(y=>{const T=zE(y),S=new zf;return Object.assign(S,T),S})}else{const g=GE(e);return p=j("{name}:cancel",g._url),v=g._query,delete g._url,delete g._query,f=this.apiClient.request({path:p,queryParams:v,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(y=>y.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:y.headers},S})),f.then(y=>{const T=HE(y),S=new zf;return Object.assign(S,T),S})}}async tuneInternal(e){var o,i;let s,u="",f={};if(this.apiClient.isVertexAI()){const p=$E(e,e);return u=j("tuningJobs",p._url),f=p._query,delete p._url,delete p._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:v.headers},y})),s.then(v=>ha(v))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var o,i;let s,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=qE(e);return u=j("tunedModels",p._url),f=p._query,delete p._url,delete p._query,s=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(v=>v.json().then(g=>{const y=g;return y.sdkHttpResponse={headers:v.headers},y})),s.then(v=>oC(v))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class iC{async download(e,o){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const sC=1024*1024*8,lC=3,aC=1e3,uC=2,qi="x-goog-upload-status";async function cC(t,e,o){var i;const s=await yh(t,e,o),u=await(s==null?void 0:s.json());if(((i=s==null?void 0:s.headers)===null||i===void 0?void 0:i[qi])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return u.file}async function dC(t,e,o){var i;const s=await yh(t,e,o),u=await(s==null?void 0:s.json());if(((i=s==null?void 0:s.headers)===null||i===void 0?void 0:i[qi])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const f=Ip(u),p=new Sa;return Object.assign(p,f),p}async function yh(t,e,o){var i,s;let u=0,f=0,p=new oa(new Response),v="upload";for(u=t.size;f<u;){const g=Math.min(sC,u-f),y=t.slice(f,f+g);f+g>=u&&(v+=", finalize");let T=0,S=aC;for(;T<lC&&(p=await o.request({path:"",body:y,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":v,"X-Goog-Upload-Offset":String(f),"Content-Length":String(g)}}}),!(!((i=p==null?void 0:p.headers)===null||i===void 0)&&i[qi]));)T++,await pC(S),S=S*uC;if(f+=g,((s=p==null?void 0:p.headers)===null||s===void 0?void 0:s[qi])!=="active")break;if(u<=f)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return p}async function fC(t){return{size:t.size,type:t.type}}function pC(t){return new Promise(e=>setTimeout(e,t))}class hC{async upload(e,o,i){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await cC(e,o,i)}async uploadToFileSearchStore(e,o,i){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await dC(e,o,i)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await fC(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class mC{create(e,o,i){return new gC(e,o,i)}}class gC{constructor(e,o,i){this.url=e,this.headers=o,this.callbacks=i}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const hp="x-goog-api-key";class vC{constructor(e){this.apiKey=e}async addAuthHeaders(e,o){if(e.get(hp)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(hp,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const yC="gl-node/";class xC{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const e=this.httpOptions;e!=null&&e.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const o=new Ze({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e==null?void 0:e.timeout});return this._interactions=o.interactions,this._interactions}constructor(e){var o;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(o=e.vertexai)!==null&&o!==void 0?o:!1,this.apiKey=e.apiKey;const i=u0(e.httpOptions,e.vertexai,void 0,void 0);i&&(e.httpOptions?e.httpOptions.baseUrl=i:e.httpOptions={baseUrl:i}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const s=new vC(this.apiKey);this.apiClient=new fT({auth:s,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:yC+"web",uploader:new hC,downloader:new iC}),this.models=new PT(this.apiClient),this.live=new _T(this.apiClient,s,new mC),this.batches=new Vv(this.apiClient),this.chats=new Sy(this.models,this.apiClient),this.caches=new vy(this.apiClient),this.files=new My(this.apiClient),this.operations=new MT(this.apiClient),this.authTokens=new YT(this.apiClient),this.tunings=new rC(this.apiClient),this.fileSearchStores=new nE(this.apiClient)}}const SC=typeof process<"u"?"AIzaSyCWPvFNuWvy22jeyT_xUorh2zl1z2i8R8I":"",Qi=new xC({apiKey:SC}),TC=async(t,e,o)=>{try{const i=`
      You are an expert elite performance coach specializing in ${t}.
      The user wants to achieve: "${e}".
      ${o?`User's target duration: ${o}.`:"User has not specified a duration, set a default of 30 days."}
      
      Create a highly detailed, actionable plan. 
      DO NOT be vague. DO NOT say "Exercise". Say "3 sets of 10 Pushups".
      DO NOT say "Study". Say "Read Chapter 1 of 'You Don't Know JS' and write summary".
      
      The plan must have two parts:
      1. Setup Tasks: Detailed one-time actions to prepare.
      2. Routine Schedule: A repeating cycle of days (e.g. a 7-day weekly split for fitness, or a 1-day cycle for daily habits).
      
      For Fitness goals: Use a split (e.g. Push/Pull/Legs or Upper/Lower) if appropriate. Specify exercises, sets, and reps.
      For Learning goals: Specify the exact topic or resource to cover for that day in the cycle.
      
      Output JSON format:
      - title: Short, motivating title.
      - description: Motivational summary.
      - setup_tasks: Array of detailed strings (3-5 items).
      - schedule_cycle: Array of objects, where each object represents a day in the repeating cycle.
         - day_title: Theme of the day (e.g. "Leg Day", "React Hooks", "Rest Day").
         - tasks: Array of specific actionable strings for that day.
      - duration_days: Integer (Total duration of the goal).
    `,u=(await Qi.models.generateContent({model:"gemini-3-flash-preview",contents:i,config:{responseMimeType:"application/json",responseSchema:{type:be.OBJECT,properties:{title:{type:be.STRING},description:{type:be.STRING},setup_tasks:{type:be.ARRAY,items:{type:be.STRING}},schedule_cycle:{type:be.ARRAY,items:{type:be.OBJECT,properties:{day_title:{type:be.STRING},tasks:{type:be.ARRAY,items:{type:be.STRING}}},required:["day_title","tasks"]}},duration_days:{type:be.INTEGER}},required:["title","description","setup_tasks","schedule_cycle","duration_days"]}}})).text;return u?JSON.parse(u):null}catch(i){return console.error("Gemini API Error:",i),null}},EC=async t=>{try{const o=(await Qi.models.generateContent({model:"gemini-3-flash-preview",contents:`List 4 popular, specific, short goal ideas for the life domain: ${t}. Return only a JSON array of strings. Examples: "Run a 5K", "Read 12 Books", "Save $1000".`,config:{responseMimeType:"application/json",responseSchema:{type:be.ARRAY,items:{type:be.STRING}}}})).text;return o?JSON.parse(o):[]}catch(e){return console.error("Gemini Suggestion Error",e),["Run 5k","Read 1 book","Drink more water"]}},CC=async(t,e,o)=>{try{const i=`
      You are a motivational coach for the domain: ${e}.
      The user is working on: "${t}" and is ${o}% done.
      Give them one short, punchy, specific tip or motivational quote (max 20 words) to keep them going right now.
      Do not start with "Here is a tip". Just say the tip.
    `;return(await Qi.models.generateContent({model:"gemini-3-flash-preview",contents:i})).text||"Keep pushing, you're doing great!"}catch(i){return console.error(i),"Consistency is key. Keep showing up!"}},wC=async(t,e,o,i,s)=>{try{const u=i.map(g=>g.title).join("; "),f=`
      You are a helpful, encouraging coach for a ${e} goal: "${t}".
      It is Day ${o}.
      Current tasks: ${u}
      
      User says: "${s}"
      
      1. If the user asks for advice, tips, or clarification, provide a short, helpful answer.
      2. If the user asks to CHANGE, SWAP, or MODIFY the routine (e.g. "I'm injured", "I don't have gym access", "Make it harder"), you MUST provide new specific tasks in the 'suggested_tasks' array.
      
      Output JSON:
      {
        "message": "Your conversational response here.",
        "suggested_tasks": ["New Task 1", "New Task 2"] // Optional. Only include if plan should change.
      }
    `,v=(await Qi.models.generateContent({model:"gemini-3-flash-preview",contents:f,config:{responseMimeType:"application/json",responseSchema:{type:be.OBJECT,properties:{message:{type:be.STRING},suggested_tasks:{type:be.ARRAY,items:{type:be.STRING}}},required:["message"]}}})).text;return v?JSON.parse(v):{message:"I'm having trouble connecting to the coaching server."}}catch(u){return console.error(u),{message:"Sorry, I couldn't process that request right now."}}};function _C({domain:t,onGoalCreated:e,onBack:o}){const[i,s]=Z.useState(""),[u,f]=Z.useState(""),[p,v]=Z.useState([]),[g,y]=Z.useState(!1),[T,S]=Z.useState(!1),[C,k]=Z.useState(null);Z.useEffect(()=>{(async()=>{y(!0);const G=await EC(t);v(G),y(!1)})()},[t]);const I=async()=>{if(!i.trim())return;S(!0);const L=await TC(t,i,u);L&&k(L),S(!1)},R=()=>{if(!C)return;const L=[];let G=0;C.setup_tasks&&C.setup_tasks.forEach(fe=>{L.push({id:`t-${G++}`,title:`Setup: ${fe}`,completed:!1})});const H=Math.min(C.duration_days||30,60),z=Math.max(1,Math.floor(H*.1)),U=C.schedule_cycle||[],oe=U.length;if(oe>0)for(let fe=1;fe<=H;fe++){const ee=(fe-1)%oe,Q=U[ee];Q&&Q.tasks&&Q.tasks.forEach(me=>{L.push({id:`t-${G++}`,title:oe>1?`Day ${fe} (${Q.day_title}): ${me}`:`Day ${fe}: ${me}`,completed:!1})})}const re={id:Date.now().toString(),userId:"temp",title:C.title,domain:t,progress:0,streak:0,completed:!1,startDate:new Date().toISOString(),tasks:L,totalSkipsAllowed:z,skippedDates:[]};e(re)};return m.jsxs("div",{className:"min-h-full bg-slate-50 pb-20",children:[m.jsx(zn,{title:"Set Your Goal",subtitle:`AI Coach for ${t}`,onBack:o}),m.jsx("div",{className:"p-6 space-y-6 fade-in",children:C?m.jsxs("div",{className:"space-y-6 fade-in",children:[m.jsxs("div",{className:"bg-white p-6 rounded-3xl shadow-sm border border-slate-100 space-y-4",children:[m.jsx("div",{className:"flex justify-between items-start",children:m.jsxs("div",{children:[m.jsx("h2",{className:"text-2xl font-bold text-slate-800 tracking-tight",children:C.title}),m.jsx("span",{className:"inline-block mt-2 px-3 py-1 bg-teal-50 text-teal-700 text-xs rounded-full font-bold uppercase tracking-wide border border-teal-100",children:t})]})}),m.jsxs("p",{className:"text-slate-600 leading-relaxed bg-slate-50 p-4 rounded-xl italic border border-slate-100",children:['"',C.description,'"']}),m.jsxs("div",{className:"bg-blue-50 border border-blue-100 p-3 rounded-xl flex items-center gap-2 text-sm text-blue-800",children:[m.jsx(Ad,{size:18}),m.jsxs("span",{children:[m.jsxs("strong",{children:[C.duration_days||30," Days"]})," duration. You get ",m.jsxs("strong",{children:[Math.max(1,Math.floor((C.duration_days||30)*.1))," Skips"]})," (10%)."]})]}),m.jsxs("div",{children:[m.jsxs("div",{className:"flex items-center gap-2 mb-2 text-slate-800 font-bold",children:[m.jsx(Fg,{size:16,className:"text-teal-500"}),m.jsx("h3",{children:"Initial Setup"})]}),C.setup_tasks&&C.setup_tasks.length>0?m.jsx("ul",{className:"space-y-2 mb-3",children:C.setup_tasks.map((L,G)=>m.jsxs("li",{className:"flex items-start gap-3 text-sm bg-slate-50 p-3 rounded-xl border border-slate-100",children:[m.jsx("span",{className:"bg-teal-100 text-teal-600 rounded-full w-5 h-5 flex items-center justify-center text-[10px] font-bold shrink-0 mt-0.5",children:G+1}),m.jsx("span",{className:"text-slate-700",children:L})]},G))}):m.jsx("p",{className:"text-sm text-slate-400 italic mb-3",children:"No setup tasks needed."})]}),m.jsxs("div",{children:[m.jsxs("div",{className:"flex items-center gap-2 mb-2 text-slate-800 font-bold",children:[m.jsx(Yg,{size:16,className:"text-purple-500"}),m.jsx("h3",{children:C.schedule_cycle&&C.schedule_cycle.length>1?"Schedule Cycle":"Daily Routine"})]}),m.jsx("div",{className:"space-y-3",children:C.schedule_cycle&&C.schedule_cycle.map((L,G)=>m.jsxs("div",{className:"bg-purple-50 p-4 rounded-xl border border-purple-100",children:[m.jsx("div",{className:"flex items-center justify-between mb-2",children:m.jsx("span",{className:"font-bold text-purple-800 text-sm",children:C.schedule_cycle.length>1?`Day ${G+1}: ${L.day_title}`:"Every Day"})}),m.jsx("ul",{className:"space-y-1.5 pl-2",children:L.tasks.map((H,z)=>m.jsxs("li",{className:"text-sm text-slate-700 flex items-start gap-2",children:[m.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-purple-300 mt-1.5 shrink-0"}),m.jsx("span",{children:H})]},z))})]},G))})]})]}),m.jsxs("button",{onClick:R,className:"w-full py-4 bg-teal-600 text-white rounded-2xl font-bold shadow-lg shadow-teal-600/20 hover:bg-teal-700 active:scale-95 transition-all flex items-center justify-center gap-2 text-lg",children:["Commit to Routine ",m.jsx(To,{size:20})]})]}):m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"What is your main goal?"}),m.jsx("div",{className:"relative",children:m.jsx("input",{type:"text",value:i,onChange:L=>s(L.target.value),placeholder:"e.g., Build muscle, Learn Spanish...",className:"w-full p-4 rounded-2xl border border-slate-200 focus:border-teal-500 focus:ring-4 focus:ring-teal-500/10 outline-none transition-all shadow-sm"})})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Duration (e.g. 14 days, 1 month)"}),m.jsxs("div",{className:"relative",children:[m.jsx("input",{type:"text",value:u,onChange:L=>f(L.target.value),placeholder:"e.g., 30 days...",className:"w-full p-4 pl-12 rounded-2xl border border-slate-200 focus:border-teal-500 focus:ring-4 focus:ring-teal-500/10 outline-none transition-all shadow-sm"}),m.jsx(Ad,{size:20,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400"})]})]}),m.jsxs("button",{onClick:I,disabled:T||!i,className:"w-full py-4 bg-teal-600 text-white rounded-2xl font-bold disabled:opacity-50 flex items-center justify-center gap-2 hover:bg-teal-700 transition-colors shadow-lg shadow-teal-600/20 mt-4",children:[T?m.jsx(Wg,{className:"animate-spin",size:20}):m.jsx(Xg,{size:20}),T?"Designing Detailed Plan...":"Create Action Plan"]})]}),m.jsxs("div",{children:[m.jsxs("p",{className:"text-xs font-semibold text-slate-400 uppercase tracking-wider mb-3 flex items-center gap-1",children:[m.jsx(Ui,{size:12})," Popular in ",t]}),m.jsx("div",{className:"flex flex-wrap gap-2",children:g?m.jsx("div",{className:"text-sm text-slate-400 italic",children:"Loading ideas..."}):p.map((L,G)=>m.jsx("button",{onClick:()=>s(L),className:"px-4 py-2 bg-white border border-slate-200 rounded-full text-sm text-slate-600 hover:border-teal-400 hover:text-teal-600 hover:bg-teal-50 transition-all shadow-sm",children:L},G))})]})]})})]})}const NC=t=>{switch(t){case"Fitness":return"text-emerald-600 bg-emerald-100";case"Career":return"text-blue-600 bg-blue-100";case"Learning":return"text-amber-600 bg-amber-100";case"Mental Health":return"text-rose-600 bg-rose-100";default:return"text-teal-600 bg-teal-100"}},IC=({user:t,stories:e,onOpenStory:o,onAddStory:i})=>m.jsxs("div",{className:"flex gap-4 overflow-x-auto no-scrollbar px-6 py-4 pb-2",children:[m.jsxs("button",{onClick:i,className:"flex flex-col items-center gap-1 shrink-0 group",children:[m.jsxs("div",{className:"relative",children:[m.jsx("img",{src:t.avatar,alt:"My Story",className:"w-16 h-16 rounded-full border-2 border-slate-200 group-hover:border-teal-200 shadow-md object-cover transition-all"}),m.jsx("div",{className:"absolute bottom-0 right-0 bg-teal-500 text-white p-0.5 rounded-full border-2 border-white group-hover:scale-110 transition-transform",children:m.jsx(va,{size:14,strokeWidth:3})})]}),m.jsx("span",{className:"text-xs font-medium text-slate-600",children:"My Story"})]}),e.map(s=>m.jsxs("button",{onClick:()=>o(s),className:"flex flex-col items-center gap-1 shrink-0 cursor-pointer group",children:[m.jsx("div",{className:`p-[3px] rounded-full transition-all ${s.hasUnseen?"bg-gradient-to-tr from-teal-400 to-blue-500":"bg-slate-200"}`,children:m.jsx("div",{className:"bg-white p-[2px] rounded-full",children:m.jsx("img",{src:s.userAvatar,alt:s.userName,className:"w-[3.6rem] h-[3.6rem] rounded-full object-cover group-hover:scale-105 transition-transform"})})}),m.jsx("span",{className:"text-xs font-medium text-slate-600 max-w-[4rem] truncate",children:s.userName})]},s.id))]}),AC=({goals:t,onViewGoal:e,onToggleTask:o})=>{const i=t.map(s=>{if(!s.tasks)return null;const u=s.tasks.find(I=>I.title.startsWith("Setup:")&&!I.completed);if(u)return{goal:s,task:u,isSetup:!0};const f=new Date(s.startDate);f.setHours(0,0,0,0);const p=new Date;if(p.setHours(0,0,0,0),p<f||(s.skippedDates||[]).some(I=>{const R=new Date(I);return R.setHours(0,0,0,0),R.getTime()===p.getTime()}))return null;const g=1e3*60*60*24,y=Math.floor((p.getTime()-f.getTime())/g)+1,T=(s.skippedDates||[]).filter(I=>{const R=new Date(I);return R.setHours(0,0,0,0),R.getTime()<p.getTime()}).length,C=`Day ${y-T}`,k=s.tasks.find(I=>!I.completed&&(I.title.startsWith(`${C}:`)||I.title.startsWith(`${C} `)));return k?{goal:s,task:k,isSetup:!1}:null}).filter(s=>s!==null);return i.length===0?null:m.jsx("div",{className:"px-6 py-2 mb-2",children:m.jsxs("div",{className:"bg-white rounded-3xl p-5 shadow-sm border border-slate-100",children:[m.jsxs("div",{className:"flex items-center gap-2 mb-4 text-slate-800",children:[m.jsx("div",{className:"p-1.5 bg-teal-50 rounded-lg text-teal-600",children:m.jsx(Xl,{size:16,fill:"currentColor"})}),m.jsx("h3",{className:"font-bold text-sm uppercase tracking-wide",children:"Today's Focus"})]}),m.jsx("div",{className:"space-y-3",children:i.map(({goal:s,task:u,isSetup:f})=>m.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-xl bg-slate-50/50 border border-slate-100 hover:border-teal-200 hover:bg-white transition-all group",children:[m.jsx("button",{onClick:p=>{p.stopPropagation(),o(s.id,u.id)},className:`mt-0.5 w-6 h-6 rounded-full border-2 flex items-center justify-center shrink-0 transition-all ${u.completed?"bg-teal-500 border-teal-500":"border-slate-300 bg-white hover:border-teal-400"}`,children:u.completed&&m.jsx(Mi,{size:14,className:"text-white"})}),m.jsxs("div",{className:"flex-1 cursor-pointer",onClick:()=>e(s),children:[m.jsx("p",{className:"text-sm font-semibold text-slate-800 leading-snug mb-1",children:f?u.title.replace("Setup: ","Setup: "):u.title.replace(/^Day \d+.*?: /,"")}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("span",{className:`text-[10px] px-1.5 py-0.5 rounded-md font-bold uppercase tracking-wider ${NC(s.domain)}`,children:s.domain}),m.jsxs("span",{className:"text-xs text-slate-400 font-medium truncate",children:[" ",s.title]})]})]}),m.jsx("button",{onClick:()=>e(s),className:"mt-1 text-slate-300 group-hover:text-teal-400 transition-colors",children:m.jsx(To,{size:18})})]},u.id))})]})})},kC=({post:t,currentUser:e,onRefresh:o,onUserClick:i,onEncourage:s})=>{var k;const[u,f]=Z.useState(!1),[p,v]=Z.useState(""),g=t.type==="STARTED",y=t.type==="COMPLETED",T=(k=t.likedBy)==null?void 0:k.includes(e.id),S=()=>{we.toggleLike(t.id),o()},C=I=>{I.preventDefault(),p.trim()&&(we.addComment(t.id,p),v(""),o())};return m.jsxs("div",{className:"bg-white p-5 rounded-3xl shadow-sm border border-slate-100 mb-4 fade-in",children:[m.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[m.jsx("button",{onClick:()=>i(t.userId),children:m.jsx("img",{src:t.userAvatar,alt:t.userName,className:"w-10 h-10 rounded-full object-cover border border-slate-100 shadow-sm"})}),m.jsxs("div",{className:"flex-1",children:[m.jsx("button",{onClick:()=>i(t.userId),className:"font-bold text-slate-900 text-sm hover:underline",children:t.userName}),m.jsx("p",{className:"text-xs text-slate-400 font-medium",children:t.timestamp})]}),m.jsx("span",{className:`px-2 py-1 rounded-full text-[10px] font-bold uppercase tracking-wider border 
          ${g?"bg-blue-50 text-blue-600 border-blue-100":y?"bg-amber-50 text-amber-600 border-amber-100":"bg-slate-50 text-slate-500 border-slate-100"}`,children:t.domain})]}),m.jsxs("div",{className:"mb-4",children:[m.jsx("p",{className:"text-slate-700 leading-relaxed mb-3 text-sm",children:t.content}),t.image&&m.jsx("div",{className:"rounded-2xl overflow-hidden shadow-sm mb-3",children:m.jsx("img",{src:t.image,alt:"Update",className:"w-full h-48 object-cover"})}),t.progressUpdate!==void 0&&m.jsxs("div",{className:"bg-slate-50 p-3 rounded-xl border border-slate-100",children:[m.jsxs("div",{className:"flex justify-between text-xs text-slate-500 mb-1 font-semibold",children:[m.jsx("span",{children:"Goal Progress"}),m.jsxs("span",{children:[t.progressUpdate,"%"]})]}),m.jsx("div",{className:"h-2 w-full bg-slate-200 rounded-full overflow-hidden",children:m.jsx("div",{className:"h-full bg-teal-500 rounded-full transition-all",style:{width:`${t.progressUpdate}%`}})})]})]}),m.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-slate-50",children:[m.jsxs("button",{onClick:S,className:`flex items-center gap-2 transition-colors group ${T?"text-rose-500":"text-slate-400 hover:text-rose-500"}`,children:[m.jsx("div",{className:`p-2 rounded-full transition-colors ${T?"bg-rose-50":"bg-slate-50 group-hover:bg-rose-50"}`,children:y?m.jsx(Tp,{size:18}):m.jsx(ga,{size:18,fill:T?"currentColor":"none"})}),m.jsx("span",{className:"text-sm font-medium",children:t.likes})]}),m.jsxs("button",{onClick:()=>f(!u),className:"flex items-center gap-2 text-slate-400 hover:text-blue-500 transition-colors group",children:[m.jsx("div",{className:"p-2 bg-slate-50 rounded-full group-hover:bg-blue-50 transition-colors",children:m.jsx(Sp,{size:18})}),m.jsx("span",{className:"text-sm font-medium",children:t.comments})]}),m.jsx("button",{onClick:()=>s(t.id),className:"px-4 py-2 bg-teal-50 text-teal-700 rounded-full text-xs font-bold hover:bg-teal-100 hover:shadow-sm transition-all border border-teal-100",children:"Encourage"})]}),u&&m.jsxs("div",{className:"mt-4 pt-4 border-t border-slate-50 animate-in fade-in slide-in-from-top-2",children:[t.commentsList&&t.commentsList.length>0&&m.jsx("div",{className:"space-y-3 mb-4 max-h-40 overflow-y-auto no-scrollbar",children:t.commentsList.map(I=>m.jsxs("div",{className:"flex gap-2",children:[m.jsx("img",{src:`https://api.dicebear.com/7.x/avataaars/svg?seed=${I.userName}`,alt:"Avatar",className:"w-6 h-6 rounded-full"}),m.jsxs("div",{className:"bg-slate-50 px-3 py-2 rounded-2xl rounded-tl-none",children:[m.jsx("p",{className:"text-xs font-bold text-slate-700",children:I.userName}),m.jsx("p",{className:"text-xs text-slate-600",children:I.text})]})]},I.id))}),m.jsxs("form",{onSubmit:C,className:"flex items-center gap-2",children:[m.jsx("input",{type:"text",value:p,onChange:I=>v(I.target.value),placeholder:"Write a comment...",className:"flex-1 bg-slate-50 border border-slate-200 rounded-full px-4 py-2 text-sm outline-none focus:border-teal-400"}),m.jsx("button",{type:"submit",disabled:!p.trim(),className:"p-2 bg-teal-600 text-white rounded-full disabled:opacity-50",children:m.jsx(Cp,{size:14})})]})]})]})},RC=({story:t,onClose:e})=>m.jsxs("div",{className:"fixed inset-0 z-[60] bg-black flex flex-col animate-in fade-in duration-200",children:[m.jsxs("div",{className:"absolute top-0 left-0 right-0 p-4 z-10 bg-gradient-to-b from-black/60 to-transparent flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("img",{src:t.userAvatar,alt:t.userName,className:"w-10 h-10 rounded-full border-2 border-white/50"}),m.jsxs("div",{children:[m.jsx("h4",{className:"text-white font-bold text-sm",children:t.userName}),m.jsx("p",{className:"text-white/70 text-xs",children:t.timestamp})]})]}),m.jsx("button",{onClick:e,className:"p-2 bg-white/10 rounded-full text-white backdrop-blur-md",children:m.jsx(Wt,{size:24})})]}),m.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center relative",children:[m.jsx("img",{src:t.imageUrl,alt:"Story",className:"max-w-full max-h-full object-contain"}),t.caption&&m.jsx("div",{className:"absolute bottom-16 bg-black/50 backdrop-blur-sm px-4 py-2 rounded-xl max-w-[80%] text-center",children:m.jsx("p",{className:"text-white font-medium text-lg shadow-black/50 drop-shadow-md",children:t.caption})})]}),m.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-6 bg-gradient-to-t from-black/80 to-transparent",children:m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("input",{type:"text",placeholder:"Send message...",className:"flex-1 bg-white/10 border border-white/20 rounded-full px-4 py-3 text-white placeholder:text-white/50 outline-none backdrop-blur-md"}),m.jsx("button",{className:"p-3 rounded-full bg-white/10 text-white hover:bg-white/20",children:m.jsx(ga,{size:24})})]})})]}),PC=({targetUserId:t,currentUserId:e,onClose:o,onFollowToggle:i})=>{var p;const[s,u]=Z.useState(null);if(Z.useEffect(()=>{const v=we.getUserById(t);u(v)},[t]),!s)return null;const f=(p=we.getUserById(e))==null?void 0:p.following.includes(t);return m.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-6 fade-in",onClick:o,children:m.jsxs("div",{className:"bg-white rounded-[2.5rem] w-full max-w-xs p-6 relative shadow-2xl",onClick:v=>v.stopPropagation(),children:[m.jsx("button",{onClick:o,className:"absolute top-4 right-4 text-slate-400 hover:text-slate-600",children:m.jsx(Wt,{size:24})}),m.jsxs("div",{className:"flex flex-col items-center text-center mt-2",children:[m.jsx("img",{src:s.avatar,alt:s.name,className:"w-24 h-24 rounded-full border-4 border-slate-50 shadow-lg object-cover mb-4"}),m.jsx("h2",{className:"text-xl font-bold text-slate-900",children:s.name}),m.jsx("p",{className:"text-slate-500 text-sm mb-6",children:s.bio||"Productivity enthusiast."}),m.jsxs("div",{className:"flex gap-4 w-full mb-6 text-center",children:[m.jsxs("div",{className:"flex-1",children:[m.jsx("p",{className:"font-bold text-slate-800",children:s.stats.goalsCompleted}),m.jsx("p",{className:"text-[10px] uppercase text-slate-400 font-bold",children:"Goals"})]}),m.jsxs("div",{className:"flex-1",children:[m.jsx("p",{className:"font-bold text-slate-800",children:s.stats.currentStreak}),m.jsx("p",{className:"text-[10px] uppercase text-slate-400 font-bold",children:"Streak"})]})]}),s.id!==e&&m.jsx("button",{onClick:i,className:`w-full py-3 rounded-xl font-bold flex items-center justify-center gap-2 transition-all ${f?"bg-slate-100 text-slate-600 hover:bg-slate-200":"bg-teal-600 text-white hover:bg-teal-700 shadow-lg shadow-teal-200"}`,children:f?m.jsxs(m.Fragment,{children:[m.jsx(wp,{size:18})," Following"]}):m.jsxs(m.Fragment,{children:[m.jsx(_p,{size:18})," Follow"]})})]})]})})},MC=({onClose:t,onSelectImage:e})=>{const o=Z.useRef(null),i=Z.useRef(null),s=u=>{u.target.files&&u.target.files[0]&&e(u.target.files[0])};return m.jsx("div",{className:"fixed inset-0 z-50 flex items-end sm:items-center justify-center bg-black/50 backdrop-blur-sm p-4 animate-in fade-in",children:m.jsxs("div",{className:"bg-white w-full max-w-sm rounded-[2rem] p-6 space-y-4 animate-in slide-in-from-bottom",children:[m.jsxs("div",{className:"relative",children:[m.jsx("button",{onClick:t,className:"absolute top-0 right-0 text-slate-400 hover:text-slate-600",children:m.jsx(Wt,{size:20})}),m.jsx("h3",{className:"text-xl font-bold text-slate-800 text-center",children:"Add to Story"})]}),m.jsx("input",{type:"file",accept:"image/*",capture:"user",ref:i,className:"hidden",onChange:s}),m.jsx("input",{type:"file",accept:"image/*",ref:o,className:"hidden",onChange:s}),m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsxs("button",{onClick:()=>{var u;return(u=i.current)==null?void 0:u.click()},className:"flex flex-col items-center justify-center gap-2 p-6 rounded-2xl bg-slate-50 border border-slate-200 hover:bg-teal-50 hover:border-teal-200 hover:text-teal-600 transition-all",children:[m.jsx(Lg,{size:32}),m.jsx("span",{className:"font-bold",children:"Camera"})]}),m.jsxs("button",{onClick:()=>{var u;return(u=o.current)==null?void 0:u.click()},className:"flex flex-col items-center justify-center gap-2 p-6 rounded-2xl bg-slate-50 border border-slate-200 hover:bg-teal-50 hover:border-teal-200 hover:text-teal-600 transition-all",children:[m.jsx(xp,{size:32}),m.jsx("span",{className:"font-bold",children:"Gallery"})]})]})]})})},DC=({image:t,onClose:e,onPost:o})=>{const[i,s]=Z.useState("");return m.jsxs("div",{className:"fixed inset-0 z-[60] bg-black flex flex-col animate-in fade-in",children:[m.jsxs("div",{className:"absolute top-0 left-0 right-0 p-4 z-10 flex justify-between items-center",children:[m.jsx("button",{onClick:e,className:"p-2 bg-black/20 rounded-full text-white backdrop-blur-md",children:m.jsx(Wt,{size:24})}),m.jsx("button",{onClick:()=>o(i),className:"px-6 py-2 bg-teal-600 text-white rounded-full font-bold shadow-lg shadow-teal-500/30",children:"Share"})]}),m.jsx("div",{className:"flex-1 flex items-center justify-center bg-black",children:m.jsx("img",{src:t,alt:"Preview",className:"max-w-full max-h-full object-contain"})}),m.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-6 bg-gradient-to-t from-black/80 to-transparent",children:m.jsx("input",{type:"text",value:i,onChange:u=>s(u.target.value),placeholder:"Add a caption...",className:"w-full bg-white/10 border border-white/20 rounded-2xl px-4 py-4 text-white placeholder:text-white/50 outline-none backdrop-blur-md text-center font-medium",autoFocus:!0})})]})};function mp({posts:t,activeGoals:e,user:o,onEncourage:i,onViewGoal:s,onToggleTask:u,onUserUpdate:f,onNavigate:p}){const[v,g]=Z.useState(t),[y,T]=Z.useState(null),[S,C]=Z.useState(null),[k,I]=Z.useState([]),[R,L]=Z.useState(!1),[G,H]=Z.useState(null);Z.useEffect(()=>{g(t)},[t]),Z.useEffect(()=>{I(we.getStories())},[]);const z=()=>{g(we.getPosts())},U=()=>{I(we.getStories())},oe=()=>{if(!S)return;const Q=we.getCurrentUser();if(!Q)return;const me=Q.following.includes(S);let Se;me?Se=we.unfollowUser(S):Se=we.followUser(S),Se.success&&f&&f(Se.updatedUser)},re=Q=>{T(Q),we.markStorySeen(Q.id),I(me=>me.map(Se=>Se.id===Q.id?{...Se,hasUnseen:!1}:Se))},fe=Q=>{const me=new FileReader;me.onloadend=()=>{typeof me.result=="string"&&(H(me.result),L(!1))},me.readAsDataURL(Q)},ee=Q=>{G&&(we.addStory(o.id,G,Q),U(),H(null))};return m.jsxs("div",{className:"min-h-full bg-slate-50",children:[m.jsxs("div",{className:"px-6 pt-8 pb-4 bg-white/80 backdrop-blur-md sticky top-0 z-20 border-b border-slate-100 flex justify-between items-center",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-xl font-bold text-slate-800 tracking-tight",children:"Community"}),m.jsx("p",{className:"text-sm text-slate-500 font-medium",children:"Your productivity circle"})]}),m.jsx("button",{onClick:()=>p(he.CREATE_POST),className:"p-2 bg-teal-50 text-teal-600 rounded-full hover:bg-teal-100 hover:scale-105 transition-all shadow-sm",children:m.jsx(Jg,{size:24})})]}),m.jsx(IC,{user:o,stories:k,onOpenStory:re,onAddStory:()=>L(!0)}),m.jsx(AC,{goals:e,onViewGoal:s,onToggleTask:u}),m.jsxs("div",{className:"px-4 pb-24 pt-2",children:[m.jsx("div",{className:"flex items-center justify-between mb-3 px-2",children:m.jsx("h3",{className:"font-bold text-slate-800",children:"Latest Updates"})}),v.map(Q=>m.jsx(kC,{post:Q,currentUser:o,onRefresh:z,onUserClick:C,onEncourage:i},Q.id))]}),y&&m.jsx(RC,{story:y,onClose:()=>T(null)}),R&&m.jsx(MC,{onClose:()=>L(!1),onSelectImage:fe}),G&&m.jsx(DC,{image:G,onClose:()=>H(null),onPost:ee}),S&&m.jsx(PC,{targetUserId:S,currentUserId:o.id,onClose:()=>C(null),onFollowToggle:oe})]})}function LC({user:t,activeGoals:e,onPost:o,onCancel:i}){var k;const[s,u]=Z.useState(""),[f,p]=Z.useState(((k=e[0])==null?void 0:k.id)||""),[v,g]=Z.useState("UPDATE"),[y,T]=Z.useState(!1),S=e.find(I=>I.id===f),C=()=>{if(!s||!S)return;const I={id:Date.now().toString(),userId:t.id,userName:t.name,userAvatar:t.avatar,goalId:S.id,domain:S.domain,type:v,content:s,likes:0,likedBy:[],comments:0,commentsList:[],timestamp:"Just now",progressUpdate:S.progress,image:y?v==="COMPLETED"?"https://picsum.photos/id/102/800/600":"https://picsum.photos/id/180/800/600":void 0};o(I)};return e.length===0?m.jsxs("div",{className:"min-h-full bg-white flex flex-col items-center justify-center p-8 text-center",children:[m.jsx("p",{className:"text-slate-500 mb-4",children:"You need to start a goal before you can post updates!"}),m.jsx("button",{onClick:i,className:"text-teal-600 font-bold",children:"Go Back"})]}):m.jsxs("div",{className:"min-h-full bg-white z-50 flex flex-col",children:[m.jsxs("div",{className:"px-6 py-4 border-b border-slate-100 flex justify-between items-center bg-white sticky top-0 z-20",children:[m.jsx("button",{onClick:i,className:"p-2 -ml-2 text-slate-400 hover:text-slate-600",children:m.jsx(Wt,{size:24})}),m.jsx("button",{onClick:C,disabled:!s,className:"bg-teal-600 text-white px-6 py-2 rounded-full text-sm font-bold disabled:opacity-50 hover:bg-teal-700 shadow-md shadow-teal-100 transition-all",children:"Post"})]}),m.jsxs("div",{className:"p-6 flex-1 overflow-y-auto",children:[m.jsxs("div",{className:"flex gap-3 mb-6",children:[m.jsx("img",{src:t.avatar,alt:"Me",className:"w-12 h-12 rounded-full border border-slate-100 object-cover"}),m.jsxs("div",{className:"flex-1",children:[m.jsx("h3",{className:"font-bold text-slate-800 text-lg",children:t.name}),m.jsxs("div",{className:"relative inline-block mt-1",children:[m.jsx("select",{className:"appearance-none bg-teal-50 text-teal-700 text-xs font-bold py-1.5 pl-3 pr-8 rounded-lg outline-none cursor-pointer border border-teal-100 hover:border-teal-200 transition-colors w-full",value:f,onChange:I=>p(I.target.value),children:e.map(I=>m.jsx("option",{value:I.id,children:I.title},I.id))}),m.jsx(bg,{size:14,className:"absolute right-2 top-1/2 -translate-y-1/2 text-teal-500 pointer-events-none"})]})]})]}),m.jsx("textarea",{value:s,onChange:I=>u(I.target.value),placeholder:v==="COMPLETED"?"How does it feel to achieve this? Share your journey!":"Share your progress...",className:"w-full h-40 text-lg text-slate-700 placeholder:text-slate-300 outline-none resize-none mb-4",autoFocus:!0}),y&&m.jsxs("div",{className:"relative mb-6 rounded-2xl overflow-hidden shadow-sm group",children:[m.jsx("img",{src:v==="COMPLETED"?"https://picsum.photos/id/102/800/600":"https://picsum.photos/id/180/800/600",alt:"Preview",className:"w-full h-48 object-cover"}),m.jsx("button",{onClick:()=>T(!1),className:"absolute top-2 right-2 bg-black/50 text-white p-1 rounded-full hover:bg-black/70 transition-colors",children:m.jsx(Wt,{size:16})}),v==="COMPLETED"&&m.jsxs("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 to-transparent p-4 flex items-center gap-2 text-amber-300 font-bold",children:[m.jsx(Hn,{size:20}),m.jsx("span",{children:"Completion Certificate Attached"})]})]}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"flex gap-2 overflow-x-auto no-scrollbar py-2",children:[m.jsx("button",{onClick:()=>g("UPDATE"),className:`px-4 py-2 rounded-full text-sm font-medium border transition-all ${v==="UPDATE"?"bg-slate-800 text-white border-slate-800 shadow-md":"border-slate-200 text-slate-500 hover:bg-slate-50"}`,children:"Progress Update"}),m.jsx("button",{onClick:()=>g("COMPLETED"),className:`px-4 py-2 rounded-full text-sm font-medium border transition-all ${v==="COMPLETED"?"bg-amber-400 text-white border-amber-400 shadow-md":"border-slate-200 text-slate-500 hover:bg-slate-50"}`,children:" Goal Completed"})]}),!y&&m.jsxs("button",{onClick:()=>T(!0),className:"flex items-center gap-3 w-full p-4 border border-dashed border-slate-300 rounded-2xl text-slate-400 hover:bg-slate-50 hover:border-teal-300 hover:text-teal-600 transition-all group",children:[m.jsx("div",{className:"p-2 bg-slate-100 rounded-full group-hover:bg-teal-50 text-slate-400 group-hover:text-teal-500 transition-colors",children:v==="COMPLETED"?m.jsx(Hn,{size:20}):m.jsx(xp,{size:20})}),m.jsx("span",{className:"text-sm font-medium",children:v==="COMPLETED"?"Upload Certificate / Photo":"Add Photo or Screenshot"})]})]})]})]})}const bC=({onClose:t})=>{const[e,o]=Z.useState(1500),[i,s]=Z.useState(!1);Z.useEffect(()=>{let v=null;return i&&e>0?v=setInterval(()=>{o(g=>g-1)},1e3):e===0&&s(!1),()=>clearInterval(v)},[i,e]);const u=()=>s(!i),f=()=>{s(!1),o(1500)},p=v=>{const g=Math.floor(v/60),y=v%60;return`${g.toString().padStart(2,"0")}:${y.toString().padStart(2,"0")}`};return m.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-6 animate-in fade-in",children:m.jsxs("div",{className:"bg-white rounded-[2rem] w-full max-w-xs p-8 flex flex-col items-center relative shadow-2xl",children:[m.jsx("button",{onClick:t,className:"absolute top-4 right-4 text-slate-400 hover:text-slate-600",children:m.jsx(Wt,{size:24})}),m.jsx("h3",{className:"text-xl font-bold text-slate-800 mb-6",children:"Focus Timer"}),m.jsx("div",{className:"text-6xl font-mono font-bold text-slate-900 mb-8 tracking-wider",children:p(e)}),m.jsxs("div",{className:"flex gap-4",children:[m.jsx("button",{onClick:u,className:`p-4 rounded-full text-white transition-all shadow-lg hover:scale-105 active:scale-95 ${i?"bg-amber-500 shadow-amber-200":"bg-teal-500 shadow-teal-200"}`,children:i?m.jsx(qg,{size:28,fill:"currentColor"}):m.jsx($g,{size:28,fill:"currentColor"})}),m.jsx("button",{onClick:f,className:"p-4 rounded-full bg-slate-100 text-slate-500 hover:bg-slate-200 transition-all",children:m.jsx(Kg,{size:28})})]})]})})};function UC({goal:t,onToggleTask:e,onBack:o,onUpdateTasks:i,onSkipDay:s}){var te;const[u,f]=Z.useState(null),[p,v]=Z.useState(new Date),[g,y]=Z.useState(!1),[T,S]=Z.useState(!1),[C,k]=Z.useState(""),[I,R]=Z.useState(!1),[L,G]=Z.useState(!1),[H,z]=Z.useState(""),[U,oe]=Z.useState([]),[re,fe]=Z.useState(!1),ee=Z.useRef(null);if(!t)return null;Z.useEffect(()=>{(async()=>{if(!t.id)return;R(!0);const Y=await CC(t.title,t.domain,t.progress);k(Y),R(!1)})()},[t.id,t.title,t.domain,t.progress]),Z.useEffect(()=>{var W;L&&((W=ee.current)==null||W.scrollIntoView({behavior:"smooth"}))},[U,L]);let Q=new Date(t.startDate);isNaN(Q.getTime())&&(Q=new Date),Q.setHours(0,0,0,0);const me=new Date;me.setHours(0,0,0,0);const Se=new Set((t.skippedDates||[]).map(W=>new Date(W).setHours(0,0,0,0))),Ee=t.tasks.map(W=>{const Y=W.title.match(/^Day (\d+)/);return Y?parseInt(Y[1]):0}),Be=Math.max(0,...Ee)+(((te=t.skippedDates)==null?void 0:te.length)||0),Ue=new Date(Q);Ue.setDate(Ue.getDate()+Math.max(0,Be-1)),Ue.setHours(23,59,59,999);const Ne=W=>{const Y=W.getTime();return(t.skippedDates||[]).filter(se=>new Date(se).setHours(0,0,0,0)<=Y).length},J=W=>{if(!W)return{dayNum:0,tasks:[],isSkipped:!1,effectiveDayNum:0};const Y=new Date(W);Y.setHours(0,0,0,0);const se=Se.has(Y.getTime()),ue=1440*60*1e3,K=Y.getTime()-Q.getTime(),ye=Math.floor(K/ue)+1;if(se)return{dayNum:ye,tasks:[],isSkipped:!0,effectiveDayNum:0};const Re=Ne(new Date(Y.getTime()-ue)),et=ye-Re,Ce=(t.tasks||[]).filter(Te=>{if(!Te.title)return!1;const He=`Day ${et}`;return Te.title.startsWith(`${He}:`)||Te.title.startsWith(`${He} `)});return{dayNum:ye,tasks:Ce,isSkipped:!1,effectiveDayNum:et}},O=W=>{const{tasks:Y,isSkipped:se}=J(W);if(se)return"skipped";if(W<Q)return"out-of-range";if(Y.length===0)return"none";const ue=Y.filter(K=>K.completed).length;return ue===Y.length?"complete":ue>0?"partial":W<me?"missed":"pending"},q=async()=>{if(!H.trim()||!u)return;const W=H;z(""),oe(K=>[...K,{id:Date.now().toString(),sender:"user",text:W}]),fe(!0);const{effectiveDayNum:Y,tasks:se}=J(u),ue=await wC(t.title,t.domain,Y,se,W);if(fe(!1),oe(K=>[...K,{id:(Date.now()+1).toString(),sender:"coach",text:ue.message}]),ue.suggested_tasks&&ue.suggested_tasks.length>0&&i){i(t.id,Y,ue.suggested_tasks);const K=ue.suggested_tasks.map(ye=>` ${ye}`).join(`
`);setTimeout(()=>{oe(ye=>[...ye,{id:(Date.now()+2).toString(),sender:"coach",text:`I've updated your plan for today:
${K}`,isSystem:!0}])},500)}},A=()=>{const W=p.getFullYear(),Y=p.getMonth(),se=new Date(W,Y,1),ue=new Date(W,Y+1,0),K=[],ye=se.getDay();for(let Ce=0;Ce<ye;Ce++)K.push(null);const Re=ue.getDate();for(let Ce=1;Ce<=Re;Ce++)K.push(new Date(W,Y,Ce));const et=p.toLocaleString("default",{month:"long",year:"numeric"});return m.jsxs("div",{className:"bg-white rounded-[2.5rem] p-6 shadow-sm border border-slate-100",children:[m.jsxs("div",{className:"flex justify-between items-center mb-6",children:[m.jsx("button",{onClick:()=>v(new Date(W,Y-1)),className:"p-2 text-slate-400 hover:text-slate-800",children:m.jsx(Ug,{size:20})}),m.jsx("h3",{className:"font-bold text-slate-800 text-lg",children:et}),m.jsx("button",{onClick:()=>v(new Date(W,Y+1)),className:"p-2 text-slate-400 hover:text-slate-800",children:m.jsx(To,{size:20})})]}),m.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["S","M","T","W","T","F","S"].map((Ce,Te)=>m.jsx("div",{className:"text-center text-xs font-bold text-slate-300 py-2",children:Ce},Te))}),m.jsx("div",{className:"grid grid-cols-7 gap-y-2 gap-x-1",children:K.map((Ce,Te)=>{if(!Ce)return m.jsx("div",{className:"aspect-square"},Te);Ce.setHours(0,0,0,0);const He=O(Ce),_o=Ce.getTime()===me.getTime(),tt=(u==null?void 0:u.getTime())===Ce.getTime(),xt=Ce>=Q;let Je="bg-transparent text-slate-300";return xt?He==="skipped"?Je="bg-slate-100 text-slate-400 border border-dashed border-slate-300":He==="complete"?Je="bg-teal-500 text-white shadow-md shadow-teal-200":He==="partial"?Je="bg-orange-100 text-orange-600 border border-orange-200":He==="missed"?Je="bg-red-50 text-red-400 border border-red-100":_o?Je="bg-slate-900 text-white shadow-lg":(He==="pending"||He==="none")&&(Je="bg-white border border-slate-200 text-slate-600"):Je="opacity-30 text-slate-300",m.jsxs("button",{onClick:()=>xt&&f(Ce),disabled:!xt,className:`aspect-square rounded-2xl flex flex-col items-center justify-center text-sm font-bold relative transition-all ${Je} ${tt?"ring-2 ring-offset-2 ring-slate-900 z-10":""}`,children:[Ce.getDate(),He!=="none"&&He!=="out-of-range"&&He!=="missed"&&He!=="pending"&&He!=="skipped"&&m.jsx("div",{className:"w-1 h-1 rounded-full bg-current opacity-50 mt-1"}),He==="skipped"&&m.jsx(Yl,{size:10,className:"mt-1 opacity-50"})]},Te)})})]})};if(g){const W=(t.tasks||[]).filter(Y=>Y.title&&Y.title.startsWith("Setup:"));return m.jsxs("div",{className:"min-h-full bg-slate-50 pb-20",children:[m.jsx(zn,{title:"Setup Tasks",onBack:()=>y(!1)}),m.jsx("div",{className:"p-6",children:m.jsxs("div",{className:"bg-white p-6 rounded-3xl shadow-sm border border-slate-100 mb-6",children:[m.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[m.jsx("div",{className:"p-3 bg-teal-50 text-teal-600 rounded-xl",children:m.jsx(Ui,{size:24})}),m.jsxs("div",{children:[m.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"Get Ready"}),m.jsx("p",{className:"text-slate-500 text-sm",children:"One-time preparation tasks."})]})]}),m.jsx("div",{className:"space-y-3",children:W.length>0?W.map(Y=>m.jsxs("button",{onClick:()=>e(t.id,Y.id),className:`w-full flex items-center p-4 rounded-xl border text-left transition-all ${Y.completed?"bg-teal-50 border-teal-200":"bg-slate-50 border-slate-100 hover:border-teal-200"}`,children:[m.jsx("div",{className:`w-6 h-6 rounded-full border-2 flex items-center justify-center mr-4 transition-colors ${Y.completed?"border-teal-500 bg-teal-500 text-white":"border-slate-300"}`,children:Y.completed&&m.jsx(Mi,{size:14})}),m.jsx("span",{className:`font-medium ${Y.completed?"text-teal-800 line-through":"text-slate-700"}`,children:Y.title.replace("Setup: ","")})]},Y.id)):m.jsx("p",{className:"text-slate-400 italic text-center p-4",children:"No setup tasks for this goal."})})]})})]})}if(u){const{effectiveDayNum:W,tasks:Y,isSkipped:se}=J(u),ue=u.toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric"}),K=u.getTime()===me.getTime(),ye=u>me,Re=Y.length>0&&Y.every(Te=>Te.completed),et=(t.skippedDates||[]).length,Ce=Math.max(0,(t.totalSkipsAllowed||0)-et);return m.jsxs("div",{className:"min-h-full bg-slate-50 flex flex-col relative",children:[m.jsxs("div",{className:"bg-white sticky top-0 z-20 px-6 py-4 border-b border-slate-100 flex items-center gap-4 justify-between",children:[m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("button",{onClick:()=>f(null),className:"p-2 -ml-2 rounded-full hover:bg-slate-100 text-slate-600",children:m.jsx(Rg,{size:24})}),m.jsxs("div",{children:[m.jsx("div",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider",children:se?"Skipped":`Day ${W}`}),m.jsx("div",{className:"text-lg font-bold text-slate-800",children:ue})]})]}),m.jsxs("div",{className:"flex gap-2",children:[K&&!se&&m.jsx("button",{onClick:()=>S(!0),className:"p-2 bg-amber-50 text-amber-600 rounded-full hover:bg-amber-100 transition-colors",children:m.jsx(kd,{size:24})}),m.jsx("button",{onClick:()=>G(!0),className:"p-2 bg-teal-50 text-teal-600 rounded-full hover:bg-teal-100",children:m.jsx(Wl,{size:24})})]})]}),m.jsx("div",{className:"p-6 flex-1 flex flex-col pb-24",children:se?m.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-center",children:[m.jsx("div",{className:"w-20 h-20 bg-slate-100 rounded-full flex items-center justify-center mb-4 text-slate-400",children:m.jsx(Yl,{size:40})}),m.jsx("h3",{className:"text-xl font-bold text-slate-700",children:"Rest Day"}),m.jsx("p",{className:"text-slate-500 mt-2 max-w-xs mx-auto",children:"You used a skip for this day. Enjoy your break and come back stronger!"}),m.jsx("button",{onClick:()=>f(null),className:"mt-8 text-teal-600 font-bold hover:underline",children:"Return to Calendar"})]}):m.jsxs(m.Fragment,{children:[!K&&m.jsxs("div",{className:"mb-4 px-4 py-2 bg-amber-50 border border-amber-100 rounded-xl flex items-center gap-2 text-amber-700 text-sm font-medium",children:[ye?m.jsx(kd,{size:16}):m.jsx(bi,{size:16}),m.jsxs("span",{children:[ye?"This day is in the future.":"This day has passed."," Tasks are read-only."]})]}),Y.length>0?m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"mb-8",children:m.jsxs("div",{className:`rounded-3xl p-6 text-white shadow-xl relative overflow-hidden ${K?"bg-gradient-to-br from-slate-900 to-slate-800 shadow-slate-200":"bg-slate-200 shadow-none"}`,children:[m.jsx("div",{className:"absolute top-0 right-0 p-6 opacity-10",children:m.jsx(Xl,{size:100,className:K?"text-white":"text-slate-500"})}),m.jsxs("div",{className:"relative z-10",children:[m.jsx("h2",{className:`text-2xl font-bold mb-2 ${K?"text-white":"text-slate-500"}`,children:K?"Today's Focus":"Daily Plan"}),m.jsx("p",{className:`leading-relaxed ${K?"text-slate-300":"text-slate-400"}`,children:K?"Consistency is what turns average into excellence. Complete these habits to win the day.":"View the tasks scheduled for this day."})]})]})}),m.jsx("div",{className:"space-y-4 mb-8",children:Y.map(Te=>m.jsx("button",{onClick:()=>K&&e(t.id,Te.id),disabled:!K,className:`w-full p-5 rounded-2xl border-2 transition-all flex items-center justify-between group text-left ${Te.completed?"bg-teal-50 border-teal-500 shadow-none":K?"bg-white border-slate-100 shadow-sm hover:border-teal-200 hover:shadow-md":"bg-slate-50 border-slate-100 opacity-70 cursor-not-allowed"}`,children:m.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[m.jsx("div",{className:`shrink-0 w-8 h-8 rounded-full border-2 flex items-center justify-center transition-all ${Te.completed?"bg-teal-500 border-teal-500 text-white":K?"bg-slate-50 border-slate-200 text-transparent group-hover:border-teal-300":"bg-slate-100 border-slate-200 text-transparent"}`,children:m.jsx(Mi,{size:16,strokeWidth:3})}),m.jsxs("div",{className:"flex-1",children:[m.jsx("p",{className:`font-bold text-lg transition-colors ${Te.completed?"text-teal-900":"text-slate-800"}`,children:Te.title?Te.title.replace(/^Day \d+.*?: /,""):"Untitled Task"}),Te.completed&&m.jsx("p",{className:"text-xs text-teal-600 font-bold uppercase tracking-wider mt-0.5",children:"Completed"})]}),!K&&!Te.completed&&m.jsx(bi,{size:16,className:"text-slate-300"})]})},Te.id))}),K&&!Re&&m.jsxs("div",{className:"mb-8",children:[m.jsxs("div",{className:"flex items-center justify-between text-xs text-slate-400 font-bold uppercase tracking-wider mb-2",children:[m.jsx("span",{children:"Difficulty keeping up?"}),m.jsxs("span",{children:[Ce," Skips Left"]})]}),m.jsxs("button",{onClick:()=>{Ce>0&&(s(t.id,u),f(null))},disabled:Ce===0,className:"w-full py-3 border-2 border-dashed border-slate-300 rounded-xl text-slate-500 font-bold hover:bg-slate-50 hover:border-slate-400 hover:text-slate-600 transition-all flex items-center justify-center gap-2 disabled:opacity-50",children:[m.jsx(Yl,{size:18}),Ce>0?"Skip this Day (Shift Tasks)":"No Skips Remaining"]}),m.jsx("p",{className:"text-[10px] text-slate-400 text-center mt-2",children:"Skipping shifts today's tasks to tomorrow and pauses your streak."})]}),Re&&K&&m.jsx("div",{className:"mt-auto animate-in slide-in-from-bottom fade-in duration-500",children:m.jsxs("div",{className:"bg-green-50 border border-green-100 rounded-3xl p-6 text-center",children:[m.jsx("div",{className:"w-16 h-16 bg-green-100 text-green-600 rounded-full flex items-center justify-center mx-auto mb-3",children:m.jsx(jg,{size:32})}),m.jsx("h3",{className:"text-xl font-bold text-green-800 mb-1",children:"Day Complete!"}),m.jsx("p",{className:"text-green-600",children:"Great work keeping your streak alive."}),m.jsx("button",{onClick:()=>f(null),className:"mt-4 px-6 py-2 bg-green-600 text-white rounded-full font-bold shadow-lg shadow-green-200 hover:scale-105 transition-transform",children:"Back to Calendar"})]})})]}):m.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-slate-400 text-center",children:[m.jsx(Dg,{size:48,className:"mb-4 opacity-20"}),m.jsx("p",{children:"No tasks scheduled for this day."}),K&&m.jsxs("button",{onClick:()=>G(!0),className:"mt-6 px-6 py-3 bg-teal-600 text-white rounded-full font-bold shadow-lg shadow-teal-200 flex items-center gap-2",children:[m.jsx(Wl,{size:20})," Ask Coach to Plan Day"]})]})]})}),m.jsxs("button",{onClick:()=>G(!0),className:"fixed bottom-24 right-6 bg-teal-600 text-white px-5 py-4 rounded-full shadow-xl shadow-teal-600/30 hover:scale-105 active:scale-95 transition-all z-40 flex items-center gap-2 font-bold",children:[m.jsx(Sp,{size:24}),"Take Help"]}),T&&m.jsx(bC,{onClose:()=>S(!1)}),L&&m.jsx("div",{className:"fixed inset-0 z-50 flex flex-col justify-end bg-black/50 backdrop-blur-sm animate-in fade-in",children:m.jsxs("div",{className:"bg-white rounded-t-[2.5rem] h-[85vh] flex flex-col shadow-2xl animate-in slide-in-from-bottom duration-300",children:[m.jsxs("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"w-12 h-12 rounded-full bg-teal-50 flex items-center justify-center text-teal-600 border border-teal-100",children:m.jsx(Wl,{size:24})}),m.jsxs("div",{children:[m.jsx("h3",{className:"font-bold text-slate-800 text-lg",children:"Coach AI"}),m.jsxs("p",{className:"text-xs text-green-600 font-bold flex items-center gap-1",children:[m.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse"})," Online  Day ",W," Context"]})]})]}),m.jsx("button",{onClick:()=>G(!1),className:"p-2 bg-slate-50 rounded-full text-slate-400 hover:bg-slate-100",children:m.jsx(Wt,{size:24})})]}),m.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-4 bg-slate-50",children:[U.length===0&&m.jsxs("div",{className:"text-center text-slate-400 my-8",children:[m.jsx("div",{className:"w-16 h-16 bg-white rounded-full flex items-center justify-center mx-auto mb-4 shadow-sm border border-slate-100",children:m.jsx(Ui,{size:32,className:"text-teal-400"})}),m.jsxs("h4",{className:"font-bold text-slate-700 mb-2",children:["How can I help with Day ",W,"?"]}),m.jsx("p",{className:"text-sm max-w-xs mx-auto mb-6",children:"Ask for advice on exercises, tips for focus, or request to modify today's plan."}),!K&&m.jsxs("div",{className:"bg-amber-50 p-2 rounded-lg text-amber-600 text-xs mb-4 inline-block",children:["Note: You are viewing a ",ye?"future":"past"," date. I can give advice, but editing this day is restricted."]}),m.jsxs("div",{className:"flex flex-wrap gap-2 justify-center",children:[m.jsx("button",{onClick:()=>z("Make today's tasks harder"),className:"px-4 py-2 bg-white border border-slate-200 rounded-full text-sm font-medium hover:border-teal-400 hover:text-teal-600 transition-colors",children:" Make it harder"}),m.jsx("button",{onClick:()=>z("I don't have much time today"),className:"px-4 py-2 bg-white border border-slate-200 rounded-full text-sm font-medium hover:border-teal-400 hover:text-teal-600 transition-colors",children:" Short on time"}),m.jsx("button",{onClick:()=>z("Why is this important?"),className:"px-4 py-2 bg-white border border-slate-200 rounded-full text-sm font-medium hover:border-teal-400 hover:text-teal-600 transition-colors",children:" Why this task?"})]})]}),U.map(Te=>m.jsx("div",{className:`flex ${Te.sender==="user"?"justify-end":"justify-start"}`,children:m.jsx("div",{className:`max-w-[85%] p-4 rounded-2xl text-sm leading-relaxed whitespace-pre-line ${Te.isSystem?"bg-blue-50 text-blue-800 border border-blue-100 w-full text-center":Te.sender==="user"?"bg-teal-600 text-white rounded-br-none shadow-md shadow-teal-100":"bg-white text-slate-700 border border-slate-100 rounded-bl-none shadow-sm"}`,children:Te.text})},Te.id)),re&&m.jsx("div",{className:"flex justify-start",children:m.jsxs("div",{className:"bg-white p-4 rounded-2xl rounded-bl-none border border-slate-100 shadow-sm flex gap-1",children:[m.jsx("span",{className:"w-2 h-2 bg-slate-400 rounded-full animate-bounce"}),m.jsx("span",{className:"w-2 h-2 bg-slate-400 rounded-full animate-bounce delay-100"}),m.jsx("span",{className:"w-2 h-2 bg-slate-400 rounded-full animate-bounce delay-200"})]})}),m.jsx("div",{ref:ee})]}),m.jsx("div",{className:"p-4 bg-white border-t border-slate-100 pb-8",children:m.jsxs("div",{className:"relative",children:[m.jsx("input",{type:"text",value:H,onChange:Te=>z(Te.target.value),onKeyDown:Te=>Te.key==="Enter"&&q(),placeholder:"Message your coach...",className:"w-full pl-4 pr-12 py-4 bg-slate-50 border border-slate-200 rounded-2xl outline-none focus:border-teal-500 focus:ring-4 focus:ring-teal-500/10 transition-all text-base"}),m.jsx("button",{onClick:q,disabled:!H.trim()||re,className:"absolute right-2 top-1/2 -translate-y-1/2 p-2.5 bg-teal-600 text-white rounded-xl hover:bg-teal-700 disabled:opacity-50 disabled:hover:bg-teal-600 transition-colors shadow-sm",children:m.jsx(Cp,{size:20})})]})})]})})]})}const b=(t.tasks||[]).filter(W=>W.title&&W.title.startsWith("Setup:")&&!W.completed).length;return m.jsxs("div",{className:"min-h-full bg-slate-50 pb-20",children:[m.jsx(zn,{title:"Goal Progress",subtitle:t.title,onBack:o}),m.jsxs("div",{className:"p-6 space-y-6 animate-in slide-in-from-bottom-4 duration-500",children:[m.jsx("div",{className:"bg-white p-6 rounded-[2rem] shadow-sm border border-slate-100 flex items-center justify-between",children:m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsxs("div",{className:"relative w-16 h-16 flex items-center justify-center",children:[m.jsxs("svg",{className:"w-full h-full transform -rotate-90",children:[m.jsx("circle",{cx:"32",cy:"32",r:"28",stroke:"#f1f5f9",strokeWidth:"6",fill:"transparent"}),m.jsx("circle",{cx:"32",cy:"32",r:"28",stroke:"#14b8a6",strokeWidth:"6",fill:"transparent",strokeDasharray:175.9,strokeDashoffset:175.9-175.9*t.progress/100,strokeLinecap:"round"})]}),m.jsxs("span",{className:"absolute text-sm font-bold text-slate-700",children:[t.progress,"%"]})]}),m.jsxs("div",{children:[m.jsx("p",{className:"text-sm font-bold text-slate-400 uppercase tracking-wide",children:"Consistency"}),m.jsxs("div",{className:"flex items-center gap-1.5 text-slate-800 font-bold text-xl",children:[m.jsx(Di,{size:20,className:t.streak>0?"text-orange-500 fill-orange-500":"text-slate-300"}),t.streak," Day Streak"]})]})]})}),m.jsxs("button",{onClick:()=>y(!0),className:`w-full p-4 rounded-2xl flex items-center justify-between transition-all ${b>0?"bg-gradient-to-r from-blue-500 to-indigo-600 text-white shadow-lg shadow-blue-200":"bg-white border border-slate-100 text-slate-500"}`,children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:`p-2 rounded-xl ${b>0?"bg-white/20":"bg-slate-100"}`,children:m.jsx(Hg,{size:20})}),m.jsxs("div",{className:"text-left",children:[m.jsx("p",{className:"font-bold text-sm",children:"Setup Tasks"}),m.jsx("p",{className:`text-xs ${b>0?"text-blue-100":"text-slate-400"}`,children:b>0?`${b} tasks remaining`:"All prepared!"})]})]}),m.jsx(To,{size:20,className:b>0?"text-blue-100":"text-slate-300"})]}),m.jsxs("div",{className:"bg-indigo-50 border border-indigo-100 p-5 rounded-3xl flex gap-3 items-start",children:[m.jsx(Xl,{size:20,className:"text-indigo-500 shrink-0 mt-0.5",fill:"currentColor"}),m.jsx("p",{className:"text-sm text-indigo-900 font-medium italic",children:I?"Coach is thinking...":`"${C}"`})]}),A(),m.jsxs("div",{className:"flex justify-center gap-4 text-[10px] font-bold text-slate-400 uppercase tracking-wider flex-wrap",children:[m.jsxs("div",{className:"flex items-center gap-1",children:[m.jsx("div",{className:"w-2 h-2 rounded-full bg-teal-500"})," Done"]}),m.jsxs("div",{className:"flex items-center gap-1",children:[m.jsx("div",{className:"w-2 h-2 rounded-full bg-orange-200"})," Partial"]}),m.jsxs("div",{className:"flex items-center gap-1",children:[m.jsx("div",{className:"w-2 h-2 rounded-full bg-slate-900"})," Today"]}),m.jsxs("div",{className:"flex items-center gap-1",children:[m.jsx("div",{className:"w-2 h-2 rounded-full bg-slate-300 border border-dashed border-slate-400"})," Skip"]})]})]})]})}function FC({rewards:t}){const[e,o]=Z.useState(null),i=s=>{s.unlocked&&o(s)};return m.jsxs("div",{className:"min-h-full bg-slate-50 pb-20",children:[m.jsx(zn,{title:"Rewards",subtitle:"Earned from your hard work"}),m.jsxs("div",{className:"p-6",children:[m.jsxs("div",{className:"mb-8 p-6 bg-gradient-to-r from-violet-600 to-purple-600 rounded-3xl text-white shadow-lg shadow-purple-500/20 relative overflow-hidden",children:[m.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-10 transform translate-x-4 -translate-y-4",children:m.jsx(Li,{size:120})}),m.jsxs("div",{className:"flex items-center gap-4 mb-4 relative z-10",children:[m.jsx("div",{className:"p-3 bg-white/20 rounded-2xl backdrop-blur-sm",children:m.jsx(Li,{size:24,className:"text-white"})}),m.jsxs("div",{children:[m.jsx("p",{className:"text-purple-100 text-sm font-medium",children:"Available Points"}),m.jsx("h2",{className:"text-3xl font-bold",children:"1,250"})]})]}),m.jsx("p",{className:"text-xs text-purple-200 opacity-80 relative z-10",children:"Complete goals to unlock more exclusive deals near you."})]}),m.jsxs("h3",{className:"font-bold text-slate-800 mb-4 flex items-center gap-2",children:["Your Vouchers",m.jsxs("span",{className:"text-xs font-normal text-slate-400 bg-slate-100 px-2 py-0.5 rounded-full",children:[t.filter(s=>s.unlocked).length," available"]})]}),m.jsx("div",{className:"space-y-4",children:t.map(s=>m.jsxs("button",{onClick:()=>i(s),className:`w-full text-left relative overflow-hidden rounded-2xl border transition-all duration-300 ${s.unlocked?"bg-white border-slate-100 shadow-sm hover:shadow-md hover:border-teal-200 hover:scale-[1.02]":"bg-slate-50 border-transparent cursor-not-allowed"}`,children:[m.jsxs("div",{className:`flex items-center p-4 gap-4 ${!s.unlocked&&"opacity-50 blur-[0.5px]"}`,children:[m.jsx("div",{className:"w-14 h-14 rounded-xl bg-slate-50 flex items-center justify-center text-2xl border border-slate-100 shrink-0",children:s.logo}),m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsx("h4",{className:"font-bold text-slate-800 truncate",children:s.title}),m.jsx("p",{className:"text-xs text-slate-500 mb-2 truncate",children:s.brand}),m.jsx("span",{className:`text-[10px] px-2 py-1 rounded-md font-bold uppercase tracking-wide ${s.unlocked?"bg-green-50 text-green-700":"bg-slate-200 text-slate-500"}`,children:s.validity})]}),s.unlocked&&m.jsx("div",{className:"text-slate-300",children:m.jsx(Mi,{size:20})})]}),!s.unlocked&&m.jsx("div",{className:"absolute inset-0 flex items-center justify-center z-10 bg-slate-100/10",children:m.jsxs("div",{className:"bg-white/80 backdrop-blur-md px-4 py-2 rounded-full shadow-sm flex items-center gap-2 border border-slate-200",children:[m.jsx(bi,{size:14,className:"text-slate-500"}),m.jsx("span",{className:"text-xs font-bold text-slate-600",children:"Locked"})]})})]},s.id))})]}),e&&m.jsx("div",{className:"fixed inset-0 z-50 flex items-end sm:items-center justify-center bg-black/50 backdrop-blur-sm p-4 animate-in fade-in duration-200",children:m.jsxs("div",{className:"bg-white rounded-3xl w-full max-w-sm p-6 relative shadow-2xl animate-in slide-in-from-bottom duration-300",children:[m.jsx("button",{onClick:()=>o(null),className:"absolute top-4 right-4 p-2 bg-slate-50 rounded-full text-slate-400 hover:text-slate-600",children:m.jsx(Wt,{size:20})}),m.jsxs("div",{className:"flex flex-col items-center text-center",children:[m.jsx("div",{className:"w-20 h-20 rounded-2xl bg-slate-50 border border-slate-100 flex items-center justify-center text-4xl mb-4 shadow-sm",children:e.logo}),m.jsx("h3",{className:"text-xl font-bold text-slate-900",children:e.title}),m.jsx("p",{className:"text-slate-500 text-sm mb-6",children:e.brand}),m.jsxs("div",{className:"w-full bg-slate-50 rounded-xl p-4 mb-6 border border-slate-100",children:[m.jsxs("div",{className:"flex items-center gap-2 text-slate-400 text-xs font-bold uppercase tracking-wider mb-2",children:[m.jsx(Og,{size:12})," Locations"]}),m.jsx("p",{className:"text-sm text-slate-700 font-medium",children:"Valid at all downtown locations."})]}),m.jsxs("div",{className:"w-full border-2 border-dashed border-slate-200 rounded-xl p-4 mb-6 bg-slate-50/50",children:[m.jsx("p",{className:"text-xs text-slate-400 uppercase font-bold tracking-widest mb-1",children:"Voucher Code"}),m.jsx("p",{className:"text-2xl font-mono font-bold text-slate-800 tracking-widest",children:"SAVE-2025"})]}),m.jsx("button",{className:"w-full py-4 bg-teal-600 text-white rounded-2xl font-bold shadow-lg shadow-teal-600/20 hover:bg-teal-700 transition-colors",children:"Redeem Now"})]})]})})]})}function GC({user:t,goals:e,onGoalSelect:o,onLogout:i}){const[s,u]=Z.useState("GOALS");return m.jsxs("div",{className:"min-h-full bg-slate-50 pb-20",children:[m.jsxs("div",{className:"bg-white pb-6 rounded-b-[2.5rem] shadow-sm border-b border-slate-100",children:[m.jsxs("div",{className:"px-6 py-4 flex justify-between items-center",children:[m.jsx("h2",{className:"text-lg font-bold text-slate-800",children:"My Profile"}),m.jsx("button",{onClick:i,className:"p-2 bg-slate-50 rounded-full text-slate-500 hover:bg-slate-100 hover:text-rose-600 transition-colors",children:m.jsx(zg,{size:20})})]}),m.jsxs("div",{className:"flex flex-col items-center text-center px-6",children:[m.jsxs("div",{className:"relative mb-4 group",children:[m.jsx("img",{src:t.avatar,alt:"Profile",className:"w-24 h-24 rounded-full border-4 border-white shadow-xl shadow-slate-200 object-cover"}),m.jsx("div",{className:"absolute bottom-0 right-0 w-8 h-8 bg-teal-500 border-4 border-white rounded-full flex items-center justify-center text-white text-[10px] font-bold shadow-sm",children:"5"})]}),m.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-1",children:t.name}),m.jsx("p",{className:"text-slate-500 text-sm max-w-xs leading-relaxed mb-4",children:t.bio}),m.jsxs("div",{className:"flex gap-6 mb-6",children:[m.jsxs("div",{className:"text-center",children:[m.jsx("p",{className:"text-lg font-bold text-slate-900",children:t.followers.length}),m.jsx("p",{className:"text-xs text-slate-400 font-medium uppercase tracking-wide",children:"Followers"})]}),m.jsx("div",{className:"w-px bg-slate-100"}),m.jsxs("div",{className:"text-center",children:[m.jsx("p",{className:"text-lg font-bold text-slate-900",children:t.following.length}),m.jsx("p",{className:"text-xs text-slate-400 font-medium uppercase tracking-wide",children:"Following"})]})]}),m.jsxs("div",{className:"flex items-center gap-4 w-full justify-center",children:[m.jsxs("div",{className:"text-center flex-1 p-3 rounded-2xl bg-orange-50/50 border border-orange-100",children:[m.jsxs("div",{className:"flex items-center justify-center gap-1 text-orange-500 mb-1",children:[m.jsx(Di,{size:18,fill:"currentColor"}),m.jsx("span",{className:"font-bold text-lg text-slate-800",children:t.stats.currentStreak})]}),m.jsx("div",{className:"text-[10px] text-slate-400 uppercase font-bold tracking-wider",children:"Streak"})]}),m.jsxs("div",{className:"text-center flex-1 p-3 rounded-2xl bg-blue-50/50 border border-blue-100",children:[m.jsxs("div",{className:"flex items-center justify-center gap-1 text-blue-500 mb-1",children:[m.jsx(Fi,{size:18}),m.jsx("span",{className:"font-bold text-lg text-slate-800",children:e.length})]}),m.jsx("div",{className:"text-[10px] text-slate-400 uppercase font-bold tracking-wider",children:"Active"})]}),m.jsxs("div",{className:"text-center flex-1 p-3 rounded-2xl bg-purple-50/50 border border-purple-100",children:[m.jsxs("div",{className:"flex items-center justify-center gap-1 text-purple-500 mb-1",children:[m.jsx(Hn,{size:18}),m.jsx("span",{className:"font-bold text-lg text-slate-800",children:t.stats.goalsCompleted})]}),m.jsx("div",{className:"text-[10px] text-slate-400 uppercase font-bold tracking-wider",children:"Done"})]})]})]})]}),m.jsx("div",{className:"sticky top-0 bg-slate-50/95 backdrop-blur-sm z-10 px-6 pt-6 pb-2",children:m.jsxs("div",{className:"flex p-1 bg-white rounded-xl border border-slate-200 shadow-sm",children:[m.jsx("button",{onClick:()=>u("GOALS"),className:`flex-1 py-2 text-sm font-bold rounded-lg transition-all ${s==="GOALS"?"bg-slate-800 text-white shadow-md":"text-slate-500 hover:bg-slate-50"}`,children:"Active Goals"}),m.jsx("button",{onClick:()=>u("HISTORY"),className:`flex-1 py-2 text-sm font-bold rounded-lg transition-all ${s==="HISTORY"?"bg-slate-800 text-white shadow-md":"text-slate-500 hover:bg-slate-50"}`,children:"Certificates"})]})}),m.jsx("div",{className:"p-6 pt-2",children:s==="GOALS"?m.jsx("div",{className:"space-y-4 fade-in",children:e.length===0?m.jsxs("div",{className:"text-center p-12 bg-white rounded-3xl border border-dashed border-slate-200 text-slate-400",children:[m.jsx(Fi,{size:32,className:"mx-auto mb-3 opacity-20"}),m.jsxs("p",{className:"text-sm",children:["No active goals yet.",m.jsx("br",{}),"Time to commit!"]})]}):e.map(f=>m.jsxs("button",{onClick:()=>o&&o(f),className:"w-full group bg-white p-5 rounded-2xl border border-slate-100 shadow-sm hover:shadow-md hover:border-teal-200 transition-all flex items-center justify-between text-left",children:[m.jsxs("div",{className:"flex-1",children:[m.jsx("span",{className:"inline-block px-2 py-0.5 rounded text-[10px] font-bold bg-slate-100 text-slate-500 mb-2 uppercase tracking-wide group-hover:bg-teal-50 group-hover:text-teal-600 transition-colors",children:f.domain}),m.jsx("h4",{className:"font-bold text-slate-800 text-lg",children:f.title}),m.jsxs("p",{className:"text-xs text-slate-400 mt-1 flex items-center gap-1",children:[m.jsx(Di,{size:12,className:f.streak>0?"text-orange-500":""})," ",f.streak," day streak"]})]}),m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsxs("div",{className:"relative w-12 h-12 flex items-center justify-center",children:[m.jsxs("svg",{className:"w-full h-full transform -rotate-90",children:[m.jsx("circle",{cx:"24",cy:"24",r:"20",stroke:"currentColor",strokeWidth:"4",fill:"transparent",className:"text-slate-100"}),m.jsx("circle",{cx:"24",cy:"24",r:"20",stroke:"currentColor",strokeWidth:"4",fill:"transparent",className:"text-teal-500 transition-all duration-1000",strokeDasharray:125.6,strokeDashoffset:125.6-125.6*f.progress/100,strokeLinecap:"round"})]}),m.jsxs("span",{className:"absolute text-[10px] font-bold text-slate-700",children:[f.progress,"%"]})]}),m.jsx(To,{size:20,className:"text-slate-300 group-hover:text-teal-500 transition-colors"})]})]},f.id))}):m.jsxs("div",{className:"grid grid-cols-2 gap-4 fade-in",children:[m.jsxs("div",{className:"aspect-[4/5] bg-gradient-to-br from-yellow-100 to-amber-100 rounded-2xl border border-amber-200 p-4 flex flex-col justify-between relative overflow-hidden shadow-sm hover:scale-[1.02] transition-transform",children:[m.jsx("div",{className:"absolute top-0 right-0 p-2 text-amber-300 opacity-20",children:m.jsx(Hn,{size:64})}),m.jsx("div",{className:"w-8 h-8 rounded-full bg-white/50 backdrop-blur flex items-center justify-center text-amber-600",children:m.jsx(Hn,{size:16})}),m.jsxs("div",{children:[m.jsx("div",{className:"text-[10px] font-bold text-amber-700 uppercase tracking-wider mb-1",children:"Completed"}),m.jsx("div",{className:"font-bold text-amber-900 text-sm leading-tight",children:"30 Day Fitness Challenge"})]})]}),m.jsxs("div",{className:"aspect-[4/5] bg-gradient-to-br from-blue-100 to-indigo-100 rounded-2xl border border-blue-200 p-4 flex flex-col justify-between relative overflow-hidden shadow-sm hover:scale-[1.02] transition-transform",children:[m.jsx("div",{className:"absolute top-0 right-0 p-2 text-blue-300 opacity-20",children:m.jsx(Hn,{size:64})}),m.jsx("div",{className:"w-8 h-8 rounded-full bg-white/50 backdrop-blur flex items-center justify-center text-blue-600",children:m.jsx(Hn,{size:16})}),m.jsxs("div",{children:[m.jsx("div",{className:"text-[10px] font-bold text-blue-700 uppercase tracking-wider mb-1",children:"Completed"}),m.jsx("div",{className:"font-bold text-blue-900 text-sm leading-tight",children:"Read 5 Books"})]})]})]})})]})}function VC({user:t,onUserUpdate:e}){const[o,i]=Z.useState(""),[s,u]=Z.useState([]);Z.useEffect(()=>{u(we.getSuggestedUsers())},[]),Z.useEffect(()=>{o.trim()?u(we.searchUsers(o)):u(we.getSuggestedUsers())},[o]);const f=p=>{const v=t.following.includes(p);let g;v?g=we.unfollowUser(p):g=we.followUser(p),g.success&&e(g.updatedUser)};return m.jsxs("div",{className:"min-h-full bg-slate-50 pb-20",children:[m.jsx(zn,{title:"Discover",subtitle:"Find friends and accountability partners"}),m.jsx("div",{className:"p-4 sticky top-20 z-10 bg-slate-50/95 backdrop-blur-sm",children:m.jsxs("div",{className:"relative",children:[m.jsx("input",{type:"text",value:o,onChange:p=>i(p.target.value),placeholder:"Search by name...",className:"w-full pl-12 pr-4 py-4 bg-white border border-slate-200 rounded-2xl shadow-sm outline-none focus:border-teal-500 focus:ring-4 focus:ring-teal-500/10 transition-all"}),m.jsx(Ep,{size:20,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400"})]})}),m.jsx("div",{className:"p-4 space-y-4",children:s.length===0?m.jsx("div",{className:"text-center py-12 text-slate-400",children:m.jsxs("p",{children:['No users found matching "',o,'"']})}):s.map(p=>{const v=t.following.includes(p.id);return m.jsxs("div",{className:"bg-white p-4 rounded-2xl shadow-sm border border-slate-100 flex items-center justify-between animate-in fade-in slide-in-from-bottom-2",children:[m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("img",{src:p.avatar,alt:p.name,className:"w-12 h-12 rounded-full border border-slate-100 object-cover"}),m.jsxs("div",{children:[m.jsx("h4",{className:"font-bold text-slate-800",children:p.name}),m.jsx("p",{className:"text-xs text-slate-500 max-w-[150px] truncate",children:p.bio||"Ready to achieve."}),m.jsxs("div",{className:"flex gap-2 mt-1 text-[10px] text-slate-400 font-bold uppercase tracking-wider",children:[m.jsxs("span",{children:[p.stats.goalsCompleted," Goals"]}),m.jsx("span",{children:""}),m.jsxs("span",{children:[p.stats.currentStreak," Day Streak"]})]})]})]}),m.jsx("button",{onClick:()=>f(p.id),className:`p-3 rounded-xl transition-all ${v?"bg-slate-100 text-slate-600 hover:bg-slate-200":"bg-teal-600 text-white shadow-lg shadow-teal-200 hover:scale-105 active:scale-95"}`,children:v?m.jsx(wp,{size:20}):m.jsx(_p,{size:20})})]},p.id)})})]})}function HC({goals:t,onGoalSelect:e,onAddGoal:o}){return m.jsxs("div",{className:"min-h-full bg-slate-50 pb-20",children:[m.jsx(zn,{title:"My Goals",subtitle:"Track your commitments"}),m.jsx("div",{className:"p-6 space-y-4 animate-in fade-in",children:t.length===0?m.jsxs("div",{className:"text-center p-12 bg-white rounded-3xl border border-dashed border-slate-200 text-slate-400 mt-8",children:[m.jsx(Fi,{size:48,className:"mx-auto mb-4 opacity-20"}),m.jsx("h3",{className:"text-lg font-bold text-slate-600 mb-2",children:"No active goals"}),m.jsx("p",{className:"text-sm mb-6",children:"Start a new journey today."}),m.jsx("button",{onClick:o,className:"px-6 py-3 bg-teal-600 text-white rounded-xl font-bold shadow-lg shadow-teal-200 hover:scale-105 transition-transform",children:"Create Goal"})]}):m.jsxs(m.Fragment,{children:[t.map(i=>m.jsxs("button",{onClick:()=>e(i),className:"w-full group bg-white p-5 rounded-2xl border border-slate-100 shadow-sm hover:shadow-md hover:border-teal-200 transition-all flex items-center justify-between text-left",children:[m.jsxs("div",{className:"flex-1",children:[m.jsx("span",{className:"inline-block px-2 py-0.5 rounded text-[10px] font-bold bg-slate-100 text-slate-500 mb-2 uppercase tracking-wide group-hover:bg-teal-50 group-hover:text-teal-600 transition-colors",children:i.domain}),m.jsx("h4",{className:"font-bold text-slate-800 text-lg",children:i.title}),m.jsxs("p",{className:"text-xs text-slate-400 mt-1 flex items-center gap-1",children:[m.jsx(Di,{size:12,className:i.streak>0?"text-orange-500":""})," ",i.streak," day streak"]})]}),m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsxs("div",{className:"relative w-12 h-12 flex items-center justify-center",children:[m.jsxs("svg",{className:"w-full h-full transform -rotate-90",children:[m.jsx("circle",{cx:"24",cy:"24",r:"20",stroke:"currentColor",strokeWidth:"4",fill:"transparent",className:"text-slate-100"}),m.jsx("circle",{cx:"24",cy:"24",r:"20",stroke:"currentColor",strokeWidth:"4",fill:"transparent",className:"text-teal-500 transition-all duration-1000",strokeDasharray:125.6,strokeDashoffset:125.6-125.6*i.progress/100,strokeLinecap:"round"})]}),m.jsxs("span",{className:"absolute text-[10px] font-bold text-slate-700",children:[i.progress,"%"]})]}),m.jsx(To,{size:20,className:"text-slate-300 group-hover:text-teal-500 transition-colors"})]})]},i.id)),m.jsxs("button",{onClick:o,className:"w-full p-4 border-2 border-dashed border-slate-200 rounded-2xl text-slate-400 hover:bg-white hover:border-teal-300 hover:text-teal-600 transition-all flex items-center justify-center gap-2 font-bold mt-4",children:[m.jsx(va,{size:20})," Add New Goal"]})]})})]})}const zC=()=>m.jsx("div",{className:"absolute inset-0 pointer-events-none overflow-hidden z-50",children:[...Array(20)].map((t,e)=>m.jsx("div",{className:"absolute animate-bounce",style:{left:`${Math.random()*100}%`,top:"-20px",animationDuration:`${2+Math.random()*3}s`,animationDelay:`${Math.random()*2}s`},children:m.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:["#FCD34D","#F87171","#60A5FA","#34D399"][Math.floor(Math.random()*4)]}})},e))});function BC(){const[t,e]=Z.useState(!0),[o,i]=Z.useState(null),[s,u]=Z.useState(he.ONBOARDING),[f,p]=Z.useState(null),[v,g]=Z.useState(null),[y,T]=Z.useState([]),[S,C]=Z.useState([]),[k,I]=Z.useState([]),[R,L]=Z.useState(!1),[G,H]=Z.useState(null);Z.useEffect(()=>{(async()=>{we.init();const q=we.getPosts();T(q);const A=we.getCurrentUser();if(A){i(A);const b=we.getGoals(),te=we.getRewards();C(b),I(te),b.length>0?u(he.HOME):u(he.GOAL_SELECTION)}else u(he.ONBOARDING);setTimeout(()=>e(!1),1500)})()},[]);const z=O=>{i(O),we.updateUser(O)},U=O=>{C(O),we.saveGoals(O)},oe=O=>{I(O)},re=O=>{i(O);const q=we.getGoals();C(q),q.length>0?u(he.HOME):u(he.GOAL_SELECTION)},fe=()=>{we.logout(),i(null),C([]),g(null),u(he.ONBOARDING)},ee=O=>{if(!o)return;const q={...O,userId:o.id},A=[q,...S];U(A),g(q);const b={id:Date.now().toString(),userId:o.id,userName:o.name,userAvatar:o.avatar,domain:O.domain,type:"STARTED",content:`I just committed to a new goal: ${O.title}. Let's do this! `,likes:0,likedBy:[],comments:0,commentsList:[],timestamp:"Just now"};we.addPost(b),T(we.getPosts()),u(he.HOME)},Q=O=>{we.addPost(O),T(we.getPosts()),u(he.HOME)},me=O=>{we.addComment(O,"You got this! "),T(we.getPosts())},Se=(O,q)=>{const A=new Map;let b=0;q.forEach(tt=>{const xt=tt.title.match(/^Day (\d+)/);if(xt){const Je=parseInt(xt[1]);Je>b&&(b=Je);const On=A.get(Je)||[];On.push(tt),A.set(Je,On)}});const te=[];A.forEach((tt,xt)=>{tt.length>0&&tt.every(Je=>Je.completed)&&te.push(xt)});const W=new Date(O.startDate);W.setHours(0,0,0,0);const Y=new Set;let se=1,ue=new Date(W);for(;se<=b+10;){const tt=ue.toISOString().split("T")[0];if((O.skippedDates||[]).some(Je=>Je.startsWith(tt))){ue.setDate(ue.getDate()+1);continue}te.includes(se)&&Y.add(tt),se++,ue.setDate(ue.getDate()+1)}const K=new Date;K.setHours(0,0,0,0);const ye=K.toISOString().split("T")[0];let Re=new Date(K),et=0;for(Y.has(ye)||Re.setDate(Re.getDate()-1);;){const tt=Re.toISOString().split("T")[0];if(Y.has(tt))et++,Re.setDate(Re.getDate()-1);else break}const Ce=q.length,Te=q.filter(tt=>tt.completed).length,He=Ce===0?0:Math.round(Te/Ce*100);return{streak:et,progress:He,completed:He===100}},Ee=(O,q)=>{if(!o)return;let A=!1,b=null,te=[...k],W={...o};const Y=S.map(se=>{if(se.id!==O)return se;const ue=se.tasks.map(Ce=>Ce.id===q?{...Ce,completed:!Ce.completed}:Ce),{streak:K,progress:ye,completed:Re}=Se(se,ue),et={...se,tasks:ue,progress:ye,streak:K,completed:Re};return Re&&!se.completed&&(A=!0,b=et),et});if(A&&b){H(b),L(!0);const se=te.filter(ue=>!ue.unlocked);if(se.length>0){const ue=se[0];te=te.map(K=>K.id===ue.id?{...K,unlocked:!0}:K),oe(te)}W.stats.goalsCompleted+=1,z(W)}U(Y)},ke=(O,q,A)=>{const b=S.map(te=>{if(te.id!==O)return te;const W=`Day ${q}`,Y=te.tasks.filter(K=>!K.title.startsWith(`${W}:`)&&!K.title.startsWith(`${W} `)),se=A.map((K,ye)=>({id:`t-updated-${Date.now()}-${ye}`,title:`Day ${q}: ${K}`,completed:!1})),ue=[...Y,...se];return{...te,tasks:ue}});U(b),v&&v.id===O&&g(b.find(te=>te.id===O)||null)},Be=(O,q)=>{const A=q.toISOString(),b=S.map(te=>{if(te.id!==O)return te;const W=te.skippedDates||[];return W.some(Y=>Y.split("T")[0]===A.split("T")[0])?te:{...te,skippedDates:[...W,A]}});U(b),v&&v.id===O&&g(b.find(te=>te.id===O)||null)},Ue=O=>{L(!1),u(O?he.REWARDS:he.HOME)},Ne=O=>{g(O),u(he.GOAL_DETAIL)},J=()=>{if(!o)switch(s){case he.LOGIN:return m.jsx(Ld,{mode:"LOGIN",onAuthSuccess:re,onSwitchMode:()=>u(he.SIGNUP)});case he.SIGNUP:return m.jsx(Ld,{mode:"SIGNUP",onAuthSuccess:re,onSwitchMode:()=>u(he.LOGIN)});default:return m.jsx(r0,{onNavigate:u})}switch(s){case he.GOAL_SELECTION:return m.jsx(bd,{onSelect:q=>{p(q),u(he.AI_SETUP)},onBack:S.length>0?()=>u(he.HOME):void 0});case he.AI_SETUP:return m.jsx(_C,{domain:f||"Habits",onGoalCreated:ee,onBack:()=>u(he.GOAL_SELECTION)});case he.HOME:return m.jsx(mp,{posts:y,activeGoals:S,user:o,onEncourage:me,onViewGoal:Ne,onToggleTask:Ee,onUserUpdate:z,onNavigate:u});case he.SEARCH:return m.jsx(VC,{user:o,onUserUpdate:z});case he.GOALS:return m.jsx(HC,{goals:S,onGoalSelect:Ne,onAddGoal:()=>u(he.GOAL_SELECTION)});case he.CREATE_POST:return m.jsx(LC,{user:o,activeGoals:S,onPost:Q,onCancel:()=>u(he.HOME)});case he.GOAL_DETAIL:const O=S.find(q=>q.id===(v==null?void 0:v.id))||v;return O?m.jsx(UC,{goal:O,onToggleTask:Ee,onBack:()=>u(he.HOME),onUpdateTasks:ke,onSkipDay:Be}):m.jsx(bd,{onSelect:()=>{}});case he.REWARDS:return m.jsx(FC,{rewards:k});case he.PROFILE:return m.jsx(GC,{user:o,goals:S,onGoalSelect:Ne,onLogout:fe});default:return m.jsx(mp,{posts:y,activeGoals:S,user:o,onEncourage:()=>{},onViewGoal:Ne,onToggleTask:Ee,onUserUpdate:z,onNavigate:u})}};return t?m.jsx(e0,{onBypass:()=>e(!1)}):m.jsxs(Ng,{hasNav:!!o&&s!==he.AI_SETUP&&s!==he.GOAL_SELECTION&&s!==he.CREATE_POST&&s!==he.GOAL_DETAIL&&s!==he.ONBOARDING,children:[J(),o&&s!==he.AI_SETUP&&s!==he.GOAL_SELECTION&&s!==he.CREATE_POST&&s!==he.GOAL_DETAIL&&m.jsx(Zg,{currentScreen:s,onNavigate:u}),R&&m.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-6 fade-in",children:[m.jsx(zC,{}),m.jsxs("div",{className:"bg-white rounded-[2.5rem] p-8 text-center w-full max-w-sm relative shadow-2xl transform scale-100 transition-all",children:[m.jsx("button",{onClick:()=>Ue(!1),className:"absolute top-4 right-4 p-2 text-slate-300 hover:text-slate-500",children:m.jsx(Wt,{size:24})}),m.jsx("div",{className:"w-20 h-20 bg-teal-100 text-teal-600 rounded-full flex items-center justify-center mx-auto mb-6 shadow-inner animate-bounce",children:m.jsx(Tp,{size:40})}),m.jsx("h2",{className:"text-3xl font-bold text-slate-900 mb-2",children:"Goal Crushed!"}),m.jsxs("p",{className:"text-slate-500 mb-8",children:["You completed ",m.jsx("span",{className:"text-teal-600 font-bold",children:G==null?void 0:G.title}),". That's a huge milestone!"]}),m.jsx("div",{className:"bg-gradient-to-r from-violet-500 to-purple-600 p-4 rounded-2xl text-white mb-6 shadow-lg shadow-purple-200",children:m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"p-2 bg-white/20 rounded-xl",children:m.jsx(Li,{size:24})}),m.jsxs("div",{className:"text-left",children:[m.jsx("p",{className:"text-xs font-medium text-purple-100",children:"Reward Unlocked"}),m.jsx("p",{className:"font-bold",children:"New Voucher Available"})]})]})}),m.jsx("button",{onClick:()=>Ue(!0),className:"w-full py-4 bg-slate-900 text-white rounded-2xl font-bold shadow-lg shadow-slate-900/20 hover:scale-105 transition-transform",children:"Claim Reward"})]})]})]})}const Aa=document.getElementById("root");if(!Aa)throw new Error("Could not find root element to mount to");const OC=_g.createRoot(Aa);try{OC.render(m.jsx(yg.StrictMode,{children:m.jsx(BC,{})}))}catch(t){console.error("Render Error:",t),Aa.innerHTML='<div style="padding: 20px; color: red;">Application crashed. Check console for details.</div>'}
